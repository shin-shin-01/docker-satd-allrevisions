,CommitID,Dockerfile,Comment
0,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
12,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
16,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
21,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
22,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
23,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
24,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
25,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
26,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
27,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
28,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
29,6f1c628fa92feea8b28e98e56a990500f2326936,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
30,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
31,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
32,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
33,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
34,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
35,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
36,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
37,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
38,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
39,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
40,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
41,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
42,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
43,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
44,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
45,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
46,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
47,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
48,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
49,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
50,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
51,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
52,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
53,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
54,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
55,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
56,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
57,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
58,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
59,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
60,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
61,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
62,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
63,bd0e24fdb2c21cccb32d9ee821e0c96cf8b2f393,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
64,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
65,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
66,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
67,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
68,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
69,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
70,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
71,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
72,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
73,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
74,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
75,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
76,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
77,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
78,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
79,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
80,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile.template,"# verify Tomcat Native is working properly
"
81,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
82,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
83,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
84,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
85,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
86,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
87,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
88,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
89,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
90,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
91,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
92,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
93,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
94,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
95,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
96,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
97,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
98,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
99,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
100,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
101,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
102,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
103,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
104,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
105,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
106,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
107,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
108,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
109,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
110,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
111,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
112,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
113,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
114,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
115,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
116,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
117,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
118,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
119,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
120,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
121,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
122,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
123,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
124,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
125,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
126,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
127,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
128,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
129,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
130,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
131,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
132,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
133,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
134,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
135,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
136,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
137,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
138,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
139,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
140,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
141,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
142,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
143,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
144,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
145,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
146,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
147,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
148,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
149,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
150,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
151,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
152,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
153,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
154,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
155,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
156,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
157,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
158,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
159,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
160,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
161,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
162,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
163,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
164,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
165,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
166,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
167,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
168,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
169,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
170,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
171,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
172,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
173,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
174,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
175,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
176,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
177,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
178,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
179,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
180,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
181,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
182,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
183,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
184,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
185,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
186,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
187,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
188,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
189,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
190,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
191,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
192,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
193,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
194,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
195,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
196,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
197,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
198,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
199,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
200,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
201,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
202,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
203,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
204,980cfce753b4b185feda907b35648089386607af,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
205,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
206,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
207,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
208,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
209,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
210,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
211,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
212,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
213,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
214,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
215,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
216,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
217,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
218,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
219,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
220,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
221,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
222,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
223,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
224,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
225,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
226,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
227,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
228,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
229,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
230,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
231,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
232,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
233,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
234,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
235,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
236,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
237,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
238,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
239,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
240,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
241,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
242,8c174e038fe911fecc1a920a56afc10fd343bce2,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
243,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
244,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
245,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
246,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
247,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
248,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
249,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
250,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
251,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
252,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
253,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
254,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
255,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
256,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
257,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
258,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
259,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
260,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
261,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
262,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
263,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
264,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
265,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
266,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
267,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
268,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
269,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
270,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
271,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
272,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
273,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
274,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
275,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
276,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
277,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
278,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
279,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
280,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
281,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
282,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
283,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
284,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
285,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
286,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
287,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
288,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
289,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
290,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
291,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
292,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
293,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
294,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
295,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
296,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
297,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
298,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
299,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
300,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
301,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
302,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
303,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
304,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
305,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
306,1ce7bd2eed038fb722527f41f0f185322d53e979,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
307,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
308,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
309,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
310,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
311,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
312,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
313,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
314,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
315,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
316,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
317,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
318,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
319,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
320,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
321,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
322,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
323,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
324,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
325,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
326,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
327,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
328,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
329,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
330,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
331,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
332,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
333,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
334,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
335,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
336,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
337,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
338,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
339,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
340,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
341,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
342,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
343,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
344,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
345,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
346,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
347,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
348,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
349,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
350,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
351,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
352,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
353,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
354,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
355,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
356,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
357,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
358,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
359,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
360,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
361,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
362,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
363,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
364,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
365,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
366,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
367,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
368,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
369,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
370,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
371,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
372,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
373,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
374,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
375,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
376,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
377,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
378,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
379,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
380,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
381,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
382,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
383,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
384,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
385,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
386,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
387,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
388,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
389,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
390,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
391,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
392,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
393,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
394,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
395,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
396,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
397,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
398,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
399,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
400,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
401,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
402,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
403,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
404,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
405,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
406,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
407,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
408,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
409,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
410,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
411,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
412,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
413,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
414,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
415,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
416,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
417,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
418,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
419,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
420,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
421,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
422,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
423,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
424,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
425,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
426,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
427,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
428,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
429,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
430,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
431,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
432,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
433,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
434,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
435,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
436,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
437,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
438,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
439,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
440,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
441,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
442,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
443,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
444,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
445,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
446,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
447,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
448,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
449,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
450,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
451,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
452,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
453,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
454,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
455,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
456,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
457,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
458,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
459,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
460,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
461,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
462,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
463,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
464,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
465,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
466,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
467,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
468,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
469,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
470,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
471,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
472,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
473,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
474,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
475,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
476,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
477,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
478,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
479,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
480,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
481,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
482,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
483,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
484,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
485,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
486,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
487,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
488,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
489,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
490,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
491,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
492,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
493,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
494,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
495,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
496,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
497,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
498,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
499,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
500,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
501,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
502,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
503,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
504,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
505,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
506,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
507,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
508,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
509,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
510,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
511,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
512,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
513,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
514,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
515,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
516,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
517,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
518,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
519,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
520,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
521,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
522,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
523,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
524,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
525,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
526,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
527,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
528,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
529,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
530,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
531,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
532,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
533,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
534,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
535,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
536,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
537,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
538,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
539,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
540,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
541,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
542,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
543,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
544,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
545,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
546,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
547,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
548,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
549,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
550,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
551,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
552,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
553,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
554,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
555,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
556,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
557,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
558,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
559,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
560,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
561,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
562,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
563,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
564,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
565,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
566,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
567,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
568,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
569,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
570,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
571,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
572,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
573,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
574,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
575,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
576,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
577,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
578,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
579,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
580,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
581,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
582,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
583,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
584,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
585,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
586,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
587,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
588,aff42b3c40f2dff08b421fce66b81983706bfc50,/8-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
589,aff42b3c40f2dff08b421fce66b81983706bfc50,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
590,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
591,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
592,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
593,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
594,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
595,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
596,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
597,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
598,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
599,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
600,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
601,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
602,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
603,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
604,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
605,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
606,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
607,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
608,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
609,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
610,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
611,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
612,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
613,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
614,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
615,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
616,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
617,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
618,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
619,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
620,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
621,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
622,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
623,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
624,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
625,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
626,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
627,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
628,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
629,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
630,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
631,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
632,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
633,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
634,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
635,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
636,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
637,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
638,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
639,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
640,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
641,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
642,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
643,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
644,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
645,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
646,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
647,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
648,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
649,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
650,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
651,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
652,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
653,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
654,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
655,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
656,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
657,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
658,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
659,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
660,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
661,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
662,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
663,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
664,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
665,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
666,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
667,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
668,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
669,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
670,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
671,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
672,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
673,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
674,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
675,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
676,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
677,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
678,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
679,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
680,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
681,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
682,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
683,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
684,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
685,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
686,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
687,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
688,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
689,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
690,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
691,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
692,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
693,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
694,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
695,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
696,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
697,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
698,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
699,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
700,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
701,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
702,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
703,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
704,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
705,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
706,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
707,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
708,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
709,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
710,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
711,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
712,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
713,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
714,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
715,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
716,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
717,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
718,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
719,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
720,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
721,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
722,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
723,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
724,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
725,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
726,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
727,b81ffe88c0bb6d760b6ee7d9c056469d59e68311,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
728,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
729,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
730,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
731,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
732,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
733,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
734,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
735,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
736,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
737,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
738,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
739,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
740,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
741,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
742,62f0d3f0ded1df407b771c127fccc6d60990da8a,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
743,62f0d3f0ded1df407b771c127fccc6d60990da8a,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
744,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
745,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
746,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
747,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
748,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
749,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
750,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
751,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
752,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
753,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
754,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
755,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
756,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
757,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
758,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
759,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
760,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
761,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
762,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
763,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
764,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
765,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
766,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
767,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
768,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
769,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
770,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
771,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
772,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
773,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
774,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
775,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
776,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
777,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
778,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
779,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
780,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
781,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
782,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
783,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
784,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
785,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
786,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
787,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
788,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
789,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
790,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
791,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
792,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
793,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
794,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
795,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
796,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
797,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
798,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
799,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
800,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
801,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
802,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
803,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
804,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
805,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
806,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
807,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
808,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
809,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
810,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
811,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
812,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
813,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
814,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
815,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
816,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
817,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
818,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
819,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
820,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
821,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
822,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
823,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
824,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
825,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
826,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
827,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
828,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
829,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
830,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
831,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
832,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
833,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
834,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
835,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
836,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
837,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
838,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
839,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
840,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
841,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
842,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
843,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
844,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
845,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
846,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
847,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
848,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
849,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
850,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
851,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
852,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
853,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
854,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
855,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
856,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
857,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
858,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
859,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
860,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
861,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
862,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
863,d3d5932c4c852fa2861c68d6d1adaf0ce1b1a870,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
864,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
865,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
866,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
867,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
868,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
869,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
870,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
871,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
872,747c33edc8015de543775ceee497c5926d05795f,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
873,747c33edc8015de543775ceee497c5926d05795f,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
874,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
875,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
876,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
877,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
878,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
879,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
880,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
881,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
882,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
883,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
884,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
885,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
886,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
887,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
888,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
889,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
890,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
891,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
892,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
893,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
894,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
895,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
896,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
897,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
898,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
899,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
900,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
901,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
902,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
903,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
904,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
905,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
906,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
907,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
908,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
909,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
910,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
911,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
912,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
913,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
914,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
915,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
916,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
917,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
918,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
919,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
920,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
921,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
922,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
923,3e2747c34ded033f4c7adf108f51f3634d025adf,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
924,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
925,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
926,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
927,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
928,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
929,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
930,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
931,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
932,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
933,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
934,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
935,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
936,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
937,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
938,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
939,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
940,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
941,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
942,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
943,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
944,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
945,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
946,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
947,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
948,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
949,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
950,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
951,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
952,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
953,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
954,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
955,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
956,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
957,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
958,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
959,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
960,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
961,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
962,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
963,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
964,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
965,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
966,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
967,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
968,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
969,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
970,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
971,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
972,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
973,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
974,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
975,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
976,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
977,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
978,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
979,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
980,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
981,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
982,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
983,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
984,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
985,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
986,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
987,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
988,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
989,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
990,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
991,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
992,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
993,09406a39e2a096338762737c2f716effee73533f,/7/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
994,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
995,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
996,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
997,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
998,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
999,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1000,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1001,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1002,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1003,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1004,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1005,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1006,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1007,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1008,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1009,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1010,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1011,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1012,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1013,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1014,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1015,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1016,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1017,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1018,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1019,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1020,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1021,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1022,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1023,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1024,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1025,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1026,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1027,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1028,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1029,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1030,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1031,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1032,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1033,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1034,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1035,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1036,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1037,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1038,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1039,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1040,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1041,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1042,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1043,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1044,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1045,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1046,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1047,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1048,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1049,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1050,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1051,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1052,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1053,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1054,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1055,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1056,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1057,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1058,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1059,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1060,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1061,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1062,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1063,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1064,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1065,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1066,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1067,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1068,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1069,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1070,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1071,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1072,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1073,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1074,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1075,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1076,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1077,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1078,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1079,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
1080,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1081,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1082,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1083,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
1084,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1085,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1086,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1087,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1088,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1089,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1090,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1091,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1092,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1093,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1094,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1095,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1096,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1097,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1098,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1099,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1100,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1101,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1102,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1103,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1104,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1105,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1106,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1107,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1108,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1109,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1110,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1111,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1112,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1113,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1114,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1115,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1116,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1117,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1118,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1119,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1120,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1121,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1122,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1123,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1124,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1125,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1126,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1127,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1128,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1129,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1130,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1131,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1132,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1133,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1134,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1135,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1136,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1137,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1138,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1139,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1140,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1141,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1142,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1143,7a16673434d629938f064b5aed86df44ee49b53a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1144,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1145,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1146,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1147,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1148,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1149,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1150,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1151,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1152,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1153,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1154,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1155,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1156,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1157,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1158,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1159,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1160,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1161,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1162,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1163,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1164,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1165,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1166,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1167,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1168,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1169,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1170,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1171,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1172,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1173,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1174,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1175,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1176,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1177,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1178,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1179,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1180,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1181,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1182,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1183,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1184,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1185,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1186,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1187,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1188,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1189,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1190,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1191,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1192,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1193,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1194,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1195,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1196,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1197,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1198,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1199,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1200,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1201,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1202,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1203,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1204,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1205,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1206,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1207,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1208,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1209,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1210,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1211,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1212,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1213,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1214,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1215,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1216,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1217,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1218,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1219,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1220,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1221,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1222,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1223,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1224,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1225,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1226,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1227,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1228,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1229,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1230,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1231,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1232,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1233,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1234,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1235,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1236,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1237,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1238,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1239,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1240,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1241,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1242,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1243,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1244,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1245,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1246,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1247,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1248,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1249,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1250,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1251,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1252,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1253,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1254,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1255,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1256,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1257,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1258,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1259,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1260,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1261,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1262,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1263,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1264,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1265,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1266,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1267,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1268,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1269,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1270,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1271,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1272,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1273,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1274,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1275,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1276,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1277,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1278,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1279,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1280,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1281,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1282,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1283,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1284,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1285,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1286,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1287,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1288,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1289,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1290,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1291,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1292,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1293,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1294,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1295,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1296,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1297,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
1298,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1299,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1300,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1301,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1302,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1303,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1304,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1305,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1306,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1307,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1308,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1309,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1310,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1311,42acf24d6056b82d396da6658943f5c26e7b5cc1,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1312,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1313,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1314,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1315,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1316,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1317,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1318,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1319,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1320,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1321,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1322,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1323,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1324,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1325,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1326,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1327,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1328,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1329,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1330,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1331,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1332,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1333,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1334,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1335,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1336,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1337,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
1338,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1339,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1340,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1341,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1342,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1343,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1344,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1345,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1346,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1347,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1348,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1349,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1350,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1351,a55c4f55b74edcf25c7a7cb8feb2b934d4724e8d,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1352,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1353,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1354,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1355,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1356,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1357,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1358,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1359,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1360,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1361,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1362,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1363,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1364,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1365,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1366,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1367,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1368,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1369,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1370,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1371,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1372,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1373,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1374,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1375,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1376,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1377,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1378,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1379,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1380,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1381,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1382,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1383,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1384,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1385,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1386,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1387,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1388,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1389,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1390,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1391,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1392,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1393,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1394,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1395,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1396,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1397,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1398,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1399,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1400,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1401,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1402,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1403,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1404,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1405,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1406,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1407,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1408,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1409,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1410,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1411,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1412,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1413,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1414,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1415,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1416,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1417,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1418,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1419,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1420,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1421,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1422,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1423,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1424,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1425,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1426,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1427,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1428,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1429,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1430,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1431,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1432,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1433,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1434,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1435,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1436,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1437,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1438,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1439,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1440,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1441,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1442,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1443,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1444,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1445,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1446,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1447,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1448,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1449,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1450,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1451,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1452,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1453,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1454,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1455,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1456,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1457,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1458,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1459,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1460,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1461,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1462,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1463,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1464,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1465,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1466,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1467,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1468,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1469,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1470,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1471,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1472,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1473,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1474,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1475,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1476,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1477,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1478,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1479,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1480,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1481,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1482,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1483,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1484,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1485,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1486,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1487,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1488,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1489,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1490,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1491,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1492,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1493,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1494,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1495,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1496,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1497,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1498,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1499,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1500,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1501,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1502,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1503,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1504,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
1505,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1506,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
1507,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1508,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
1509,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1510,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1511,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1512,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
1513,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1514,35e89070548111261cf6a9e9398556d5b2c4f7f7,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1515,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1516,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1517,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1518,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1519,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1520,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1521,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1522,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1523,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1524,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1525,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1526,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1527,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1528,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1529,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1530,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1531,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1532,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1533,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1534,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1535,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1536,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1537,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1538,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
1539,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1540,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
1541,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
1542,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1543,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1544,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1545,989f50ed5db788921a4954109b90362e2209295e,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1546,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1547,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1548,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1549,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1550,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1551,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1552,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1553,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1554,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1555,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1556,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1557,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1558,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1559,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1560,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1561,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1562,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1563,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1564,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1565,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1566,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1567,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1568,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1569,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1570,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1571,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1572,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1573,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1574,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1575,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1576,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1577,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1578,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1579,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1580,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1581,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1582,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1583,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1584,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1585,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1586,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1587,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1588,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1589,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1590,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1591,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1592,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1593,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1594,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1595,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1596,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1597,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1598,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1599,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1600,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1601,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1602,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1603,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1604,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1605,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1606,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1607,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1608,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1609,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1610,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1611,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1612,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1613,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1614,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1615,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1616,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1617,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1618,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1619,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1620,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1621,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1622,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1623,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1624,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1625,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1626,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1627,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1628,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1629,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1630,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1631,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"#?}}""; \
"
1632,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1633,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1634,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1635,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1636,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1637,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1638,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1639,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1640,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1641,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1642,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1643,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1644,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1645,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1646,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1647,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1648,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1649,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1650,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1651,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1652,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1653,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1654,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1655,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1656,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1657,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1658,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1659,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
1660,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1661,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1662,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1663,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1664,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1665,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1666,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1667,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1668,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1669,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1670,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1671,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1672,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1673,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1674,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1675,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1676,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1677,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1678,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1679,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1680,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1681,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1682,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1683,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
1684,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1685,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1686,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1687,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1688,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1689,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1690,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1691,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1692,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1693,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1694,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1695,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1696,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1697,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1698,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1699,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1700,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1701,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1702,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1703,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1704,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1705,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1706,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1707,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1708,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1709,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1710,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1711,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
1712,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1713,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1714,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1715,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1716,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
1717,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1718,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1719,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1720,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1721,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1722,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1723,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1724,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1725,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1726,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1727,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1728,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1729,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1730,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1731,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1732,8b361a27d3ea746682b8dd93327d6b5e376b8dee,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1733,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1734,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1735,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1736,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1737,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1738,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1739,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1740,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1741,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1742,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1743,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1744,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1745,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1746,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1747,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1748,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1749,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1750,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1751,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1752,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1753,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1754,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1755,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1756,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1757,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1758,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1759,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1760,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1761,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1762,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1763,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1764,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1765,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1766,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1767,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1768,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1769,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1770,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1771,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1772,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1773,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1774,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1775,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1776,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1777,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1778,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1779,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1780,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1781,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1782,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1783,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1784,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1785,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1786,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
1787,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1788,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
1789,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1790,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
1791,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1792,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1793,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
1794,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# if the version is outdated, we have to pull from the archive :/
"
1795,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1796,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1797,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1798,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1799,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1800,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1801,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1802,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1803,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1804,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1805,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1806,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1807,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1808,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1809,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1810,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1811,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1812,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
1813,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
1814,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1815,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1816,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
1817,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1818,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1819,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1820,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1821,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1822,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1823,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1824,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1825,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1826,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1827,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1828,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1829,116d0258150ad27d7141d16f7492a5215a4b8fec,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1830,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1831,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1832,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1833,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1834,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1835,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1836,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1837,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1838,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1839,1ff9d0feae228557a87285620126df53c44868ca,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1840,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1841,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1842,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1843,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1844,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
1845,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
1846,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1847,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1848,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1849,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1850,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1851,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1852,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1853,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1854,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1855,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1856,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1857,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1858,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1859,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1860,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1861,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1862,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1863,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1864,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1865,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1866,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1867,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
1868,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1869,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1870,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1871,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1872,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1873,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1874,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1875,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1876,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1877,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1878,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1879,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
1880,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1881,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1882,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1883,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1884,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
1885,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1886,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1887,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1888,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1889,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1890,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1891,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1892,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1893,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1894,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1895,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1896,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
1897,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1898,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1899,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1900,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1901,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1902,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1903,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1904,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1905,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1906,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1907,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1908,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1909,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1910,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1911,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1912,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1913,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1914,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1915,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1916,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1917,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1918,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1919,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1920,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1921,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1922,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1923,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
1924,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1925,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1926,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1927,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
1928,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1929,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1930,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1931,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1932,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1933,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1934,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1935,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1936,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1937,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1938,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1939,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
1940,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1941,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1942,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1943,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1944,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1945,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1946,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1947,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1948,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1949,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1950,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1951,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1952,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1953,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
1954,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1955,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
1956,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
1957,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
1958,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
1959,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1960,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1961,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1962,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1963,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1964,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1965,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
1966,df283818c14e8f24c294e2d3cd23099ef92e6643,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
1967,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1968,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1969,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1970,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1971,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
1972,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1973,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1974,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
1975,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1976,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1977,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1978,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
1979,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1980,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1981,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
1982,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
1983,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
1984,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1985,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
1986,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
1987,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
1988,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
1989,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
1990,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
1991,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
1992,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
1993,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
1994,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
1995,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
1996,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
1997,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
1998,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
1999,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2000,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2001,b6a8794a995e0f482a3832b7c7041eec9a804f2a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2002,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2003,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2004,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2005,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2006,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2007,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2008,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2009,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2010,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2011,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2012,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2013,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2014,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2015,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2016,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2017,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2018,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2019,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2020,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2021,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2022,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2023,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2024,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2025,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2026,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2027,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2028,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2029,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2030,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2031,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2032,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2033,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2034,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2035,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2036,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
2037,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2038,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2039,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
2040,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2041,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2042,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
2043,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/Dockerfile.template,"# verify Tomcat Native is working properly
"
2044,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2045,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2046,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2047,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2048,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2049,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2050,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2051,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2052,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2053,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2054,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2055,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2056,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2057,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2058,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2059,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2060,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2061,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2062,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2063,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2064,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2065,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2066,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2067,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2068,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2069,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2070,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2071,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2072,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2073,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2074,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2075,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2076,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2077,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2078,41b2a08dbf016a551c859559a4e27c4f4fce2964,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2079,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2080,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2081,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2082,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2083,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2084,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2085,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2086,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2087,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2088,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2089,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
2090,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2091,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2092,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2093,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2094,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
2095,221fa4f6f1abfa3f033d4be781fa48faecbee212,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2096,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2097,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2098,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2099,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2100,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2101,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2102,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2103,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2104,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2105,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2106,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2107,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2108,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2109,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2110,de50f0009a7a3ca6929890241d0a0f5d5a071f23,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2111,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2112,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2113,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2114,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2115,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2116,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2117,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2118,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2119,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2120,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2121,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2122,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2123,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2124,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2125,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2126,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2127,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2128,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2129,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2130,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2131,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2132,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2133,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2134,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2135,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2136,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2137,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2138,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2139,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2140,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2141,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2142,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2143,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2144,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2145,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2146,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
2147,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2148,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2149,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2150,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2151,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2152,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2153,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2154,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2155,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2156,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
2157,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2158,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2159,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2160,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2161,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2162,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2163,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2164,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2165,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2166,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2167,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2168,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2169,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2170,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2171,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2172,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2173,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2174,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2175,124c504d29896db286570ad835d7746e0d3ebca9,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2176,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2177,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2178,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2179,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2180,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2181,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2182,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2183,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2184,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2185,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2186,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2187,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
2188,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2189,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
2190,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
2191,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2192,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2193,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
2194,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile.template,"# verify Tomcat Native is working properly
"
2195,278a10ace50c5e7addd879fae5c5332e57b2fe37,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2196,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2197,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2198,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2199,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2200,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2201,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2202,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2203,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2204,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2205,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2206,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2207,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2208,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2209,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2210,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2211,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2212,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2213,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2214,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2215,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2216,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2217,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2218,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2219,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2220,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2221,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2222,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2223,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2224,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2225,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2226,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2227,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2228,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2229,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2230,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2231,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2232,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2233,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2234,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2235,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2236,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2237,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2238,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2239,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2240,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2241,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2242,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2243,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2244,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2245,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2246,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2247,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2248,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2249,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2250,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2251,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2252,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2253,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2254,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2255,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2256,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2257,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2258,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2259,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2260,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2261,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2262,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2263,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2264,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2265,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2266,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2267,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2268,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2269,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2270,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2271,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2272,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2273,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2274,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2275,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2276,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2277,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2278,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2279,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2280,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2281,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2282,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2283,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2284,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2285,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2286,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2287,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2288,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2289,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2290,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2291,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2292,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2293,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2294,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2295,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2296,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2297,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2298,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2299,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2300,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2301,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2302,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2303,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2304,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2305,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2306,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2307,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2308,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2309,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2310,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2311,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2312,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2313,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2314,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2315,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2316,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2317,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2318,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2319,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2320,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2321,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2322,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2323,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2324,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2325,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2326,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2327,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2328,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2329,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2330,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2331,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2332,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2333,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2334,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2335,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2336,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2337,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2338,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2339,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2340,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2341,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2342,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2343,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2344,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2345,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2346,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2347,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2348,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2349,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2350,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2351,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2352,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2353,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2354,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2355,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2356,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2357,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2358,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2359,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
2360,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2361,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2362,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2363,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2364,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
2365,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2366,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2367,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2368,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2369,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2370,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2371,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2372,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2373,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2374,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2375,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2376,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2377,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2378,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2379,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2380,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2381,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2382,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2383,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2384,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2385,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2386,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2387,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2388,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2389,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2390,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2391,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2392,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2393,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2394,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2395,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2396,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2397,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2398,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2399,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2400,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2401,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2402,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2403,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2404,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2405,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2406,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2407,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2408,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2409,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2410,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2411,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2412,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2413,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2414,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2415,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2416,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2417,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2418,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2419,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2420,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2421,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2422,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2423,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2424,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2425,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2426,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2427,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2428,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2429,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2430,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2431,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2432,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2433,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2434,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2435,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2436,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2437,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2438,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2439,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2440,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2441,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2442,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2443,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2444,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2445,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2446,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2447,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2448,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2449,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2450,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2451,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2452,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2453,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2454,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2455,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2456,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2457,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2458,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2459,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2460,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2461,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2462,637e4b66a8b8b077f6aca548d369c9fbcbbfe522,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2463,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2464,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2465,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2466,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2467,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
2468,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2469,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2470,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2471,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2472,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2473,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2474,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2475,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2476,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2477,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2478,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2479,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2480,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2481,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2482,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2483,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2484,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2485,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2486,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2487,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2488,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2489,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2490,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2491,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2492,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2493,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2494,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2495,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2496,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2497,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2498,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2499,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2500,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2501,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2502,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2503,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2504,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
2505,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2506,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2507,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2508,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2509,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
2510,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2511,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2512,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2513,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2514,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2515,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
2516,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2517,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2518,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2519,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
2520,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2521,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2522,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2523,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2524,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2525,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2526,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2527,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2528,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2529,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2530,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2531,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2532,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2533,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2534,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2535,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2536,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2537,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2538,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2539,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2540,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2541,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2542,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2543,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2544,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
2545,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2546,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2547,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2548,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2549,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2550,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2551,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2552,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2553,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2554,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2555,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2556,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2557,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2558,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2559,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2560,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2561,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2562,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2563,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2564,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2565,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2566,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2567,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2568,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2569,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2570,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2571,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2572,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2573,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2574,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2575,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2576,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2577,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2578,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2579,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2580,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2581,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2582,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2583,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2584,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2585,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2586,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2587,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2588,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2589,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2590,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2591,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2592,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2593,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2594,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2595,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2596,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2597,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2598,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2599,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2600,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2601,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2602,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2603,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2604,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2605,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2606,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2607,844072d81f9970fa1229fb971340ef49978a3533,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
2608,844072d81f9970fa1229fb971340ef49978a3533,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2609,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2610,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2611,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2612,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2613,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2614,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2615,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2616,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2617,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2618,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2619,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2620,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2621,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2622,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2623,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2624,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2625,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2626,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2627,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2628,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2629,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2630,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2631,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2632,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2633,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2634,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2635,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2636,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2637,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2638,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2639,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2640,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2641,af1646c18d6398e6cf27a29d32ff58b994d2566e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2642,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2643,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2644,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2645,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2646,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2647,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2648,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2649,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2650,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2651,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2652,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2653,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2654,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2655,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2656,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2657,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2658,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2659,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2660,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2661,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2662,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2663,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2664,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2665,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2666,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2667,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2668,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2669,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2670,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2671,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2672,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2673,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2674,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2675,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2676,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2677,ef856d48e431a9b83730b5c14c0d9a84d70156a5,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2678,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2679,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2680,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2681,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2682,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2683,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2684,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2685,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2686,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2687,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2688,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2689,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2690,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2691,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2692,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2693,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2694,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2695,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2696,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2697,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2698,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2699,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2700,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2701,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2702,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2703,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2704,989f50ed5db788921a4954109b90362e2209295e,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2705,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2706,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2707,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2708,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2709,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2710,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2711,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2712,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2713,efe59ebe52ba94045f4923be85214f4431a982a6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2714,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2715,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2716,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2717,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2718,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2719,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2720,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2721,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2722,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2723,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2724,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2725,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
2726,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2727,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2728,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2729,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2730,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2731,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2732,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2733,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2734,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2735,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2736,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2737,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2738,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2739,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2740,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
2741,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2742,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2743,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2744,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2745,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2746,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2747,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2748,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
2749,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
2750,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2751,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2752,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2753,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
2754,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2755,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2756,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2757,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2758,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2759,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2760,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2761,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2762,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2763,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2764,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2765,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2766,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2767,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2768,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2769,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2770,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2771,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2772,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2773,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2774,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2775,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2776,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2777,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2778,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2779,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2780,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2781,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2782,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
2783,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2784,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2785,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2786,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2787,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2788,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2789,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2790,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2791,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2792,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2793,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2794,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2795,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2796,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2797,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2798,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2799,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2800,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2801,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2802,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2803,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2804,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2805,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2806,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2807,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2808,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2809,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2810,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2811,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2812,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2813,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2814,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2815,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2816,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
2817,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
2818,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2819,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2820,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2821,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2822,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
2823,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2824,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2825,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2826,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2827,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2828,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2829,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2830,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2831,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2832,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2833,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2834,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2835,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2836,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
2837,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2838,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2839,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2840,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2841,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2842,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2843,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2844,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2845,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
2846,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2847,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2848,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2849,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2850,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2851,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2852,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2853,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2854,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2855,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2856,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2857,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2858,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2859,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2860,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2861,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2862,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2863,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2864,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2865,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
2866,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2867,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
2868,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2869,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2870,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2871,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
2872,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2873,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2874,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2875,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2876,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2877,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2878,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2879,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2880,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
2881,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2882,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2883,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2884,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
2885,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2886,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2887,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2888,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2889,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
2890,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2891,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2892,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2893,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2894,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2895,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2896,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2897,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2898,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2899,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2900,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2901,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2902,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2903,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
2904,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2905,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2906,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2907,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2908,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2909,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2910,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2911,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2912,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2913,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2914,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2915,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2916,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
2917,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2918,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2919,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2920,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
2921,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
2922,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"#?}}""; \
"
2923,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2924,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
2925,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
2926,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2927,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2928,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2929,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
2930,a55c4f55b74edcf25c7a7cb8feb2b934d4724e8d,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2931,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2932,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2933,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2934,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2935,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2936,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2937,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2938,e7a7901e48c2f4d4fd7e150623b9a9f44e14866e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2939,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2940,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2941,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2942,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2943,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2944,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2945,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2946,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2947,42acf24d6056b82d396da6658943f5c26e7b5cc1,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2948,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
2949,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2950,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2951,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2952,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
2953,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
2954,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
2955,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
2956,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
2957,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
2958,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2959,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
2960,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
2961,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
2962,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2963,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
2964,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2965,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2966,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2967,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
2968,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2969,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
2970,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2971,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
2972,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2973,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2974,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2975,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
2976,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
2977,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2978,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2979,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2980,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2981,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2982,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
2983,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2984,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
2985,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
2986,8fffa7246aacceb0e7390aafe978efeea9c104e3,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
2987,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2988,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2989,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2990,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
2991,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
2992,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
2993,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
2994,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
2995,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
2996,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
2997,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
2998,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
2999,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3000,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3001,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3002,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3003,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3004,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3005,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3006,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3007,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3008,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3009,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3010,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3011,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3012,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3013,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3014,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3015,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3016,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3017,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3018,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3019,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3020,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3021,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3022,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3023,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3024,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3025,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3026,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3027,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3028,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3029,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3030,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3031,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3032,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3033,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3034,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3035,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3036,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3037,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3038,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3039,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3040,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3041,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3042,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3043,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3044,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3045,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3046,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3047,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3048,1c81097952f3ba0f4c84f7b7160ccdac34c3b4cf,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3049,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3050,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3051,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3052,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3053,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3054,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3055,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3056,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3057,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3058,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3059,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3060,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3061,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3062,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3063,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3064,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3065,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3066,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3067,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3068,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3069,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3070,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3071,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3072,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3073,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
3074,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3075,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3076,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
3077,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
3078,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3079,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3080,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3081,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3082,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3083,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3084,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3085,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3086,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3087,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3088,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3089,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3090,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3091,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3092,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3093,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3094,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3095,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3096,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3097,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3098,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3099,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3100,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3101,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3102,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3103,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3104,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3105,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3106,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3107,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3108,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3109,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3110,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3111,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3112,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3113,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3114,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3115,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3116,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3117,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3118,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3119,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3120,f5fc6e54e0ce5cd54254074a0fe152a541ef29c5,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3121,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3122,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3123,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3124,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3125,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3126,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3127,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3128,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3129,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3130,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3131,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3132,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3133,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3134,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3135,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3136,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3137,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3138,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3139,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3140,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3141,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3142,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3143,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3144,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3145,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3146,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3147,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3148,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
3149,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3150,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
3151,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3152,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
3153,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3154,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3155,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3156,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
3157,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3158,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3159,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3160,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3161,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3162,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3163,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3164,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3165,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3166,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3167,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3168,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3169,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3170,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3171,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3172,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3173,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3174,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3175,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3176,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3177,888959b490387f1f7fcb8c117b23b4423f9f1bef,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3178,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3179,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3180,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3181,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3182,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3183,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3184,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3185,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3186,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3187,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3188,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3189,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3190,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3191,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
3192,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
3193,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3194,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
3195,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3196,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3197,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3198,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3199,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3200,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3201,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3202,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
3203,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
3204,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3205,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3206,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3207,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
3208,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3209,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3210,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3211,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3212,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3213,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3214,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3215,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3216,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3217,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3218,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3219,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3220,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3221,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3222,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3223,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3224,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3225,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3226,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3227,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3228,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3229,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3230,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3231,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3232,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3233,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3234,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3235,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3236,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3237,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3238,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3239,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3240,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3241,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3242,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3243,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3244,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3245,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3246,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3247,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3248,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3249,47c20041e3021753525bce2c127f183eac7082f0,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3250,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3251,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3252,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3253,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3254,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3255,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3256,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3257,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3258,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3259,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3260,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3261,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3262,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3263,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3264,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3265,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3266,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3267,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3268,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3269,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3270,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3271,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3272,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3273,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3274,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3275,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3276,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3277,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3278,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3279,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3280,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
3281,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3282,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3283,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3284,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
3285,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3286,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3287,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3288,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3289,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
3290,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3291,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3292,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3293,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3294,644ae253d0e833410fde43bf71b442294cc33613,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3295,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3296,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3297,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3298,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3299,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3300,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3301,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3302,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3303,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3304,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3305,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3306,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3307,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3308,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
3309,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3310,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3311,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3312,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3313,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3314,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3315,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3316,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3317,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3318,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3319,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3320,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3321,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3322,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3323,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3324,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3325,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3326,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3327,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3328,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3329,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3330,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3331,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3332,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3333,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3334,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3335,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3336,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3337,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3338,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3339,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3340,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3341,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3342,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3343,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3344,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3345,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3346,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3347,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3348,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3349,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3350,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3351,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3352,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3353,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3354,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3355,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3356,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3357,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3358,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3359,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3360,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3361,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3362,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3363,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3364,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3365,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
3366,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3367,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3368,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3369,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3370,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3371,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3372,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3373,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3374,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3375,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3376,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3377,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3378,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3379,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3380,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3381,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3382,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3383,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3384,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3385,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3386,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3387,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3388,747c33edc8015de543775ceee497c5926d05795f,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3389,747c33edc8015de543775ceee497c5926d05795f,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3390,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
3391,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3392,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3393,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3394,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
3395,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3396,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3397,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3398,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3399,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3400,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3401,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3402,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3403,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3404,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3405,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3406,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3407,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3408,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3409,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3410,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
3411,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3412,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3413,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3414,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
3415,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3416,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3417,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3418,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3419,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3420,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3421,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3422,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3423,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3424,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3425,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3426,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3427,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3428,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3429,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3430,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3431,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3432,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3433,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3434,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3435,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3436,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3437,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3438,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3439,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3440,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3441,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3442,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3443,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3444,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3445,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3446,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3447,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3448,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3449,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3450,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3451,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3452,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3453,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3454,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3455,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3456,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3457,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3458,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3459,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3460,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3461,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3462,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3463,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3464,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3465,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3466,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3467,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3468,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3469,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3470,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3471,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3472,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3473,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3474,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3475,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3476,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3477,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3478,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3479,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3480,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3481,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3482,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3483,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3484,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3485,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3486,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3487,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3488,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3489,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3490,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3491,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3492,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3493,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3494,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3495,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3496,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3497,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3498,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3499,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3500,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3501,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3502,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3503,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3504,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3505,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3506,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3507,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3508,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3509,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3510,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3511,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3512,62f0d3f0ded1df407b771c127fccc6d60990da8a,/8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
3513,62f0d3f0ded1df407b771c127fccc6d60990da8a,/8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3514,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3515,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3516,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3517,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3518,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3519,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3520,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3521,6d19b06d7ddb8964823867867b55cac2d2cd57a1,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3522,b81ffe88c0bb6d760b6ee7d9c056469d59e68311,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3523,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
3524,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3525,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3526,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3527,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
3528,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
3529,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3530,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3531,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
3532,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
3533,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3534,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3535,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3536,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
3537,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3538,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3539,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3540,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3541,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3542,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3543,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3544,6f4b7544afb91088a666ef620e8ad5e989ed9abb,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3545,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3546,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3547,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3548,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3549,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3550,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3551,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3552,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3553,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3554,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3555,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3556,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3557,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3558,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3559,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
3560,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3561,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3562,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3563,47c20041e3021753525bce2c127f183eac7082f0,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3564,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3565,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3566,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3567,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3568,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3569,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3570,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3571,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3572,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3573,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3574,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3575,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3576,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3577,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3578,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3579,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3580,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3581,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3582,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3583,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3584,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3585,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3586,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3587,62e08b2f650bc7c097740bef4f1cda0e138a8827,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3588,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3589,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3590,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3591,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3592,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3593,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3594,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3595,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3596,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3597,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3598,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3599,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3600,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3601,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3602,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3603,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3604,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3605,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3606,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3607,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3608,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3609,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3610,09406a39e2a096338762737c2f716effee73533f,/7/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3611,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3612,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3613,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3614,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3615,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3616,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3617,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3618,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3619,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3620,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3621,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3622,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3623,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3624,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3625,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3626,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3627,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3628,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3629,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3630,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3631,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3632,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3633,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3634,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3635,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3636,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3637,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3638,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3639,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3640,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3641,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3642,50f4c2ff10406eec6d4a01b5490274c6024399d6,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3643,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3644,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3645,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3646,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3647,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3648,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3649,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3650,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3651,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3652,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3653,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3654,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3655,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3656,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3657,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3658,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3659,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3660,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3661,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3662,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3663,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3664,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3665,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3666,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3667,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3668,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3669,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3670,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3671,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3672,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3673,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3674,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3675,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3676,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3677,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3678,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3679,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3680,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3681,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3682,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3683,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3684,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3685,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3686,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3687,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3688,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3689,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3690,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3691,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3692,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3693,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3694,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3695,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3696,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3697,f34b65f30d1f1dd1c85390ea095eef4dad8fc819,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3698,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3699,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3700,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3701,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3702,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3703,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3704,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3705,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3706,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3707,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3708,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3709,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3710,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3711,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3712,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3713,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3714,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3715,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3716,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3717,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3718,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3719,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3720,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3721,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3722,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3723,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3724,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3725,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3726,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3727,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3728,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3729,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3730,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3731,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3732,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3733,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3734,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3735,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3736,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3737,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3738,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3739,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3740,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3741,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3742,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3743,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3744,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3745,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3746,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3747,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3748,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3749,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3750,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3751,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3752,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3753,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3754,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3755,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3756,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3757,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3758,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3759,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3760,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3761,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3762,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3763,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3764,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3765,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3766,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3767,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3768,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3769,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3770,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3771,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3772,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3773,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3774,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3775,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3776,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3777,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3778,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3779,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3780,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3781,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3782,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3783,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3784,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3785,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3786,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3787,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3788,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3789,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3790,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3791,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3792,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3793,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3794,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3795,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3796,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3797,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3798,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3799,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3800,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3801,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3802,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3803,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3804,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3805,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3806,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3807,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
3808,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3809,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3810,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3811,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3812,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
3813,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3814,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3815,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3816,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3817,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3818,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3819,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3820,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3821,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
3822,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3823,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3824,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3825,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3826,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3827,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3828,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3829,f26c14147f9affae8f32100430130271fc82bd3e,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3830,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3831,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3832,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3833,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3834,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3835,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3836,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3837,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3838,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3839,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3840,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3841,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3842,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3843,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3844,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3845,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3846,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3847,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3848,85d2a6e22292644d22d4dda933c56c7821e61b7c,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
3849,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3850,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3851,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3852,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3853,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3854,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3855,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3856,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3857,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3858,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3859,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3860,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3861,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3862,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3863,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3864,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3865,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
3866,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3867,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3868,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3869,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3870,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3871,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3872,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3873,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3874,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3875,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3876,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3877,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3878,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3879,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
3880,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3881,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3882,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3883,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3884,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3885,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3886,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3887,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3888,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3889,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3890,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3891,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
3892,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3893,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
3894,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
3895,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
3896,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3897,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3898,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3899,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
3900,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3901,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3902,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3903,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3904,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3905,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3906,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3907,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
3908,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
3909,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3910,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3911,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3912,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
3913,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3914,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3915,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3916,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3917,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3918,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3919,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3920,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3921,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3922,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3923,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3924,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3925,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3926,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3927,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3928,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3929,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3930,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3931,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3932,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3933,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3934,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3935,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3936,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3937,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3938,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3939,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3940,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3941,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3942,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3943,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3944,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3945,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3946,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
3947,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3948,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3949,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
3950,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3951,b0b0edc4828653f4ad671b9d73a23dd3f2a6eda1,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
3952,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3953,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3954,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3955,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3956,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3957,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3958,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3959,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3960,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3961,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3962,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3963,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3964,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3965,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3966,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3967,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
3968,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
3969,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
3970,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
3971,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3972,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3973,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
3974,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
3975,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3976,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3977,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3978,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3979,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
3980,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3981,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3982,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3983,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
3984,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
3985,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
3986,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
3987,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
3988,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
3989,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
3990,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
3991,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
3992,8c174e038fe911fecc1a920a56afc10fd343bce2,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
3993,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
3994,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
3995,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
3996,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
3997,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
3998,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
3999,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4000,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4001,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4002,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4003,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4004,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4005,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4006,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4007,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4008,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4009,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4010,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4011,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4012,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4013,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4014,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4015,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4016,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4017,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4018,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4019,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4020,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4021,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4022,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4023,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4024,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4025,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4026,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4027,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4028,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4029,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4030,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4031,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4032,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4033,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4034,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4035,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4036,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4037,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4038,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4039,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4040,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4041,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4042,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4043,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4044,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4045,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
4046,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4047,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4048,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4049,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4050,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4051,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4052,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4053,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4054,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4055,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4056,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4057,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4058,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4059,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4060,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4061,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4062,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4063,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4064,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4065,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4066,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4067,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4068,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4069,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4070,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4071,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4072,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4073,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4074,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4075,980cfce753b4b185feda907b35648089386607af,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4076,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4077,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4078,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4079,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4080,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4081,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4082,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4083,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4084,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4085,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4086,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4087,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4088,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4089,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4090,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4091,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4092,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4093,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4094,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4095,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4096,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4097,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4098,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4099,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4100,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4101,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4102,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4103,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4104,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4105,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4106,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4107,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4108,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4109,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4110,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4111,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4112,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4113,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4114,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4115,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4116,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4117,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4118,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4119,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4120,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4121,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4122,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4123,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4124,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4125,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4126,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4127,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4128,6a91f7af8b2449372ad234ed5303160e9be54c18,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4129,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4130,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4131,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4132,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4133,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4134,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4135,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4136,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4137,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4138,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4139,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4140,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4141,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4142,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4143,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4144,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4145,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4146,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4147,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4148,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4149,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4150,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4151,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4152,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4153,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4154,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4155,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4156,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4157,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4158,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4159,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4160,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4161,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4162,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4163,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4164,0e8cf7367b4e3f3d77e8bc98fcec509bb7a8d7be,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4165,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4166,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4167,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4168,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4169,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4170,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4171,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4172,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4173,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4174,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4175,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4176,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4177,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4178,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4179,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4180,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4181,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4182,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4183,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4184,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4185,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4186,6f1c628fa92feea8b28e98e56a990500f2326936,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4187,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4188,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4189,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4190,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4191,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4192,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4193,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4194,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4195,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4196,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4197,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4198,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4199,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4200,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4201,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4202,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4203,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4204,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4205,06a7e79e30595058df3c2fec9c769e47e2bca56d,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4206,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4207,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4208,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4209,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4210,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4211,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4212,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4213,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4214,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4215,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4216,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4217,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4218,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4219,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4220,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4221,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4222,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4223,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4224,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4225,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4226,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4227,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4228,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4229,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4230,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4231,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4232,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4233,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4234,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4235,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4236,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4237,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4238,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4239,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4240,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4241,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4242,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4243,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4244,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4245,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4246,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4247,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4248,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4249,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4250,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4251,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4252,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4253,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4254,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4255,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4256,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4257,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4258,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4259,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4260,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4261,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4262,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4263,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4264,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4265,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4266,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4267,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4268,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4269,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4270,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4271,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4272,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4273,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4274,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4275,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4276,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4277,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4278,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4279,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4280,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4281,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4282,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4283,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4284,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4285,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4286,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4287,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4288,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4289,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4290,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4291,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4292,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4293,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4294,ef856d48e431a9b83730b5c14c0d9a84d70156a5,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4295,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4296,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4297,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4298,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4299,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4300,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4301,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4302,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4303,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4304,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4305,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4306,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4307,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4308,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4309,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4310,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4311,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4312,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4313,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4314,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4315,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4316,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4317,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4318,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4319,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4320,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4321,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4322,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
4323,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4324,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4325,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4326,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4327,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4328,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4329,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4330,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4331,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4332,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4333,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4334,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4335,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4336,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4337,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4338,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4339,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4340,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4341,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4342,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4343,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4344,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4345,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4346,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4347,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4348,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4349,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4350,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4351,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4352,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4353,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4354,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4355,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4356,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4357,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4358,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4359,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4360,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4361,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4362,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4363,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4364,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4365,85113c9c4b08f19200b286b858703410d1c7bb76,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4366,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4367,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4368,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4369,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4370,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4371,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4372,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4373,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4374,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4375,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4376,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4377,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4378,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4379,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4380,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4381,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4382,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4383,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4384,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4385,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4386,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4387,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4388,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4389,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4390,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4391,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4392,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4393,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4394,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4395,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4396,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4397,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4398,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4399,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4400,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4401,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4402,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4403,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4404,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4405,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4406,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4407,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4408,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4409,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4410,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4411,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4412,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4413,1b5b0791e065d9bfdfe84235faf7f77c157ff70d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4414,844072d81f9970fa1229fb971340ef49978a3533,/7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4415,844072d81f9970fa1229fb971340ef49978a3533,/7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4416,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4417,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4418,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4420,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4421,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4422,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4423,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4424,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4425,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4426,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4427,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4428,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4429,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4430,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4431,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4432,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4433,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4434,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4435,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4436,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4437,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4438,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4439,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4440,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4441,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4442,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4443,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4444,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4445,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4446,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4447,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4448,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4449,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4450,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4451,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4452,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4453,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4454,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4455,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4456,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4457,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4458,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4459,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4460,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4461,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
4462,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4463,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4464,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
4465,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4466,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4467,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
4468,5c76c4a20c9192ca75d9a9739070b7030b64304b,/Dockerfile.template,"# verify Tomcat Native is working properly
"
4469,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4470,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4471,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4472,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4473,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4474,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4475,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4476,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4477,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4478,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4479,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4480,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4481,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4482,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4483,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4484,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4485,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4486,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4487,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4488,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4489,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4490,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4491,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4492,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4493,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4494,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4495,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4496,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4497,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4498,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4499,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4500,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4501,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4502,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4503,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4504,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4505,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4506,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4507,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4508,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4509,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4510,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4511,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
4512,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4513,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4514,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4515,0338217187e764d8dfee6a35dce9e4e130fbb85b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
4516,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4517,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4518,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4519,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4520,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4521,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4522,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4523,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4524,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4525,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4526,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4527,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4528,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4529,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4530,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4531,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4532,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4533,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4534,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
4535,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4536,749503f817a760ff76549305dc68c0abf42f4453,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4537,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4538,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4539,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4540,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4541,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4542,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4543,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4544,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4545,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4546,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4547,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4548,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4549,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4550,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4551,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4552,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4553,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4554,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4555,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4556,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4557,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4558,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4559,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4560,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4561,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4562,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4563,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4564,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4565,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4566,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4567,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4568,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4569,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4570,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4571,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4572,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4573,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4574,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4575,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4576,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4577,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4578,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4579,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4580,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4581,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4582,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4583,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4584,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4585,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4586,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4587,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4588,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
4589,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4590,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
4591,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4592,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
4593,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4594,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4595,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4596,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
4597,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4598,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4599,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4600,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4601,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4602,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4603,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4604,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4605,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4606,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4607,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4608,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4609,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4610,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4611,2045c78917577ff88fbe6787a11041047eb3a3bc,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4612,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4613,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4614,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4615,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4616,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4617,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4618,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4619,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4620,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4621,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4622,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4623,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4624,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4625,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4626,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4627,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4628,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4629,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4630,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4631,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4632,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4633,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4634,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4635,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4636,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4637,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4638,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4639,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4640,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4641,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4642,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4643,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4644,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4645,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4646,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4647,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4648,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4649,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4650,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4651,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4652,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4653,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4654,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4655,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4656,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4657,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4658,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4659,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4660,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4661,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4662,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4663,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4664,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4665,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4666,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4667,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4668,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4669,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4670,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4671,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4672,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4673,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4674,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4675,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4676,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4677,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4678,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4679,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4680,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4681,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4682,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4683,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4684,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4685,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4686,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4687,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4688,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4689,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4690,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4691,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4692,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4693,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4694,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4695,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4696,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
4697,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4698,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4699,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4700,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4701,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4702,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4703,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4704,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4705,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4706,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4707,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4708,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4709,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4710,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4711,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4712,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4713,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4714,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4715,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4716,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4717,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4718,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4719,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4720,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4721,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4722,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4723,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4724,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4725,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4726,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4727,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4728,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4729,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
4730,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4731,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4732,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4733,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4734,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4735,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4736,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4737,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4738,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4739,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4740,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4741,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4742,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4743,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4744,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4745,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4746,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4747,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4748,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4749,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4750,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
4751,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4752,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4753,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4754,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4755,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4756,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4757,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4758,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4759,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4760,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4761,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4762,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4763,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4764,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4765,452e2d4dcb58e3d044a6288befab6d717f94590e,/6-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
4766,452e2d4dcb58e3d044a6288befab6d717f94590e,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4767,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4768,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4769,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4770,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4771,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4772,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4773,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4774,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4775,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4776,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4777,5802aa060091bb2b18aee4f98a83a155540b978a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4778,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4779,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4780,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4781,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4782,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4783,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4784,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4785,6be7d97a528019fd7cedb0f3ef0dca674713512b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4786,278a10ace50c5e7addd879fae5c5332e57b2fe37,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4787,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4788,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4789,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4790,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4791,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4792,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4793,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4794,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4795,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4796,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4797,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4798,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4799,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4800,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4801,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4802,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4803,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4804,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4805,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4806,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4807,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4808,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4809,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4810,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4811,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4812,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4813,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4814,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4815,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4816,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4817,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4818,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
4819,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4820,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4821,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4822,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
4823,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4824,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4825,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4826,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4827,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4828,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4829,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
4830,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4831,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4832,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4833,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4834,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
4835,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4836,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4837,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4838,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4839,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4840,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4841,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4842,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4843,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4844,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4845,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4846,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4847,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4848,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4849,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4850,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4851,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4852,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4853,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4854,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
4855,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4856,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4857,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4858,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4859,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4860,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4861,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4862,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4863,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4864,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4865,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4866,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4867,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4868,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4869,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4870,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4871,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4872,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4873,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4874,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4875,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4876,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4877,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4878,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4879,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4880,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
4881,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4882,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
4883,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4884,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4885,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4886,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4887,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4888,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4889,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4890,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4891,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4892,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4893,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4894,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4895,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4896,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
4897,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4898,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4899,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4900,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4901,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4902,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4903,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4904,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4905,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4906,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4907,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4908,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4909,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4910,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4911,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4912,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4913,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4914,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4915,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4916,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4917,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4918,221fa4f6f1abfa3f033d4be781fa48faecbee212,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4919,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4920,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4921,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4922,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4923,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4924,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4925,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4926,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4927,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4928,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4929,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4930,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4931,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4932,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
4933,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4934,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4935,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4936,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4937,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4938,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
4939,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"#?}}""; \
"
4940,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
4941,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
4942,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
4943,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4944,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4945,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4946,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
4947,41b2a08dbf016a551c859559a4e27c4f4fce2964,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4948,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4949,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4950,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4951,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4952,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4953,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4954,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4955,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4956,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4957,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4958,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4959,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4960,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
4961,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
4962,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
4963,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
4964,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4965,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4966,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
4967,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
4968,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
4969,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
4970,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
4971,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
4972,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
4973,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
4974,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4975,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4976,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4977,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4978,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4979,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4980,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4981,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4982,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4983,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4984,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4985,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4986,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
4987,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
4988,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
4989,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
4990,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4991,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
4992,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
4993,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
4994,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
4995,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
4996,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
4997,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
4998,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
4999,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5000,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5001,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5002,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5003,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5004,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5005,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5006,1cf5b22547122751cc7e1149483dfa662639a450,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5007,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5008,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5009,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5010,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5011,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5012,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5013,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5014,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5015,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5016,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5017,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5018,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5019,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5020,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5021,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5022,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5023,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5024,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5025,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5026,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5027,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5028,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5029,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5030,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5031,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5032,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5033,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5034,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5035,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5036,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5037,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5038,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5039,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5040,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5041,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5042,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5043,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5044,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5045,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5046,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5047,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5048,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5049,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5050,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5051,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5052,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5053,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5054,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5055,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5056,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5057,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5058,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5059,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5060,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5061,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5062,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5063,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5064,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5065,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5066,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5067,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5068,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5069,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5070,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5071,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5072,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5073,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5074,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5075,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5076,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5077,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5078,df283818c14e8f24c294e2d3cd23099ef92e6643,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5079,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5080,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5081,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5082,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5083,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5084,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5085,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5086,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5087,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5088,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5089,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5090,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5091,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5092,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5093,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5094,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5095,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5096,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5097,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5098,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5099,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5100,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5101,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5102,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5103,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5104,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5105,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5106,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5107,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5108,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5109,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5110,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5111,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5112,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5113,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5114,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5115,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5116,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5117,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5118,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5119,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5120,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5121,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5122,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5123,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5124,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5125,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5126,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5127,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5128,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5129,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5130,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5131,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5132,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5133,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5134,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5135,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5136,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5137,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5138,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5139,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5140,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5141,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5142,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5143,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5144,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5145,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
5146,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5147,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5148,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5149,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5150,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5151,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5152,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5153,dcffe2c06edc7a797e20161225eb59e97877ccb0,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5154,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5155,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5156,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5157,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5158,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5159,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5160,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5161,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5162,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5163,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5164,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5165,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5166,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5167,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5168,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5169,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5170,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5171,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5172,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5173,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5174,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5175,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5176,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5177,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5178,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5179,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5180,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5181,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5182,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5183,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5184,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5185,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5186,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5187,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5188,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5189,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5190,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5191,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5192,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5193,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5194,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5195,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5196,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5197,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5198,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5199,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5200,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5201,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5202,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5203,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5204,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5205,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5206,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5207,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5208,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5209,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5210,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5211,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5212,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5213,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5214,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5215,9c2fb18446d9e6841997362e575804da73f23eee,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
5216,9c2fb18446d9e6841997362e575804da73f23eee,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5217,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5218,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5219,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5220,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5221,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5222,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5223,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5224,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5225,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5226,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5227,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5228,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5229,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5230,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5231,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5232,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5233,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5234,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5235,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5236,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5237,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5238,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5239,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5240,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5241,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5242,116d0258150ad27d7141d16f7492a5215a4b8fec,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5243,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5244,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5245,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5246,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5247,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5248,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5249,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5250,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5251,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5252,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5253,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5254,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5255,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5256,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5257,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5258,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5259,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5260,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5261,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5262,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5263,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5264,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5265,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5266,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5267,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5268,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5269,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5270,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5271,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5272,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5273,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5274,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5275,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5276,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5277,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5278,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5279,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5280,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5281,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5282,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5283,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5284,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5285,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5286,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5287,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5288,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5289,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5290,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5291,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5292,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5293,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5294,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5295,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5296,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5297,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5298,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5299,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5300,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5301,5c8b74e495a1b63116b524407941b15eef58a7fe,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5302,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5303,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5304,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5305,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5306,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5307,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5308,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5309,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5310,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5311,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5312,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5313,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5314,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5315,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5316,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5317,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5318,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5319,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5320,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5321,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
5322,6611537f66f8f1df614f86bfda5b5fc020755aad,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5323,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5324,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5325,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5326,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5327,ae0ff8626dbb002258c3fabdcba1682fa12d6f99,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5328,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5329,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5330,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5331,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5332,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5333,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5334,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5335,e4ffae4e6e76e979ad524970f80984ee4cff88d7,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5336,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5337,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5338,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5339,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5340,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5341,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5342,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5343,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5344,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5345,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5346,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5347,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5348,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5349,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5350,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5351,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5352,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5353,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5354,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5355,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5356,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5357,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5358,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5359,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5360,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5361,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5362,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5363,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5364,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5365,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5366,efe59ebe52ba94045f4923be85214f4431a982a6,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5367,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5368,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5369,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5370,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5371,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5372,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5373,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5374,d543d4f0d7d7dffee5ad625e08bcc517e72489bb,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5375,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5376,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5377,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5378,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5379,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5380,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5381,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5382,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5383,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5384,0e18eab4234afbff617aee84e7156ac1b4fd67d5,/6/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5385,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5386,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5387,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5388,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5389,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5390,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5391,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5392,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5393,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5394,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5395,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5396,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5397,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5398,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
5399,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5400,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5401,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5402,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5403,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5404,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5405,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5406,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5407,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5408,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5409,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5410,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5411,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5412,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5413,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5414,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5415,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5416,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5417,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5418,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5419,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5420,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5421,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5422,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5423,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5424,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5425,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5426,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5427,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5428,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5429,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5430,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5431,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5432,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5433,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5434,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5435,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5436,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5437,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5438,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5439,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5440,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5441,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5442,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5443,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5444,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5445,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5446,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5447,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5448,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5449,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5450,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5451,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5452,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5453,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5454,efab5942d355f9bac6f6e2a99d82a40a564bef3c,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5455,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5456,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5457,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5458,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5459,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5460,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5461,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5462,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5463,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5464,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5465,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5466,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5467,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5468,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5469,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5470,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5471,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5472,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5473,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5474,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5475,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5476,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5477,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5478,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5479,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5480,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5481,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5482,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5483,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5484,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5485,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5486,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5487,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5488,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5489,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5490,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5491,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5492,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5493,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5494,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5495,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5496,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5497,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5498,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5499,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5500,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5501,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5502,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5503,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5504,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5505,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5506,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5507,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5508,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5509,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
5510,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5511,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
5512,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5513,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5514,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5515,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5516,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5517,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5518,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5519,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5520,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5521,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5522,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5523,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5524,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5525,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5526,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5527,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5528,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5529,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5530,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5531,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5532,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5533,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5534,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5535,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5536,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
5537,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5538,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
5539,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5540,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
5541,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5542,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5543,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5544,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
5545,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5546,5b0cd615bf08392873a4802dfee2efabf1d71456,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5547,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5548,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5549,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5550,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5551,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5552,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5553,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5554,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5555,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5556,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5557,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5558,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5559,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5560,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5561,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5562,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5563,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5564,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5565,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5566,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
5567,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5568,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5569,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5570,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5571,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
5572,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5573,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5574,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5575,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5576,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5577,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5578,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5579,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5580,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5581,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5582,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5583,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5584,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5585,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5586,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5587,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5588,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5589,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5590,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5591,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
5592,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5593,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5594,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5595,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5596,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
5597,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5598,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5599,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5600,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5601,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5602,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5603,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5604,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5605,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5606,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5607,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5608,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5609,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5610,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5611,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5612,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5613,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5614,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5615,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5616,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5617,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5618,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5619,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5620,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5621,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5622,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5623,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5624,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5625,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5626,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5627,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5628,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5629,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5630,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5631,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5632,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5633,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5634,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5635,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5636,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5637,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5638,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5639,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5640,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5641,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5642,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5643,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5644,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5645,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5646,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5647,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5648,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5649,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5650,3b05667011a600a2f46422dd533467eff8e7fecf,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5651,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5652,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5653,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5654,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5655,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
5656,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5657,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5658,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5659,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5660,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5661,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5662,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5663,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5664,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5665,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5666,6f1c628fa92feea8b28e98e56a990500f2326936,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5667,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5668,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5669,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5670,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5671,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5672,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5673,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5674,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5675,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5676,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5677,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5678,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5679,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5680,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5681,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5682,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5683,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5684,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5685,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5686,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5687,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5688,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5689,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5690,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5691,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5692,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5693,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5694,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5695,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5696,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5697,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5698,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5699,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5700,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5701,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5702,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5703,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5704,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5705,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5706,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
5707,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
5708,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
5709,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5710,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5711,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5712,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5713,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5714,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
5715,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
5716,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5717,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5718,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5719,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
5720,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5721,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5722,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5723,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5724,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5725,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5726,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5727,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5728,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5729,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5730,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5731,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5732,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5733,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5734,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5735,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5736,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5737,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5738,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
5739,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5740,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
5741,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5742,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5743,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5744,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5745,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5746,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5747,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5748,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5749,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5750,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5751,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5752,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5753,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5754,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5755,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5756,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5757,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5758,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5759,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5760,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5761,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5762,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5763,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5764,af71a3020ae05a63741db44c69d722f00e1d382a,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5765,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5766,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5767,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5768,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5769,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5770,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
5771,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5772,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5773,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5774,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5775,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5776,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5777,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5778,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5779,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5780,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5781,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5782,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5783,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5784,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5785,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5786,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5787,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5788,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
5789,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5790,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5791,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5792,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5793,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5794,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5795,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5796,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5797,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5798,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5799,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5800,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5801,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5802,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5803,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5804,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5805,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5806,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5807,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5808,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5809,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5810,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5811,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5812,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5813,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5814,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5815,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5816,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5817,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5818,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5819,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5820,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5821,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5822,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5823,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5824,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5825,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5826,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5827,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5828,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5829,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5830,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5831,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5832,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5833,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5834,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5835,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5836,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5837,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5838,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5839,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5840,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5841,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5842,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5843,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5844,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5845,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5846,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5847,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5848,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5849,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5850,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5851,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5852,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5853,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5854,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
5855,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
5856,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
5857,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5858,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5859,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5860,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
5861,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5862,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5863,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5864,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5865,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5866,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5867,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5868,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5869,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5870,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5871,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5872,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5873,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5874,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5875,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5876,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5877,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5878,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5879,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5880,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5881,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5882,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5883,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5884,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5885,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5886,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5887,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5888,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5889,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5890,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5891,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5892,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5893,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5894,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5895,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
5896,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5897,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5898,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5899,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5900,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5901,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5902,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5903,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5904,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5905,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5906,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5907,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5908,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5909,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5910,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5911,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5912,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5913,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5914,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5915,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5916,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5917,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5918,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5919,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5920,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5921,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
5922,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5923,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5924,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5925,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5926,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5927,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5928,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5929,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5930,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
5931,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5932,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5933,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5934,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5935,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5936,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5937,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5938,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5939,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5940,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5941,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5942,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
5943,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5944,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5945,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5946,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5947,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
5948,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5949,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5950,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5951,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5952,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5953,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5954,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5955,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5956,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5957,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5958,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5959,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5960,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5961,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5962,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5963,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5964,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5965,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5966,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5967,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5968,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
5969,bd58c7237bff0357e76c9c9ee22deac77a2860cb,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
5970,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5971,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5972,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5973,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5974,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5975,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
5976,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5977,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
5978,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5979,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5980,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5981,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
5982,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
5983,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
5984,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5985,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
5986,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
5987,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
5988,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
5989,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
5990,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
5991,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
5992,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
5993,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
5994,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
5995,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
5996,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
5997,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
5998,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
5999,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6000,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6001,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6002,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6003,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6004,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6005,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6006,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6007,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6008,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6009,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6010,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6011,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6012,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6013,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6014,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6015,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6016,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6017,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6018,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6019,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6020,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6021,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6022,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6023,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6024,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6025,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6026,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6027,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6028,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6029,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6030,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6031,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6032,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6033,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6034,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6035,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6036,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6037,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6038,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6039,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6040,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6041,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6042,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6043,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6044,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6045,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6046,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6047,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6048,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6049,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6050,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6051,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6052,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6053,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6054,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6055,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6056,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6057,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6058,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6059,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6060,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6061,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6062,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6063,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6064,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6065,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6066,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6067,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6068,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6069,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6070,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6071,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6072,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6073,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6074,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6075,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6076,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6077,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6078,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6079,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6080,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6081,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6082,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6083,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6084,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6085,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6086,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6087,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6088,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6089,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6090,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6091,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6092,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6093,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6094,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6095,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6096,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6097,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6098,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6099,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6100,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6101,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6102,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6103,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6104,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6105,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6106,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6107,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6108,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6109,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6110,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6111,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6112,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6113,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6114,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6115,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6116,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6117,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6118,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6119,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6120,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6121,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6122,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6123,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6124,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6125,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6126,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6127,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6128,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6129,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6130,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6131,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6132,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6133,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6134,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6135,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6136,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6137,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6138,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6139,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6140,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6141,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6142,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6143,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6144,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6145,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6146,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6147,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6148,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6149,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6150,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6151,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6152,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6153,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6154,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6155,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6156,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6157,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6158,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6159,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6160,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6161,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6162,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6163,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6164,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6165,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6166,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6167,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6168,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6169,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6170,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6171,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6172,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6173,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6174,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6175,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6176,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6177,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6178,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6179,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6180,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6181,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6182,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6183,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6184,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6185,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6186,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6187,ba45c4da39f4705edefbf685d410eb6064f5f151,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6188,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6189,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6190,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6191,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6192,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6193,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6194,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6195,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6196,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6197,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6198,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6199,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6200,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6201,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6202,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6203,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6204,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6205,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6206,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6207,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6208,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6209,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6210,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6211,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6212,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6213,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6214,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6215,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6216,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6217,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6218,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6219,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6220,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6221,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6222,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6223,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6224,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6225,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6226,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6227,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6228,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6229,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6230,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6231,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6232,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6233,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6234,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6235,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6236,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6237,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6238,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6239,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6240,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6241,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6242,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6243,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6244,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6245,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6246,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6247,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6248,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6249,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6250,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6251,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6252,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6253,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6254,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6255,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6256,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6257,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6258,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6259,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6260,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6261,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6262,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6263,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6264,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
6265,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6266,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6267,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
6268,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
6269,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6270,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6271,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6272,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6273,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6274,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6275,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6276,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6277,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6278,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6279,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6280,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6281,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6282,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6283,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6284,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6285,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6286,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6287,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6288,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6289,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6290,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6291,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6292,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6293,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6294,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6295,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6296,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6297,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6298,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6299,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6300,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6301,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6302,7d7d6256214d54613930ab2200be159aff49cac5,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6303,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6304,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6305,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6306,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6307,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6308,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6309,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6310,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6311,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6312,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6313,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6314,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6315,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6316,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6317,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6318,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6319,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6320,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6321,4b72a0a78d129afc6c37574145c19519c977ceed,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6322,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
6323,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6324,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6325,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
6326,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6327,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile.template,"# verify Tomcat Native is working properly
"
6328,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6329,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6330,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6331,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6332,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6333,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6334,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6335,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6336,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6337,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6338,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6339,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6340,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6341,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6342,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6343,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6344,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6345,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6346,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6347,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6348,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6349,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6350,62f0d3f0ded1df407b771c127fccc6d60990da8a,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
6351,62f0d3f0ded1df407b771c127fccc6d60990da8a,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6352,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6353,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6354,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6355,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6356,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6357,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6358,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6359,f4f5d57a2574e4d4c646041822ab72e6fff461e4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6360,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6361,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6362,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6363,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6364,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6365,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6366,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6367,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6368,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6369,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6370,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6371,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6372,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6373,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6374,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6375,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6376,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6377,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6378,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6379,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6380,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6381,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6382,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6383,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6384,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6385,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6386,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6387,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6388,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6389,27c1f03b80a8d98c7355e57dbd2c35ae0ff73b27,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6390,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6391,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6392,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6393,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6394,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6395,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6396,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6397,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6398,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6399,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6400,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6401,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6402,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6403,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6404,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6405,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6406,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6407,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6408,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6409,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6410,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6411,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6412,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6413,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6414,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6415,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6416,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6417,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6418,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6419,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6420,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6421,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6422,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6423,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6424,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6425,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6426,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6427,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6428,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6429,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6430,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6431,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6432,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6433,a46495d93b02266f616208b1599c26a2df0ae7f8,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6434,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6435,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6436,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6437,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6438,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6439,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6440,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6441,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6442,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6443,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6444,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6445,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6446,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6447,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6448,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6449,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6450,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6451,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6452,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6453,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6454,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6455,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6456,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6457,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6458,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6459,644ae253d0e833410fde43bf71b442294cc33613,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6460,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6461,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6462,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6463,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6464,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6465,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6466,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6467,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6468,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6469,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6470,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6471,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6472,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6473,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6474,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6475,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6476,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6477,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6478,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6479,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6480,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6481,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6482,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6483,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6484,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6485,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6486,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6487,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6488,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6489,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6490,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6491,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6492,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6493,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6494,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6495,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6496,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6497,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6498,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6499,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6500,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6501,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6502,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6503,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6504,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6505,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6506,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6507,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6508,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6509,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6510,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6511,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6512,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6513,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6514,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6515,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6516,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6517,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6518,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6519,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6520,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6521,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6522,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6523,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6524,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6525,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6526,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6527,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6528,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6529,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6530,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6531,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6532,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6533,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6534,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6535,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6536,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6537,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6538,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6539,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6540,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6541,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6542,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6543,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6544,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
6545,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6546,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6547,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
6548,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6549,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6550,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6551,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6552,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6553,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6554,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6555,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6556,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6557,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6558,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6559,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6560,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6561,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6562,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6563,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6564,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6565,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6566,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6567,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
6568,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6569,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6570,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6571,e0cfc71038fca93f3e1b54ef4a4db58fb506d5be,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6572,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6573,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6574,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6575,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6576,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6577,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6578,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6579,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6580,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6581,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6582,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6583,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6584,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6585,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6586,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6587,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6588,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6589,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6590,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6591,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6592,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6593,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6594,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6595,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6596,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6597,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6598,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6599,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6600,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6601,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6602,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6603,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
6604,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6605,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6606,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6607,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6608,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6609,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6610,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6611,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6612,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6613,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
6614,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6615,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6616,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6617,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6618,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6619,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6620,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6621,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6622,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6623,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6624,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6625,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6626,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6627,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6628,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6629,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6630,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6631,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6632,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6633,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6634,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6635,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6636,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6637,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6638,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6639,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6640,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6641,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6642,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6643,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6644,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6645,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6646,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6647,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6648,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6649,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6650,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6651,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6652,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6653,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6654,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6655,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6656,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6657,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6658,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6659,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6660,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6661,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6662,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6663,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6664,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
6665,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6666,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6667,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6668,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6669,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
6670,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6671,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6672,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6673,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6674,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6675,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6676,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6677,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6678,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6679,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6680,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6681,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6682,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6683,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6684,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6685,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6686,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6687,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6688,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6689,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6690,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6691,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6692,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6693,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6694,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6695,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6696,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6697,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6698,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6699,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6700,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6701,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6702,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6703,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6704,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6705,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6706,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6707,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6708,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6709,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6710,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6711,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6712,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6713,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6714,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6715,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6716,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6717,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6718,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6719,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6720,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6721,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6722,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6723,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6724,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6725,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6726,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6727,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6728,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6729,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6730,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6731,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6732,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6733,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6734,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6735,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6736,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6737,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6738,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6739,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6740,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6741,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6742,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6743,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6744,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6745,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6746,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6747,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6748,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6749,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6750,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6751,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6752,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6753,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6754,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6755,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6756,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6757,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6758,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6759,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6760,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
6761,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6762,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
6763,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6764,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
6765,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6766,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6767,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6768,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
6769,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6770,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6771,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6772,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6773,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile.template,"# verify Tomcat Native is working properly
"
6774,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6775,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6776,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6777,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6778,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6779,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6780,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6781,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6782,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6783,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6784,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
6785,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6786,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6787,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6788,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6789,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6790,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6791,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6792,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6793,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6794,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6795,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6796,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6797,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6798,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6799,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6800,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6801,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6802,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6803,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6804,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6805,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6806,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6807,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6808,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6809,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6810,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6811,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6812,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6813,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6814,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6815,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6816,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6817,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6818,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6819,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
6820,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6821,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6822,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6823,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6824,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6825,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6826,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6827,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6828,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6829,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6830,ac48cbb92d2664675929d013fd163fbc153697d9,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6831,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6832,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6833,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6834,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6835,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6836,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6837,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6838,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6839,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6840,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6841,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6842,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6843,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6844,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6845,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6846,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6847,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6848,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6849,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6850,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
6851,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6852,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6853,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6854,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6855,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6856,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6857,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6858,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6859,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6860,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6861,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6862,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6863,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6864,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6865,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6866,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6867,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6868,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6869,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6870,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6871,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6872,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6873,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6874,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6875,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6876,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6877,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6878,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6879,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6880,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6881,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6882,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6883,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6884,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6885,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6886,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6887,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6888,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6889,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6890,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6891,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6892,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6893,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
6894,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
6895,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
6896,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6897,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6898,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6899,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6900,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
6901,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
6902,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6903,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6904,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6905,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
6906,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6907,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6908,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6909,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6910,6579c4d21893ec4043387a906ac6d22394a06d22,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
6911,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6912,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6913,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6914,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6915,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6916,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6917,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6918,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6919,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6920,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6921,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6922,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6923,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6924,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6925,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6926,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6927,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6928,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6929,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6930,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6931,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6932,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6933,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
6934,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6935,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
6936,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
6937,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6938,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
6939,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6940,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6941,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
6942,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6943,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6944,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6945,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6946,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6947,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6948,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
6949,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
6950,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6951,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6952,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
6953,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
6954,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6955,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6956,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6957,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6958,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6959,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6960,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6961,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6962,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
6963,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6964,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6965,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6966,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6967,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
6968,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6969,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6970,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6971,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6972,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6973,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6974,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
6975,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
6976,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6977,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6978,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
6979,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
6980,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
6981,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
6982,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6983,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
6984,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
6985,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
6986,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
6987,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
6988,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6989,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
6990,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"# if the version is outdated, we have to pull from the archive :/
"
6991,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
6992,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
6993,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
6994,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
6995,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
6996,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
6997,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
6998,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
6999,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7000,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile.template,"# verify Tomcat Native is working properly
"
7001,116d0258150ad27d7141d16f7492a5215a4b8fec,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7002,984d958106aebab3f124f616277a2512da4d4a9f,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7003,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7004,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7005,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7006,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7007,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7008,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7009,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7010,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7011,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7012,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7013,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7014,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7015,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7016,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7017,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7018,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7019,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7020,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7021,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7022,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7023,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7024,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
7025,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7026,98708820f99e6c58da0eddb3243a01282a64b3be,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7027,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7028,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7029,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7030,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7031,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7032,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7033,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7034,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7035,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7036,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7037,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7038,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7039,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7040,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7041,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7042,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7043,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7044,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7045,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7046,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7047,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
7048,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7049,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7050,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7051,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7052,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7053,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7054,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7055,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7056,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7057,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7058,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7059,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7060,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7061,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7062,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7063,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7064,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7065,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7066,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7067,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7068,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7069,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7070,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7071,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7072,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7073,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7074,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7075,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7076,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7077,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7078,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7079,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7080,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7081,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7082,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7083,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7084,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7085,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7086,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7087,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7088,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7089,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7090,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7091,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7092,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7093,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7094,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7095,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7096,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7097,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7098,9c2fb18446d9e6841997362e575804da73f23eee,/8-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
7099,9c2fb18446d9e6841997362e575804da73f23eee,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7100,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7101,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7102,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7103,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7104,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7105,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7106,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7107,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7108,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7109,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7110,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7111,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7112,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7113,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7114,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7115,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7116,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7117,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7118,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7119,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7120,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7121,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7122,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7123,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7124,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7125,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7126,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7127,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7128,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7129,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7130,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7131,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7132,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7133,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7134,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7135,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7136,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7137,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7138,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7139,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7140,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7141,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7142,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7143,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7144,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7145,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7146,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7147,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7148,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
7149,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7150,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
7151,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7152,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
7153,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7154,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7155,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7156,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7157,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7158,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7159,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7160,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7161,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7162,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7163,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7164,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7165,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7166,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7167,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7168,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7169,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7170,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7171,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7172,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7173,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7174,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7175,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7176,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7177,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7178,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7179,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7180,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7181,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7182,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7183,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7184,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7185,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7186,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7187,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7188,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7189,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7190,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7191,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7192,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7193,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7194,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7195,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7196,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7197,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7198,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7199,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7200,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7201,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7202,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7203,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7204,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7205,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7206,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7207,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7208,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7209,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7210,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7211,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7212,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7213,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7214,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
7215,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7216,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7217,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
7218,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7219,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7220,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7221,2b55df5b9feaa7b8354e8b2419a88e494a110621,/Dockerfile.template,"# verify Tomcat Native is working properly
"
7222,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7223,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7224,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7225,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7226,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7227,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7228,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7229,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7230,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7231,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7232,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7233,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7234,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7235,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7236,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7237,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7238,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7239,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7240,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7241,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7242,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7243,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7244,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7245,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7246,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7247,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7248,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7249,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7250,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7251,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7252,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7253,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7254,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7255,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7256,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7257,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7258,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7259,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7260,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7261,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7262,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7263,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7264,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7265,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7266,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7267,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7268,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7269,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7270,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7271,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7272,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7273,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7274,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7275,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7276,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7277,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7278,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7279,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7280,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7281,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7282,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7283,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7284,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7285,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7286,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7287,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7288,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7289,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7290,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7291,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7292,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7293,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7294,6611537f66f8f1df614f86bfda5b5fc020755aad,/8-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
7295,6611537f66f8f1df614f86bfda5b5fc020755aad,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7296,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7297,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7298,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7299,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7300,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7301,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7302,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7303,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7304,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7305,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7306,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7307,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7308,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7309,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7310,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7311,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7312,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7313,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7314,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7315,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7316,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7317,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7318,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7319,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7320,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7321,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
7322,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7323,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7324,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7325,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7326,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7327,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7328,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7329,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7330,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7331,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7332,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7333,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7334,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7335,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7336,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7337,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7338,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7339,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7340,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7341,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7342,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7343,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7344,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7345,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7346,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7347,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7348,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7349,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7350,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7351,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7352,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7353,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7354,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7355,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7356,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7357,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7358,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7359,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7360,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7361,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7362,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7363,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7364,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7365,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7366,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7367,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7368,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7369,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7370,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7371,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7372,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7373,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7374,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7375,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7376,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7377,e36c4044b7ece1361f124aaf3560c2efd888b62f,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7378,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7379,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7380,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7381,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7382,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7383,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7384,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7385,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7386,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7387,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7388,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7389,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7390,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7391,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7392,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7393,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7394,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7395,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7396,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7397,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7398,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7399,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7400,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7401,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7402,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7403,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7404,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7405,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7406,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7407,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7408,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7409,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7410,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7411,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7412,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7413,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7414,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7415,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7416,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7417,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7418,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7419,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7420,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7421,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7422,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7423,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7424,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7425,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7426,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7427,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7428,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7429,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7430,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7431,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7432,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7433,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7434,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7435,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7436,1691653797eb1f26b4e1d4898c71094ff9104e0e,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7437,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7438,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7439,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7440,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7441,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7442,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7443,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7444,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7445,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7446,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7447,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7448,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7449,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7450,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7451,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7452,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7453,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7454,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7455,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7456,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7457,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
7458,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7459,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
7460,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7461,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
7462,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7463,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7464,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7465,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/Dockerfile.template,"# verify Tomcat Native is working properly
"
7466,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7467,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7468,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7469,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7470,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7471,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7472,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7473,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7474,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7475,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7476,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7477,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7478,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7479,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7480,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7481,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7482,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7483,989f50ed5db788921a4954109b90362e2209295e,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7484,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7485,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7486,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7487,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7488,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7489,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7490,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7491,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7492,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7493,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7494,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7495,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7496,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7497,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7498,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7499,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7500,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7501,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7502,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7503,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7504,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7505,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7506,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7507,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7508,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
7509,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
7510,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7511,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7512,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7513,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7514,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7515,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7516,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7517,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7518,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7519,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7520,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7521,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7522,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7523,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7524,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7525,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7526,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7527,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7528,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7529,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7530,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7531,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7532,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7533,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7534,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7535,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7536,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7537,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7538,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7539,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7540,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7541,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7542,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7543,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7544,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7545,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7546,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7547,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7548,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7549,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7550,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7551,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7552,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7553,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7554,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7555,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7556,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7557,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7558,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7559,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7560,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7561,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7562,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7563,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7564,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7565,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7566,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7567,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7568,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7569,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7570,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7571,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7572,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
7573,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7574,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7575,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7576,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7577,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7578,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7579,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7580,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7581,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7582,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7583,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7584,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7585,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7586,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7587,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7588,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7589,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7590,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7591,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7592,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7593,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7594,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7595,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7596,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7597,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7598,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7599,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7600,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7601,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7602,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7603,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7604,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7605,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7606,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7607,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7608,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7609,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7610,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7611,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7612,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7613,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7614,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7615,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7616,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7617,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7618,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7619,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7620,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7621,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
7622,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7623,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7624,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7625,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7626,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7627,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7628,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7629,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7630,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7631,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7632,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7633,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7634,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7635,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7636,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7637,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7638,b0cb4ee4d375ade382d77c450903b7c3a0c2b39f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7639,2045c78917577ff88fbe6787a11041047eb3a3bc,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7640,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7641,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7642,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7643,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7644,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7645,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7646,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7647,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7648,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7649,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7650,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7651,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7652,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7653,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7654,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7655,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7656,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7657,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7658,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7659,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7660,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7661,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7662,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7663,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7664,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7665,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7666,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7667,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7668,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7669,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7670,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7671,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7672,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7673,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7674,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7675,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7676,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7677,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7678,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7679,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7680,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7681,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7682,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7683,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7684,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7685,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7686,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7687,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7688,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7689,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7690,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7691,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7692,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7693,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7694,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7695,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7696,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7697,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7698,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7699,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7700,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7701,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7702,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7703,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7704,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7705,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7706,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7707,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7708,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7709,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7710,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7711,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7712,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7713,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7714,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7715,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7716,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7717,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7718,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7719,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7720,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7721,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7722,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7723,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7724,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7725,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7726,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7727,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7728,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7729,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7730,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7731,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7732,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7733,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7734,1722fc14b4eb66f746a2067739f32d4111f408de,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
7735,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7736,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7737,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7738,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7739,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7740,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7741,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7742,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7743,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7744,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7745,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7746,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7747,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7748,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7749,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7750,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7751,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7752,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7753,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7754,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7755,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7756,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7757,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
7758,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7759,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7760,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7761,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7762,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
7763,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7764,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7765,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7766,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7767,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7768,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7769,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7770,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7771,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7772,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7773,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7774,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7775,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7776,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7777,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7778,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7779,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7780,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7781,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7782,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7783,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7784,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
7785,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7786,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7787,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7788,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7789,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7790,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7791,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7792,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7793,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7794,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7795,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7796,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7797,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7798,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7799,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7800,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7801,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7802,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7803,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7804,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7805,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7806,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7807,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7808,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7809,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7810,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7811,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
7812,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7813,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7814,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
7815,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"# if the version is outdated, we have to pull from the archive :/
"
7816,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
7817,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7818,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7819,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7820,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7821,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7822,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7823,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7824,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7825,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7826,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7827,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7828,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7829,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7830,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"#?}}""; \
"
7831,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7832,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7833,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7834,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7835,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7836,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7837,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7838,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
7839,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7840,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7841,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7842,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
7843,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7844,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7845,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7846,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7847,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7848,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7849,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7850,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7851,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7852,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7853,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7854,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7855,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7856,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7857,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7858,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7859,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7860,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7861,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7862,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7863,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7864,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7865,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7866,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7867,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7868,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7869,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7870,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7871,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7872,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7873,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7874,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7875,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7876,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7877,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7878,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7879,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7880,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7881,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7882,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7883,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7884,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7885,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7886,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7887,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7888,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7889,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7890,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7891,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7892,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
7893,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7894,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7895,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7896,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7897,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
7898,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7899,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7900,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7901,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7902,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7903,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7904,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
7905,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7906,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7907,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7908,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7909,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7910,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7911,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7912,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7913,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7914,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7915,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7916,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7917,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
7918,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7919,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7920,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
7921,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7922,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7923,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7924,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/Dockerfile.template,"# verify Tomcat Native is working properly
"
7925,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7926,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
7927,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
7928,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
7929,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
7930,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7931,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7932,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
7933,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7934,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7935,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7936,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7937,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
7938,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7939,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7940,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7941,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7942,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7943,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7944,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7945,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7946,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7947,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
7948,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
7949,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7950,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7951,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7952,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7953,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7954,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
7955,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7956,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7957,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
7958,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
7959,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7960,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7961,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7962,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7963,1c1e57eac69764f7c46309d7321f381209067d9c,/Dockerfile.template,"# verify Tomcat Native is working properly
"
7964,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7965,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7966,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7967,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7968,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
7969,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7970,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7971,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7972,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
7973,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
7974,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7975,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7976,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
7977,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# if the version is outdated, we have to pull from the archive :/
"
7978,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7979,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
7980,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7981,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7982,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
7983,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
7984,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
7985,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
7986,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
7987,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
7988,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
7989,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
7990,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
7991,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
7992,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
7993,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
7994,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
7995,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
7996,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
7997,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
7998,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
7999,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8000,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8001,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8002,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8003,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8004,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8005,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8006,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8007,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8008,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8009,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8010,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8011,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8012,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8013,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8014,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8015,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8016,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8017,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8018,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8019,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
8020,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8021,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
8022,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8023,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
8024,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8025,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8026,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8027,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
8028,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8029,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8030,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8031,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8032,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/Dockerfile.template,"# verify Tomcat Native is working properly
"
8033,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8034,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8035,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8036,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8037,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8038,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8039,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8040,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8041,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8042,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8043,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8044,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8045,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8046,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8047,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8048,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8049,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8050,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8051,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8052,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8053,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8054,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8055,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8056,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8057,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8058,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8059,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8060,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8061,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8062,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8063,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8064,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8065,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8066,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8067,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8068,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8069,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8070,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8071,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8072,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8073,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8074,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8075,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8076,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8077,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8078,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8079,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8080,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8081,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8082,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8083,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8084,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8085,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8086,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8087,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8088,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8089,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8090,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8091,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8092,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8093,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8094,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8095,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8096,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8097,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8098,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8099,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8100,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8101,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8102,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8103,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8104,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8105,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8106,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8107,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8108,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8109,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8110,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8111,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8112,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8113,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8114,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8115,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8116,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8117,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8118,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8119,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8120,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8121,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8122,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8123,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8124,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8125,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8126,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8127,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"#?}}""; \
"
8128,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8129,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8130,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8131,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8132,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8133,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8134,c130c5c596edced66978f54b4d7fd8b4c2637719,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8135,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
8136,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8137,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8138,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8139,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8140,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8141,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8142,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8143,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8144,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8145,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8146,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
8147,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8148,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8149,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8150,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8151,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8152,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8153,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8154,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8155,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8156,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8157,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8158,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8159,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8160,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8161,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8162,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8163,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8164,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8165,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8166,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8167,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8168,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8169,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8170,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8171,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8172,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8173,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8174,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8175,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8176,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8177,5bc603137a5c85647c35d33170ff243dd6e78f39,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8178,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
8179,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8180,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8181,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8182,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
8183,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8184,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8185,abef52206ba44c495a37a90a8de3ab6d40431f12,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8186,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8187,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8188,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8189,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8190,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8191,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8192,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8193,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8194,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8195,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8196,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8197,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8198,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8199,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8200,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8201,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8202,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8203,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8204,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8205,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8206,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8207,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8208,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8209,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8210,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8211,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8212,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8213,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8214,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8215,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8216,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8217,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8218,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8219,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8220,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8221,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8222,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8223,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8224,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8225,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8226,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8227,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8228,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8229,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8230,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8231,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8232,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8233,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8234,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8235,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8236,35e89070548111261cf6a9e9398556d5b2c4f7f7,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8237,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8238,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8239,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8240,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8241,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8242,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8243,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8244,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8245,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8246,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8247,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8248,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8249,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8250,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8251,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8252,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8253,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8254,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8255,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8256,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8257,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8258,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8259,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8260,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8261,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8262,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8263,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8264,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8265,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8266,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8267,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8268,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8269,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8270,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8271,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8272,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8273,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8274,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8275,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8276,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8277,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8278,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8279,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8280,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8281,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8282,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8283,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8284,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8285,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8286,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8287,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8288,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8289,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8290,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8291,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8292,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8293,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8294,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8295,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8296,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8297,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8298,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8299,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8300,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8301,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8302,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8303,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8304,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8305,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8306,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8307,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8308,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8309,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8310,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8311,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8312,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8313,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8314,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8315,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8316,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8317,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8318,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8319,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8320,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8321,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8322,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8323,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8324,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8325,80778cf9ec89fcd828f2f7f8268f9154eca35e19,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8326,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8327,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8328,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8329,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8330,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8331,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8332,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8333,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8334,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8335,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8336,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8337,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8338,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8339,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8340,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8341,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8342,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8343,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8344,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8345,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8346,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8347,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8348,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8349,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8350,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8351,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8352,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8353,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8354,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8355,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8356,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8357,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8358,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8359,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8360,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8361,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8362,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8363,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8364,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8365,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8366,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8367,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8368,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8369,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8370,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8371,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8372,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8373,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8374,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8375,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8376,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8377,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8378,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8379,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8380,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8381,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8382,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8383,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8384,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8385,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8386,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8387,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8388,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8389,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8390,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8391,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8392,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8393,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8394,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8395,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8396,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8397,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8398,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8399,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8400,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8401,f3006804326b1fed9a20158ccb8007d5da80e31a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8402,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8403,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8404,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8405,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8406,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8407,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8408,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8409,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8410,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8411,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8412,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8413,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8414,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8415,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8416,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8417,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8418,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8419,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8420,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8421,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8422,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8423,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8424,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8425,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8426,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8427,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8428,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8429,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8430,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8431,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8432,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8433,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8434,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8435,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8436,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8437,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8438,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8439,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8440,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8441,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8442,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8443,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8444,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8445,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8446,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8447,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8448,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8449,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8450,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8451,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8452,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8453,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8454,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8455,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8456,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8457,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8458,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8459,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8460,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8461,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8462,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8463,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8464,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8465,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8466,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8467,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8468,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8469,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8470,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8471,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8472,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8473,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8474,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8475,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8476,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8477,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8478,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8479,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8480,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8481,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8482,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8483,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8484,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8485,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8486,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8487,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8488,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8489,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8490,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8491,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8492,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8493,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8494,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8495,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8496,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8497,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8498,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8499,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8500,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8501,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8502,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8503,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8504,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8505,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8506,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8507,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8508,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8509,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8510,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8511,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8512,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8513,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8514,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8515,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8516,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8517,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8518,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8519,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8520,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8521,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8522,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8523,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8524,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8525,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8526,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8527,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8528,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8529,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8530,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8531,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8532,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8533,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8534,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8535,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8536,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8537,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8538,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8539,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8540,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8541,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8542,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8543,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8544,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8545,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8546,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8547,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8548,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8549,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8550,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8551,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8552,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8553,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8554,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8555,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8556,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8557,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8558,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8559,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8560,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8561,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
8562,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8563,ec75141e3cb6276b07d66c16042152e2d4de119c,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8564,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8565,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8566,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8567,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8568,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8569,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8570,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8571,c280358006777004381dde9c64ad54d4876a7cf3,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
8572,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8573,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8574,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8575,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8576,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8577,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8578,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8579,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8580,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8581,8bf3981234ee391fede358b76f43dabefa1bdc7c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8582,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8583,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8584,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8585,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8586,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8587,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8588,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8589,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8590,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8591,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8592,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8593,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8594,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8595,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8596,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8597,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8598,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8599,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8600,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8601,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8602,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
8603,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8604,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8605,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8606,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8607,a2fb7998939d5dcd40c1b01382b0b62a47d06c54,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8608,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8609,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8610,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8611,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8612,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8613,33b4b8602e4ead0ba2c3ea42a9946f87cacb1d99,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8614,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
8615,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8616,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8617,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
8618,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8619,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8620,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
8621,7392659258be9e70dd2c93faa7aadacd060ab4d2,/Dockerfile.template,"# verify Tomcat Native is working properly
"
8622,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8623,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8624,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8625,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8626,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8627,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8628,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8629,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8630,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8631,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8632,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8633,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8634,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8635,ecf6b163813e2eccce5c3b40fa5690febc874fbe,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8636,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8637,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8638,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8639,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8640,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8641,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8642,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8643,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8644,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8645,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8646,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8647,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8648,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8649,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8650,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8651,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8652,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
8653,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8654,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8655,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8656,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8657,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8658,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8659,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8660,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8661,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8662,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8663,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8664,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8665,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8666,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8667,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8668,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8669,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8670,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8671,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8672,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8673,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8674,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
8675,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8676,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8677,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8678,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8679,382ba2d8a3338c99844fadc5508cd9b546fa09c3,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8680,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8681,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8682,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8683,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8684,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8685,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8686,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8687,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8688,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8689,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8690,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8691,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8692,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8693,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8694,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8695,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8696,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8697,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8698,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8699,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8700,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8701,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8702,4b72a0a78d129afc6c37574145c19519c977ceed,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8703,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8704,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8705,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8706,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8707,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8708,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8709,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8710,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8711,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8712,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8713,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8714,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8715,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8716,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8717,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8718,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8719,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8720,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8721,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8722,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8723,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8724,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8725,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8726,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8727,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8728,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8729,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8730,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
8731,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8732,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8733,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8734,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8735,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8736,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8737,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8738,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
8739,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8740,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8741,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8742,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8743,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8744,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8745,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8746,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8747,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8748,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8749,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8750,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8751,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8752,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8753,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8754,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8755,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8756,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8757,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8758,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8759,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8760,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8761,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8762,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8763,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8764,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8765,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8766,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8767,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8768,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8769,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8770,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8771,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8772,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8773,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8774,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8775,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8776,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8777,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8778,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8779,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8780,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8781,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
8782,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8783,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8784,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8785,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8786,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8787,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8788,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8789,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8790,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
8791,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8792,ab435d680d56084ebe0419adfb31cc58df3624dd,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8793,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8794,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8795,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8796,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8797,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8798,be1d4e9c614f7021770e581d507845c93b6f77f9,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8799,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8800,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8801,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8802,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8803,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8804,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8805,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8806,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8807,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8808,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8809,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8810,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8811,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8812,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8813,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8814,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8815,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
8816,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8817,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8818,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8819,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8820,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
8821,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8822,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8823,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8824,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8825,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8826,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8827,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8828,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8829,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8830,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8831,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8832,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8833,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8834,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8835,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8836,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8837,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8838,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8839,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8840,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8841,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
8842,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
8843,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
8844,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8845,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8846,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8847,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
8848,7d7d6256214d54613930ab2200be159aff49cac5,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8849,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8850,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8851,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8852,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8853,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8854,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8855,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8856,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8857,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8858,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8859,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8860,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8861,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8862,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8863,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8864,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8865,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8866,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8867,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8868,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8869,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8870,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8871,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8872,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8873,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8874,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8875,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8876,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8877,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8878,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8879,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8880,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8881,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8882,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8883,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8884,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8885,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8886,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8887,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"#?}}""; \
"
8888,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8889,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8890,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8891,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8892,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8893,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8894,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
8895,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8896,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8897,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8898,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8899,b6c19ae93937a18a8bb93c13ce8c8b07c428b3fc,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8900,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8901,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8902,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8903,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8904,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8905,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8906,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8907,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8908,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8909,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8910,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8911,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8912,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8913,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8914,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8915,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8916,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8917,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8918,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
8919,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8920,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8921,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8922,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8923,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8924,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8925,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8926,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8927,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8928,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8929,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8930,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8931,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8932,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8933,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8934,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8935,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
8936,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8937,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8938,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8939,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8940,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8941,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8942,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8943,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8944,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8945,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8946,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8947,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8948,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8949,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8950,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8951,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
8952,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
8953,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
8954,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
8955,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8956,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8957,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8958,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8959,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8960,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8961,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
8962,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8963,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8964,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8965,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
8966,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8967,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
8968,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8969,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8970,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8971,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8972,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8973,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8974,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8975,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8976,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
8977,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8978,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
8979,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
8980,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
8981,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8982,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
8983,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8984,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
8985,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
8986,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
8987,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
8988,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
8989,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
8990,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
8991,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
8992,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
8993,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
8994,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
8995,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
8996,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
8997,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
8998,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
8999,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9000,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9001,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9002,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9003,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9004,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9005,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9006,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9007,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9008,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9009,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9010,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9011,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9012,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9013,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9014,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9015,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9016,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9017,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9018,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9019,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9020,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9021,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9022,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9023,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9024,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9025,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9026,747c33edc8015de543775ceee497c5926d05795f,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
9027,747c33edc8015de543775ceee497c5926d05795f,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9028,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9029,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9030,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9031,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9032,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9033,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9034,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9035,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9036,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9037,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9038,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9039,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9040,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9041,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9042,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9043,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9044,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9045,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9046,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9047,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9048,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9049,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9050,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9051,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9052,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9053,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9054,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9055,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9056,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9057,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9058,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9059,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9060,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9061,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9062,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9063,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9064,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9065,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9066,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9067,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9068,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9069,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9070,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9071,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9072,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9073,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9074,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9075,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9076,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9077,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9078,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9079,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9080,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9081,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9082,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9083,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9084,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9085,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9086,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9087,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9088,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9089,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9090,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9091,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9092,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9093,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9094,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9095,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9096,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9097,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9098,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9099,5c76c4a20c9192ca75d9a9739070b7030b64304b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9100,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9101,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9102,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9103,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9104,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9105,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9106,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9107,4b5335ec27aee302823bea2e30dcf7b3118e61f2,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9108,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
9109,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9110,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
9111,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
9112,ec75141e3cb6276b07d66c16042152e2d4de119c,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9113,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9114,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9115,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9116,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9117,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9118,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9119,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9120,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9121,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9122,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9123,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9124,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9125,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9126,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9127,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9128,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9129,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9130,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9131,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9132,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9133,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9134,bd58c7237bff0357e76c9c9ee22deac77a2860cb,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9135,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9136,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9137,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9138,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9139,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9140,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9141,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9142,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9143,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9144,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9145,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9146,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9147,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9148,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9149,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9150,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9151,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9152,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9153,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9154,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9155,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9156,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9157,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
9158,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9159,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9160,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9161,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9162,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9163,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9164,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9165,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9166,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9167,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9168,68f75ec81727e398a223ed55fe50f9a3ff78d83f,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9169,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9170,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9171,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9172,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9173,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
9174,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9175,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9176,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9177,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9178,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9179,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9180,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9181,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9182,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9183,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9184,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9185,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9186,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9187,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9188,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9189,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9190,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9191,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9192,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9193,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9194,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9195,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9196,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9197,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9198,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9199,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9200,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9201,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9202,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9203,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9204,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9205,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9206,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9207,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9208,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9209,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9210,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9211,6ab703d29e98ab7a091bee846a58b8288cb81521,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9212,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9213,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9214,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9215,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9216,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9217,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9218,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9219,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9220,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9221,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9222,4b72a0a78d129afc6c37574145c19519c977ceed,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9223,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
9224,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9225,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
9226,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9227,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9228,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9229,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9230,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9231,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9232,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
9233,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
9234,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9235,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9236,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9237,151e9323ba57b5670d213ba47206700806eb2974,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
9238,af71a3020ae05a63741db44c69d722f00e1d382a,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9239,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9240,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9241,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9242,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9243,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9244,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9245,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9246,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9247,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9248,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9249,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9250,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9251,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9252,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9253,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9254,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9255,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9256,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
9257,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9258,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9259,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9260,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9261,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9262,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9263,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9264,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9265,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9266,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9267,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9268,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9269,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9270,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9271,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9272,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9273,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9274,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9275,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9276,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9277,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9278,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9279,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9280,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9281,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9282,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9283,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9284,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9285,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9286,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9287,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9288,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9289,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9290,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9291,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9292,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9293,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9294,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9295,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9296,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9297,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9298,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9299,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9300,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9301,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9302,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9303,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9304,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9305,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9306,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9307,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9308,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9309,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9310,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9311,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9312,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9313,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9314,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9315,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9316,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9317,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9318,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9319,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9320,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9321,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9322,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9323,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9324,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9325,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9326,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9327,88b51c6d19c83b689221d5eb2e9489d9d36ed8db,/7-jre7/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
9328,88b51c6d19c83b689221d5eb2e9489d9d36ed8db,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9329,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9330,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9331,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9332,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9333,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9334,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9335,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9336,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9337,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9338,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9339,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9340,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9341,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9342,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9343,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9344,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9345,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9346,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9347,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9348,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9349,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9350,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9351,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9352,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9353,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9354,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9355,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9356,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9357,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9358,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9359,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9360,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9361,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9362,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9363,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9364,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9365,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9366,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9367,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9368,6f1c628fa92feea8b28e98e56a990500f2326936,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9369,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9370,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9371,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9372,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9373,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9374,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9375,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9376,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9377,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9378,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9379,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9380,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9381,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9382,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9383,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9384,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9385,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9386,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9387,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9388,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9389,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9390,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9391,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9392,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9393,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9394,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9395,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9396,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9397,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9398,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9399,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9400,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9401,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9402,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9403,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9404,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9405,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9406,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9407,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9408,656c22d037ccaa6adaedbb791febbd2e5197fadd,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9409,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9410,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9411,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9412,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9413,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9414,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9415,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9416,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9417,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9418,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9419,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9420,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9421,3b05667011a600a2f46422dd533467eff8e7fecf,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9422,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9423,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9424,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9425,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9426,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9427,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9428,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9429,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9430,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9431,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9432,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9433,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9434,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9435,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9436,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9437,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9438,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9439,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9440,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9441,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9442,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9443,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9444,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9445,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9446,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9447,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9448,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9449,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9450,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9451,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9452,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9453,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9454,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9455,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9456,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9457,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9458,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9459,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9460,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9461,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9462,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9463,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9464,676f0e07000cd25c027b71d2433ddf531a75eefd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9465,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9466,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9467,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9468,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9469,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9470,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9471,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9472,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9473,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9474,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9475,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9476,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9477,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9478,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9479,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9480,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9481,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9482,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9483,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9484,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9485,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9486,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9487,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9488,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9489,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9490,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9491,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9492,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9493,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9494,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9495,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9496,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9497,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9498,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
9499,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9500,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9501,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9502,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9503,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9504,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9505,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9506,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9507,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9508,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9509,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9510,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9511,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9512,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9513,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9514,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9515,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9516,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9517,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9518,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9519,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9520,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9521,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9522,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9523,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9524,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9525,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9526,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9527,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9528,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9529,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9530,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9531,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9532,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9533,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9534,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9535,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9536,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9537,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9538,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9539,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9540,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9541,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9542,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9543,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9544,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9545,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9546,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9547,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9548,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9549,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9550,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9551,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9552,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
9553,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9554,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9555,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9556,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9557,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9558,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9559,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9560,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9561,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9562,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9563,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9564,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9565,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9566,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9567,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9568,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9569,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9570,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9571,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9572,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9573,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9574,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9575,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9576,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9577,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9578,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9579,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9580,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9581,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9582,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9583,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9584,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9585,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9586,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9587,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9588,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9589,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9590,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9591,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9592,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9593,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9594,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9595,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9596,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9597,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9598,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9599,f26c14147f9affae8f32100430130271fc82bd3e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9600,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9601,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9602,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9603,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9604,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9605,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9606,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9607,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9608,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9609,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9610,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9611,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9612,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9613,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9614,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9615,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9616,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9617,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9618,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9619,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9620,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9621,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9622,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9623,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9624,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9625,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9626,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9627,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9628,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9629,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9630,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9631,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9632,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9633,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9634,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9635,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9636,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9637,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9638,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9639,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9640,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9641,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9642,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9643,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9644,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9645,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9646,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9647,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9648,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9649,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9650,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9651,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9652,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9653,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9654,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9655,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9656,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9657,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9658,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9659,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9660,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9661,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9662,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9663,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9664,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9665,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9666,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9667,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9668,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9669,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9670,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9671,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9672,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9673,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9674,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9675,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9676,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9677,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9678,5bc603137a5c85647c35d33170ff243dd6e78f39,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9679,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9680,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9681,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9682,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9683,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9684,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9685,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9686,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9687,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9688,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9689,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9690,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9691,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9692,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9693,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9694,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9695,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9696,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9697,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9698,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9699,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9700,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9701,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9702,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9703,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9704,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9705,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9706,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9707,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9708,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9709,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9710,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9711,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9712,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9713,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9714,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9715,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9716,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9717,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9718,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9719,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9720,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9721,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9722,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9723,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9724,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9725,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9726,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9727,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9728,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9729,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9730,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9731,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9732,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9733,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9734,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9735,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9736,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9737,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9738,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9739,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9740,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9741,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9742,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9743,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9744,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9745,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9746,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9747,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9748,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9749,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9750,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
9751,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9752,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
9753,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9754,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9755,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9756,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9757,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9758,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9759,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9760,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
9761,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
9762,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9763,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9764,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9765,6659346e799ce48db4942bf701884a1bb0d31508,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
9766,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9767,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9768,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9769,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9770,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9771,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9772,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9773,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9774,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9775,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9776,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9777,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9778,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9779,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9780,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9781,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9782,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9783,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9784,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9785,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9786,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9787,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9788,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9789,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9790,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9791,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9792,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9793,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9794,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9795,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9796,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9797,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9798,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9799,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9800,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
9801,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9802,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9803,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9804,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9805,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9806,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9807,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9808,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9809,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9810,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9811,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9812,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9813,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9814,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9815,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9816,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9817,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9818,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9819,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9820,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9821,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9822,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9823,efe59ebe52ba94045f4923be85214f4431a982a6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9824,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9825,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9826,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9827,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9828,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9829,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9830,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9831,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9832,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9833,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9834,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9835,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
9836,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9837,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9838,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9839,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9840,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9841,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9842,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9843,2b55df5b9feaa7b8354e8b2419a88e494a110621,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9844,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
9845,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9846,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9847,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9848,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
9849,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9850,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9851,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
9852,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9853,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9854,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9855,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9856,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9857,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9858,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9859,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9860,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9861,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
9862,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9863,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9864,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9865,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9866,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
9867,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9868,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9869,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
9870,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9871,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9872,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9873,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9874,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9875,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9876,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9877,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9878,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9879,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9880,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9881,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9882,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9883,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9884,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9885,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9886,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
9887,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9888,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9889,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9890,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9891,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9892,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9893,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9894,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9895,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9896,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9897,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9898,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
9899,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9900,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9901,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9902,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9903,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9904,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
9905,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9906,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9907,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9908,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9909,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9910,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9911,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9912,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9913,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9914,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9915,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9916,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9917,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9918,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9919,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9920,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
9921,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9922,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9923,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9924,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
9925,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9926,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9927,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9928,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9929,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/Dockerfile.template,"# verify Tomcat Native is working properly
"
9930,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9931,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9932,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9933,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9934,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9935,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
9936,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
9937,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
9938,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
9939,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
9940,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9941,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9942,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9943,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
9944,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9945,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9946,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9947,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9948,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
9949,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
9950,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
9951,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9952,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9953,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9954,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9955,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9956,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9957,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9958,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9959,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
9960,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9961,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9962,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9963,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9964,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
9965,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
9966,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9967,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9968,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9969,81c66e2e695ad5548b726841c00512a9acf18eb5,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
9970,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9971,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
9972,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
9973,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9974,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9975,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9976,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9977,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
9978,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9979,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9980,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
9981,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9982,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
9983,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
9984,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
9985,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
9986,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
9987,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9988,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
9989,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9990,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
9991,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
9992,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
9993,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
9994,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
9995,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
9996,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
9997,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
9998,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
9999,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10000,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10001,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10002,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10003,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10004,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10005,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10006,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10007,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10008,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10009,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10010,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10011,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10012,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10013,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10014,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10015,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10016,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10017,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10018,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10019,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10020,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10021,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10022,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10023,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10024,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10025,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10026,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10027,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10028,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10029,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10030,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10031,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10032,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10033,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10034,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10035,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10036,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10037,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10038,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10039,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10040,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10041,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10042,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10043,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10044,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10045,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10046,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10047,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10048,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10049,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10050,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10051,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10052,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10053,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10054,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10055,6e4ee9a93be401c9c70aeda9f3c6ccf8a3ccdb8b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10056,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10057,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10058,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10059,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10060,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10061,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10062,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10063,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10064,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10065,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10066,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10067,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10068,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10069,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10070,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10071,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10072,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10073,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10074,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10075,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10076,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10077,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10078,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10079,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10080,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10081,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10082,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10083,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10084,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10085,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10086,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10087,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10088,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10089,2755d07019f66a570428bd2747cb6ac12afbdda9,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10090,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10091,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10092,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10093,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10094,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10095,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10096,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10097,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10098,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10099,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10100,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10101,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10102,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10103,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10104,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10105,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10106,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10107,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10108,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10109,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10110,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10111,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10112,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10113,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10114,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10115,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10116,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10117,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10118,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10119,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10120,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10121,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10122,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10123,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10124,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10125,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10126,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10127,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10128,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10129,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10130,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10131,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10132,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10133,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10134,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10135,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10136,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10137,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10138,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10139,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10140,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10141,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10142,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10143,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10144,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10145,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
10146,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10147,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10148,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
10149,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# if the version is outdated, we have to pull from the archive :/
"
10150,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10151,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10152,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10153,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10154,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10155,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10156,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10157,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10158,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10159,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10160,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10161,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10162,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10163,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10164,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10165,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10166,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10167,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10168,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10169,7392659258be9e70dd2c93faa7aadacd060ab4d2,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10170,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10171,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10172,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10173,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10174,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10175,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10176,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10177,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10178,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10179,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10180,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10181,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10182,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10183,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10184,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10185,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10186,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10187,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10188,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10189,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10190,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10191,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10192,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10193,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10194,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10195,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10196,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10197,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10198,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10199,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10200,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10201,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10202,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10203,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
10204,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10205,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10206,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10207,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10208,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10209,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10210,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10211,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10212,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10213,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
10214,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10215,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10216,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10217,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10218,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10219,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10220,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10221,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10222,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10223,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10224,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10225,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10226,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10227,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10228,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10229,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10230,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10231,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10232,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10233,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10234,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10235,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10236,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10237,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10238,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10239,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10240,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10241,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10242,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10243,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10244,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10245,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10246,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10247,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10248,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10249,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10250,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10251,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10252,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10253,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10254,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10255,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10256,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10257,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10258,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10259,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10260,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10261,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10262,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10263,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10264,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10265,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10266,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10267,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10268,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10269,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10270,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10271,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10272,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10273,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10274,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10275,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10276,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10277,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10278,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10279,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10280,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10281,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10282,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10283,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10284,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10285,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10286,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10287,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10288,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10289,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10290,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10291,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10292,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10293,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10294,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10295,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10296,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10297,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10298,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10299,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10300,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10301,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10302,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10303,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10304,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10305,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10306,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10307,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10308,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10309,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10310,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10311,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10312,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10313,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10314,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10315,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10316,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10317,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10318,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10319,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10320,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10321,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10322,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10323,3bbd4ed7a59680ae1d6dc3f123897f07e0625989,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10324,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10325,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10326,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10327,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10328,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10329,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10330,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10331,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10332,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10333,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10334,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10335,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10336,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10337,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10338,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10339,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10340,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10341,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10342,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10343,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10344,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10345,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10346,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10347,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10348,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10349,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10350,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10351,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10352,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10353,989f50ed5db788921a4954109b90362e2209295e,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10354,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10355,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10356,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10357,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10358,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10359,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10360,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10361,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10362,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10363,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10364,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10365,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10366,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10367,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10368,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10369,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10370,023eb5126ff70b769f1f84b28c440fb6128bffe7,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10371,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10372,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10373,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10374,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10375,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10376,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10377,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10378,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10379,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10380,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10381,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10382,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10383,1691653797eb1f26b4e1d4898c71094ff9104e0e,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10384,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
10385,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10386,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10387,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10388,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10389,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10390,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10391,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10392,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10393,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10394,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10395,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10396,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10397,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10398,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10399,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10400,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10401,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10402,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10403,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10404,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10405,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10406,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10407,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10408,e36c4044b7ece1361f124aaf3560c2efd888b62f,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10409,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10410,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10411,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10412,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10413,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10414,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10415,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10416,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10417,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10418,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10419,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10420,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10421,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10422,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10423,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10424,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10425,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10426,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10427,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10428,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10429,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10430,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10431,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10432,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10433,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10434,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10435,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10436,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10437,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10438,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10439,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10440,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10441,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10442,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10443,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10444,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10445,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10446,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10447,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10448,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10449,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10450,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10451,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10452,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10453,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10454,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10455,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10456,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10457,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10458,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10459,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10460,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10461,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10462,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10463,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10464,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10465,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10466,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10467,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10468,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10469,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10470,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10471,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10472,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10473,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10474,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10475,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10476,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10477,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10478,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10479,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10480,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10481,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10482,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10483,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10484,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10485,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10486,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10487,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10488,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10489,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10490,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10491,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10492,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10493,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10494,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10495,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10496,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10497,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10498,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10499,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10500,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10501,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10502,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10503,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10504,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10505,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10506,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10507,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10508,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10509,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10510,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10511,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10512,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10513,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10514,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10515,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10516,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10517,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10518,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10519,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10520,676f0e07000cd25c027b71d2433ddf531a75eefd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10521,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10522,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10523,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10524,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10525,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10526,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10527,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10528,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10529,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10530,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10531,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10532,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10533,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10534,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10535,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10536,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10537,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10538,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10539,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10540,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10541,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10542,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10543,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10544,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10545,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10546,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10547,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10548,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10549,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10550,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10551,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"#?}}""; \
"
10552,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10553,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10554,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10555,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10556,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10557,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10558,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10559,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10560,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10561,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10562,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10563,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10564,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10565,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10566,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10567,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10568,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10569,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10570,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10571,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10572,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10573,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10574,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10575,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10576,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10577,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10578,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10579,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10580,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10581,ec4d672211c919aad07ac7bebe7c6f26373ee467,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10582,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
10583,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10584,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
10585,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
10586,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10587,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10588,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10589,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10590,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10591,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10592,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10593,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10594,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10595,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10596,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10597,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10598,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10599,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10600,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10601,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
10602,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10603,844072d81f9970fa1229fb971340ef49978a3533,/6/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
10604,844072d81f9970fa1229fb971340ef49978a3533,/6/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10605,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10606,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10607,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10608,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10609,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10610,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10611,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10612,99e449dbecd64705dd81c07b8767ec67e706be41,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10613,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10614,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10615,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10616,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10617,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10618,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10619,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10620,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10621,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10622,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10623,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10624,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10625,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10626,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10627,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10628,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10629,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10630,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10631,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10632,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10633,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10634,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10635,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10636,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10637,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10638,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10639,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10640,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10641,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10642,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10643,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10644,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10645,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
10646,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10647,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
10648,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10649,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10650,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10651,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10652,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10653,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10654,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10655,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10656,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10657,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10658,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10659,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10660,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10661,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10662,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10663,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10664,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10665,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10666,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10667,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10668,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10669,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10670,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10671,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10672,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10673,5c76c4a20c9192ca75d9a9739070b7030b64304b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10674,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10675,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10676,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10677,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10678,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10679,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10680,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10681,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10682,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10683,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10684,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
10685,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10686,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10687,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10688,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10689,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
10690,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10691,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10692,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10693,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10694,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10695,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10696,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10697,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10698,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10699,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10700,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10701,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10702,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10703,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10704,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10705,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10706,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10707,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10708,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10709,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10710,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10711,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10712,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10713,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10714,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10715,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10716,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10717,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10718,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10719,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10720,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10721,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10722,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10723,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10724,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10725,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10726,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10727,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10728,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10729,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10730,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10731,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10732,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10733,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10734,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10735,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10736,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10737,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10738,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10739,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10740,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10741,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10742,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10743,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10744,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10745,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10746,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10747,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10748,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10749,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10750,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10751,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10752,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10753,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
10754,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10755,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10756,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10757,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10758,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10759,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10760,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10761,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10762,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
10763,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10764,dcb6ba09fa6e8f396f38106ca1086a6078799393,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10765,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10766,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10767,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10768,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10769,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10770,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10771,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10772,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10773,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10774,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10775,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10776,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10777,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10778,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10779,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10780,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10781,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10782,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10783,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10784,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10785,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10786,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10787,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10788,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10789,984d958106aebab3f124f616277a2512da4d4a9f,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10790,116d0258150ad27d7141d16f7492a5215a4b8fec,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
10791,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10792,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10793,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10794,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10795,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10796,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10797,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10798,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10799,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10800,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10801,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10802,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10803,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10804,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10805,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10806,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10807,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10808,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10809,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10810,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
10811,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10812,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10813,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10814,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10815,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
10816,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10817,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10818,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10819,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10820,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10821,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10822,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10823,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10824,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10825,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10826,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10827,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10828,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10829,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10830,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
10831,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
10832,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
10833,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
10834,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
10835,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10836,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10837,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10838,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10839,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10840,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10841,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10842,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10843,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10844,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10845,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10846,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10847,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10848,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10849,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10850,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10851,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10852,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10853,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10854,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10855,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
10856,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
10857,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
10858,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10859,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10860,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10861,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
10862,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
10863,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10864,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10865,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10866,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10867,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10868,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10869,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10870,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
10871,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10872,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10873,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10874,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10875,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10876,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10877,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10878,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10879,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10880,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10881,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10882,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
10883,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10884,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10885,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10886,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10887,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10888,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10889,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10890,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10891,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10892,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10893,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10894,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10895,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10896,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
10897,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10898,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10899,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10900,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
10901,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10902,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10903,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10904,1651e929e7d4c9785b602cb93cdd2503573c3834,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
10905,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10906,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10907,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10908,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10909,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10910,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10911,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10912,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10913,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10914,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10915,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
10916,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10917,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10918,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10919,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10920,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10921,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10922,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10923,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10924,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10925,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10926,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10927,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
10928,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10929,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10930,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10931,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
10932,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10933,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10934,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
10935,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10936,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10937,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10938,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10939,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
10940,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
10941,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
10942,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10943,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10944,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10945,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10946,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10947,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10948,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10949,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10950,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
10951,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10952,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10953,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10954,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10955,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
10956,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10957,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10958,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10959,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10960,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10961,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
10962,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10963,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10964,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10965,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
10966,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10967,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10968,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10969,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10970,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10971,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10972,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10973,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10974,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10975,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10976,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10977,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
10978,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
10979,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
10980,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
10981,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
10982,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
10983,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
10984,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10985,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10986,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
10987,f26c14147f9affae8f32100430130271fc82bd3e,/Dockerfile.template,"# verify Tomcat Native is working properly
"
10988,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
10989,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
10990,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
10991,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
10992,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
10993,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
10994,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
10995,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
10996,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
10997,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
10998,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
10999,f0d82b79ed391226b29ed1c302699c360b7fd617,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11000,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11001,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11002,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11003,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11004,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11005,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11006,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11007,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11008,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11009,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11010,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11011,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11012,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11013,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11014,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11015,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11016,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11017,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11018,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11019,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11020,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11021,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11022,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11023,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11024,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11025,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11026,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11027,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11028,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11029,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11030,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11031,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11032,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11033,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11034,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11035,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11036,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11037,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11038,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11039,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11040,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11041,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11042,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11043,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11044,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11045,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11046,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11047,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11048,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11049,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11050,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11051,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11052,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11053,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11054,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11055,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11056,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11057,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11058,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11059,aceabe036433c68b278767811bac728c6db4f8b3,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11060,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11061,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11062,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11063,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11064,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11065,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11066,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11067,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11068,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11069,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11070,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11071,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11072,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11073,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11074,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11075,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11076,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11077,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11078,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11079,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11080,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11081,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11082,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11083,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11084,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11085,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11086,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11087,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11088,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11089,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11090,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11091,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11092,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11093,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11094,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11095,221fa4f6f1abfa3f033d4be781fa48faecbee212,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11096,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11097,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11098,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11099,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11100,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11101,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11102,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11103,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11104,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11105,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11106,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11107,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11108,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11109,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11110,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11111,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11112,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11113,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11114,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11115,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11116,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11117,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11118,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11119,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11120,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11121,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11122,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11123,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11124,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11125,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11126,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11127,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11128,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11129,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11130,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11131,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11132,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11133,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11134,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11135,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11136,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11137,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11138,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11139,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11140,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11141,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11142,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11143,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11144,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11145,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11146,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11147,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11148,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11149,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11150,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11151,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11152,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11153,1691653797eb1f26b4e1d4898c71094ff9104e0e,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11154,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11155,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11156,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11157,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11158,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11159,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11160,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11161,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11162,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11163,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11164,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11165,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11166,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11167,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11168,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11169,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11170,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11171,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11172,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11173,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11174,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11175,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11176,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11177,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11178,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11179,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11180,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11181,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11182,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11183,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11184,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11185,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11186,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11187,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11188,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11189,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11190,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
11191,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11192,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
11193,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11194,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
11195,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11196,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11197,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
11198,efe59ebe52ba94045f4923be85214f4431a982a6,/Dockerfile.template,"# verify Tomcat Native is working properly
"
11199,24e869945b9d9d3f02f979524b8caf989d08ed6c,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11200,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11201,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11202,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11203,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11204,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11205,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11206,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11207,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11208,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11209,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11210,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11211,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11212,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11213,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11214,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11215,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11216,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11217,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11218,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11219,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11220,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11221,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11222,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11223,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11224,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11225,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11226,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11227,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11228,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11229,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11230,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11231,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11232,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11233,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11234,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11235,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11236,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11237,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11238,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11239,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11240,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11241,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11242,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11243,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11244,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11245,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11246,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11247,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11248,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11249,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11250,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11251,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11252,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11253,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11254,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11255,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11256,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11257,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11258,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11259,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11260,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11261,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11262,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11263,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11264,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11265,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11266,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11267,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11268,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11269,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11270,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11271,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11272,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11273,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11274,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11275,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11276,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11277,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11278,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11279,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11280,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11281,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11282,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11283,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11284,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11285,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11286,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11287,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11288,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11289,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11290,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11291,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11292,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11293,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11294,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11295,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11296,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11297,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11298,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11299,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11300,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11301,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11302,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11303,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11304,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11305,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11306,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11307,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11308,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11309,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11310,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11311,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11312,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11313,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11314,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11315,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11316,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11317,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11318,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11319,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11320,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11321,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11322,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11323,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11324,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11325,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11326,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11327,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11328,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11329,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11330,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11331,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11332,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11333,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11334,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11335,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11336,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11337,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11338,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11339,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11340,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11341,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11342,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11343,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11344,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11345,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11346,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11347,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11348,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11349,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11350,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11351,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11352,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11353,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11354,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11355,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11356,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11357,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11358,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11359,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11360,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11361,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11362,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11363,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11364,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11365,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11366,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11367,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11368,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11369,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11370,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11371,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11372,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11373,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11374,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11375,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11376,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11377,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11378,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11379,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11380,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11381,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
11382,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11383,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11384,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11385,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11386,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11387,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11388,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11389,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11390,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11391,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11392,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
11393,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11394,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11395,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11396,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11397,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
11398,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
11399,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11400,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11401,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11402,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11403,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11404,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11405,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11406,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
11407,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11408,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11409,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11410,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11411,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11412,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11413,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11414,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11415,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11416,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11417,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11418,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11419,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11420,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11421,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11422,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11423,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11424,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11425,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11426,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11427,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11428,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11429,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11430,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11431,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11432,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11433,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11434,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11435,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11436,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11437,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11438,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11439,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11440,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11441,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11442,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11443,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11444,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11445,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11446,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11447,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11448,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11449,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11450,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11451,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11452,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11453,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11454,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11455,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11456,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11457,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11458,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11459,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11460,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11461,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11462,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11463,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11464,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11465,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
11466,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11467,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11468,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11469,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
11470,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11471,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11472,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11473,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11474,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11475,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11476,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11477,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11478,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11479,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11480,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11481,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11482,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11483,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11484,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11485,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11486,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11487,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11488,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11489,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11490,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11491,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11492,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11493,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11494,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11495,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11496,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11497,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11498,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11499,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11500,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11501,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
11502,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11503,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11504,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11505,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11506,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11507,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11508,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11509,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11510,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11511,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11512,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11513,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11514,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11515,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11516,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11517,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11518,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11519,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11520,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11521,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11522,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11523,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11524,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11525,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11526,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11527,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11528,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11529,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11530,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11531,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11532,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11533,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11534,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11535,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11536,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11537,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11538,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11539,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11540,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11541,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11542,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11543,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11544,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11545,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11546,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11547,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11548,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11549,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11550,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11551,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11552,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11553,62da5129632732dc85024a52a55465a86ecb3d03,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11554,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11555,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11556,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11557,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11558,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11559,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11560,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11561,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11562,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11563,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11564,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11565,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11566,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11567,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11568,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11569,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11570,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11571,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11572,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11573,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11574,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11575,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11576,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11577,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11578,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11579,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11580,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11581,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11582,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11583,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11584,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11585,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11586,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
11587,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11588,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11589,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11590,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11591,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11592,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11593,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11594,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11595,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11596,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11597,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
11598,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11599,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11600,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11601,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11602,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11603,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11604,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11605,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11606,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11607,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11608,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11609,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11610,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11611,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11612,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11613,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11614,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11615,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11616,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11617,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11618,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11619,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11620,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11621,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11622,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11623,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11624,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11625,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11626,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11627,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11628,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11629,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11630,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11631,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11632,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11633,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11634,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11635,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11636,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11637,eb33d0851a5dc2379fb192613c64ff2cd82f631b,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11638,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11639,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11640,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11641,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11642,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11643,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11644,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11645,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11646,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11647,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11648,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11649,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11650,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11651,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11652,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11653,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11654,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11655,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11656,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11657,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11658,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11659,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11660,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11661,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11662,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11663,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11664,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11665,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11666,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11667,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11668,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11669,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11670,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11671,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11672,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11673,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11674,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11675,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11676,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11677,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11678,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11679,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11680,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11681,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11682,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11683,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11684,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11685,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11686,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11687,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11688,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11689,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11690,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11691,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11692,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11693,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11694,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11695,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11696,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11697,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11698,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11699,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11700,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11701,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11702,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11703,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11704,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11705,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11706,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11707,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11708,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11709,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11710,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11711,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11712,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11713,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11714,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11715,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11716,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11717,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11718,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11719,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11720,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11721,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11722,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11723,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11724,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11725,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11726,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11727,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11728,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11729,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11730,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11731,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11732,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11733,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11734,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11735,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11736,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11737,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11738,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11739,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11740,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11741,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11742,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11743,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11744,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11745,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11746,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11747,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11748,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11749,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11750,7da0fe6d6ba425faf5706ad13f1b6970a5192dd5,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11751,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11752,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11753,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
11754,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
11755,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
11756,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11757,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11758,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11759,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11760,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
11761,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
11762,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11763,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11764,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11765,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
11766,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11767,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11768,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11769,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11770,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11771,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11772,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11773,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11774,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11775,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11776,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11777,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11778,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11779,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11780,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11781,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11782,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11783,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11784,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11785,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11786,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11787,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11788,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11789,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11790,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11791,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11792,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11793,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11794,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11795,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11796,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11797,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11798,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11799,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11800,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11801,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11802,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11803,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11804,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11805,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11806,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11807,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11808,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
11809,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11810,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11811,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11812,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11813,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11814,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11815,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11816,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11817,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11818,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11819,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11820,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11821,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11822,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11823,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11824,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11825,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11826,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11827,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11828,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11829,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11830,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11831,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11832,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11833,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11834,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11835,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11836,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11837,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11838,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11839,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11840,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11841,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11842,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11843,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11844,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11845,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11846,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11847,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11848,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11849,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11850,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
11851,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11852,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11853,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11854,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11855,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11856,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11857,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11858,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11859,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11860,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11861,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11862,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11863,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11864,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11865,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11866,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11867,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11868,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11869,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11870,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11871,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11872,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11873,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11874,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11875,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11876,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11877,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11878,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11879,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11880,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11881,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
11882,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
11883,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11884,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11885,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11886,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11887,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11888,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11889,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11890,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11891,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11892,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11893,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
11894,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11895,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11896,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11897,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11898,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11899,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11900,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11901,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11902,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11903,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11904,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11905,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11906,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11907,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
11908,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11909,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11910,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11911,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11912,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11913,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11914,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11915,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11916,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11917,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11918,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11919,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11920,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11921,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11922,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11923,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11924,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11925,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11926,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11927,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11928,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11929,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11930,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11931,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11932,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11933,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11934,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11935,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11936,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11937,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11938,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11939,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
11940,9afdd27634a5b847a3b7aa2d611ad5828659d228,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11941,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11942,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11943,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
11944,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11945,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
11946,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11947,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11948,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11949,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11950,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11951,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11952,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11953,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11954,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11955,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11956,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11957,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11958,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11959,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11960,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11961,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11962,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11963,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11964,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11965,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
11966,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11967,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
11968,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
11969,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
11970,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11971,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11972,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11973,7392659258be9e70dd2c93faa7aadacd060ab4d2,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
11974,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11975,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11976,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11977,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
11978,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
11979,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
11980,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11981,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11982,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11983,dae2567be7566c2fee975d067b79674301357af2,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
11984,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
11985,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
11986,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11987,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
11988,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
11989,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
11990,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
11991,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
11992,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
11993,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
11994,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
11995,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
11996,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
11997,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
11998,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
11999,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
12000,81c66e2e695ad5548b726841c00512a9acf18eb5,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
12001,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12002,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12003,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12004,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12005,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12006,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12007,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12008,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12009,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12010,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12011,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12012,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12013,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12014,56e65662f0e151aed90bd255aa97a10de17b8316,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12015,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12016,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12017,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12018,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12019,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12020,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12021,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12022,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12023,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12024,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12025,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12026,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12027,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12028,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12029,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12030,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12031,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12032,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12033,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12034,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12035,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12036,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12037,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12038,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12039,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12040,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12041,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12042,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12043,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12044,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12045,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12046,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12047,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12048,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12049,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12050,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12051,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12052,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12053,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12054,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12055,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12056,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12057,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12058,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12059,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
12060,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12061,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12062,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12063,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12064,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12065,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12066,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12067,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12068,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12069,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12070,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12071,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12072,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12073,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12074,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12075,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12076,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12077,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12078,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12079,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12080,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12081,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12082,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12083,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12084,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12085,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12086,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12087,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12088,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12089,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12090,7f37b0e675efd7f654e1fcbfbf6628f25b68f605,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12091,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12092,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12093,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12094,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12095,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12096,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12097,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12098,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12099,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12100,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12101,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12103,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12104,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12105,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12106,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12107,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12108,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12109,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12110,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12111,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12112,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12113,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12114,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12115,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12116,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12117,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12118,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12119,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12120,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12121,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12122,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12123,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12124,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12125,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12126,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12127,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12128,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12129,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12130,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12131,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12132,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12133,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12134,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12135,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12136,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12137,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12138,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12139,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12140,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12141,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12142,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12143,52beaf7ad8bd55ae0b0f44031f370b5461209af8,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12144,fa5fe9c4327c92a99fa2ae63ff876acc8e5389e5,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12145,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12146,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12147,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12148,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12149,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12150,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12151,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12152,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12153,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12154,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12155,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12156,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12157,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12158,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12159,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12160,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12161,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12162,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12163,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12164,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12165,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12166,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12167,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12168,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12169,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12170,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12171,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12172,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12173,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12174,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12175,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12176,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12177,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12178,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12179,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12180,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12181,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12182,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12183,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12184,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12185,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12186,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
12187,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12188,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12189,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12190,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12191,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12192,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12193,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12194,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12195,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12196,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12197,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
12198,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12199,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12200,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12201,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12202,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12203,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12204,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12205,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12206,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12207,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12208,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12209,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12210,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12211,545107b374ce0b807a29ed958207d177576761ad,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12212,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12213,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12214,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12215,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12216,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12217,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12218,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12219,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12220,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12221,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12222,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12223,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12224,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12225,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12226,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12227,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
12228,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12229,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12230,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12231,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12232,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
12233,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12234,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12235,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12236,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12237,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12238,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12239,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12240,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12241,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12242,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12243,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12244,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12245,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12246,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12247,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12248,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12249,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12250,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12251,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12252,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12253,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12254,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12255,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12256,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12257,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12258,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12259,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12260,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12261,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12262,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12263,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12264,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12265,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12266,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12267,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12268,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12269,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12270,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12271,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12272,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12273,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12274,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12275,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12276,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12277,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12278,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12279,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12280,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12281,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12282,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12283,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12284,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12285,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12286,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12287,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12288,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12289,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12290,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12291,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12292,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12293,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12294,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12295,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
12296,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12297,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
12298,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12299,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
12300,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12301,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12302,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12303,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
12304,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12305,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12306,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12307,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12308,09406a39e2a096338762737c2f716effee73533f,/Dockerfile.template,"# verify Tomcat Native is working properly
"
12309,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12310,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12311,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12312,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12313,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12314,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12315,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12316,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12317,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12318,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12319,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12320,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12321,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12322,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12323,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12324,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12325,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12326,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12327,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12328,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12329,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12330,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12331,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12332,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12333,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12334,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12335,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12336,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12337,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12338,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12339,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12340,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12341,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12342,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12343,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12344,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12345,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12346,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12347,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12348,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12349,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12350,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12351,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12352,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12353,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12354,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12355,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12356,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12357,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12358,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12359,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12360,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12361,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12362,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12363,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12364,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12365,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12366,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12367,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12368,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12369,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12370,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12371,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12372,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12373,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12374,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12375,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12376,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12377,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12378,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12379,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12380,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12381,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12382,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12383,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12384,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
12385,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12386,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12387,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12388,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12389,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12390,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12391,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12392,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12393,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12394,ee1adc11bb185b1948058931ee9e5c48cfd606a1,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12395,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12396,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12397,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12398,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12399,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12400,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12401,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12402,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12403,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12404,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12405,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12406,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12407,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12408,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12409,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12410,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12411,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12412,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12413,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12414,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12415,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12416,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12417,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12418,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12420,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12421,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12422,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12423,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12424,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12425,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12426,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12427,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12428,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12429,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12430,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12431,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12432,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12433,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12434,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12435,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12436,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12437,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12438,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
12439,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12440,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12441,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12442,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12443,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
12444,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12445,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12446,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12447,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12448,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12449,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12450,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12451,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12452,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12453,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12454,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12455,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12456,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12457,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
12458,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
12459,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12460,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12461,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12462,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
12463,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12464,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12465,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12466,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12467,c0df3d5463944671fefe200bdadd95c69a616ab4,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
12468,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12469,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12470,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12471,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12472,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12473,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12474,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12475,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12476,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
12477,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12478,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12479,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12480,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12481,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12482,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12483,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12484,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12485,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12486,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12487,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12488,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12489,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12490,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12491,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12492,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12493,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12494,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12495,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12496,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12497,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12498,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12499,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12500,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12501,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12502,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12503,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12504,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12505,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12506,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12507,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12508,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12509,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12510,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12511,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12512,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12513,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12514,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12515,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12516,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12517,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12518,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12519,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12520,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12521,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12522,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12523,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12524,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12525,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12526,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12527,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12528,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12529,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12530,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12531,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12532,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12533,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12534,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12535,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12536,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12537,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12538,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12539,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12540,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12541,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12542,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12543,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12544,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12545,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12546,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12547,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12548,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12549,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12550,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12551,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12552,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12553,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
12554,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12555,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
12556,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
12557,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12558,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12559,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12560,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12561,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12562,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12563,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12564,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12565,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12566,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12567,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12568,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12569,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12570,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12571,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12572,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12573,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12574,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12575,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12576,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
12577,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12578,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12579,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12580,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12581,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12582,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12583,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12584,0f2fe0306c1d86ea66daf581f741c76745ee5414,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12585,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12586,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12587,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12588,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12589,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12590,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12591,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12592,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12593,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12594,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12595,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12596,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12597,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12598,7eae995786f14b4e96010bcc11338724706e30eb,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
12599,6f1c628fa92feea8b28e98e56a990500f2326936,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12600,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12601,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12602,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12603,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12604,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12605,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12606,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12607,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12608,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12609,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12610,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12611,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/7/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12612,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12613,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12614,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12615,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12616,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12617,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12618,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12619,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12620,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12621,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12622,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12623,9d5a066020c6084b2adce6c3fb1fddbcb18467d1,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12624,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12625,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12626,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12627,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12628,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12629,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12630,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12631,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12632,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12633,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12634,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12635,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12636,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12637,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12638,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12639,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12640,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12641,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12642,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12643,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12644,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12645,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12646,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12647,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12648,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12649,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12650,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12651,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12652,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12653,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12654,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12655,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12656,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12657,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12658,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12659,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12660,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12661,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
12662,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12663,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12664,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12665,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12666,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12667,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12668,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12669,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12670,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12671,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12672,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12673,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12674,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12675,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12676,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12677,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12678,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12679,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12680,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12681,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12682,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12683,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12684,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12685,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12686,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12687,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12688,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12689,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12690,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12691,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12692,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12693,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12694,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12695,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12696,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12697,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12698,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12699,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12700,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12701,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12702,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12703,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12704,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12705,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12706,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12707,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12708,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12709,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
12710,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
12711,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
12712,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12713,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12714,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12715,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12716,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12717,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
12718,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
12719,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12720,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12721,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12722,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
12723,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12724,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12725,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12726,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12727,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12728,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12729,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12730,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12731,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12732,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12733,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12734,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12735,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12736,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
12737,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12738,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12739,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12740,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12741,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12742,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12743,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12744,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12745,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12746,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12747,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12748,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12749,7d5b334fc0770be842991ed9d8168c5b1ebb86f8,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12750,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12751,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12752,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12753,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12754,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12755,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12756,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12757,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12758,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12759,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12760,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12761,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12762,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12763,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12764,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12765,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12766,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12767,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12768,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12769,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12770,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12771,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12772,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12773,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12774,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12775,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12776,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12777,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12778,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12779,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12780,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12781,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12782,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12783,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12784,27c69186d320837884e9ed56db504b92e454f6d5,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12785,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12786,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12787,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12788,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12789,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12790,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12791,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12792,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12793,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12794,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12795,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12796,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12797,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12798,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12799,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
12800,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12801,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12802,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12803,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12804,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12805,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12806,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12807,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12808,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12809,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12810,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12811,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12812,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12813,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12814,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12815,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
12816,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12817,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12818,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12819,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12820,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12821,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12822,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12823,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
12824,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12825,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12826,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12827,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12828,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12829,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12830,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12831,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12832,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12833,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12834,0c9673eb76c50568e1aa026255b85077eb88714e,/8.5/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12835,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12836,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12837,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12838,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12839,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12840,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12841,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12842,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12843,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12844,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12845,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12846,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12847,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12848,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12849,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12850,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12851,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12852,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12853,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12854,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12855,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12856,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12857,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12858,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12859,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12860,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12861,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12862,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12863,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12864,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12865,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12866,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12867,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12868,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12869,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12870,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12871,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
12872,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12873,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12874,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12875,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12876,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12877,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12878,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
12879,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12880,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
12881,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
12882,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12883,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
12884,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
12885,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12886,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12887,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12888,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12889,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12890,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12891,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12892,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12893,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12894,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12895,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12896,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12897,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12898,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
12899,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12900,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12901,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12902,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12903,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12904,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12905,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12906,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12907,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12908,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12909,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12910,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12911,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12912,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12913,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12914,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12915,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12916,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12917,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12918,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12919,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
12920,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12921,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12922,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12923,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12924,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12925,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12926,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12927,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12928,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12929,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12930,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12931,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12932,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12933,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12934,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12935,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12936,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12937,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12938,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12939,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12940,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12941,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12942,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12943,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12944,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12945,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12946,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12947,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12948,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12949,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12950,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12951,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12952,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12953,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12954,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12955,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12956,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
12957,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12958,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12959,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
12960,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12961,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
12962,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12963,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12964,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
12965,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12966,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12967,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12968,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12969,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12970,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
12971,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12972,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12973,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12974,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12975,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
12976,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12977,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
12978,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12979,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12980,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12981,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
12982,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
12983,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
12984,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
12985,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
12986,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
12987,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
12988,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
12989,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12990,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
12991,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
12992,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
12993,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12994,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
12995,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
12996,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
12997,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
12998,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
12999,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13000,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13001,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13002,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13003,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13004,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13005,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13006,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13007,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13008,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13009,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13010,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13011,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13012,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13013,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13014,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13015,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13016,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13017,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13018,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13019,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13020,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13021,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13022,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13023,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13024,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13025,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13026,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13027,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13028,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13029,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13030,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13031,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13032,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13033,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13034,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13035,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13036,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13037,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13038,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13039,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13040,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13041,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13042,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13043,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13044,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13045,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13046,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13047,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13048,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13049,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13050,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13051,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13052,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13053,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13054,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13055,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13056,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13057,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13058,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13059,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13060,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13061,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13062,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13063,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13064,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13065,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13066,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13067,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13068,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13069,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13070,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13071,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13072,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13073,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13074,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13075,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13076,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13077,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13078,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13079,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13080,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13081,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13082,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13083,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13084,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13085,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13086,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13087,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13088,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13089,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13090,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13091,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13092,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13093,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13094,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13095,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13096,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13097,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13098,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13099,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13100,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13101,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13102,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13103,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13104,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13105,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13106,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13107,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13108,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13109,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13110,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13111,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13112,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13113,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13114,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13115,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13116,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13117,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13118,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13119,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13120,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13121,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13122,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13123,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13124,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13125,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13126,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13127,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13128,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13129,218a0afc0f06a4297981afbbec254c35b909a7c5,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13130,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13131,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13132,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13133,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13134,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13135,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13136,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13137,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13138,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13139,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13140,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13141,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13142,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13143,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13144,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13145,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13146,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13147,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13148,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13149,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13150,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13151,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13152,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13153,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13154,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13155,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13156,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13157,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13158,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13159,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13160,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13161,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13162,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13163,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13164,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13165,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13166,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13167,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13168,51f9cbc7c310671209ce69e128738a74593de870,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13169,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13170,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13171,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13172,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13173,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13174,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13175,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13176,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13177,42acf24d6056b82d396da6658943f5c26e7b5cc1,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13178,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13179,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13180,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13181,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13182,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13183,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13184,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13185,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13186,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13187,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13188,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13189,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13190,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13191,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13192,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13193,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13194,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13195,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13196,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13197,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13198,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13199,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13200,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13201,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
13202,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13203,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13204,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13205,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13206,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13207,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13208,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13209,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13210,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13211,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13212,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13213,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13214,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13215,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13216,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13217,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13218,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13219,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13220,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13221,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13222,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13223,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13224,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13225,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13226,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13227,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13228,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13229,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13230,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13231,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13232,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13233,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13234,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13235,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13236,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13237,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13238,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13239,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13240,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13241,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13242,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13243,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13244,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13245,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13246,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13247,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13248,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13249,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13250,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13251,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13252,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13253,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13254,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13255,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13256,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13257,56e65662f0e151aed90bd255aa97a10de17b8316,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13258,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13259,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13260,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13261,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13262,aceabe036433c68b278767811bac728c6db4f8b3,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13263,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13264,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13265,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13266,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13267,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13268,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13269,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13270,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13271,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13272,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13273,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13274,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13275,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13276,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13277,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13278,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13279,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13280,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13281,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13282,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13283,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13284,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13285,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13286,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13287,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13288,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13289,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13290,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13291,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13292,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13293,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13294,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13295,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13296,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13297,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13298,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13299,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13300,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13301,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13302,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13303,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13304,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13305,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13306,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13307,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13308,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13309,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13310,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13311,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13312,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13313,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13314,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13315,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13316,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13317,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13318,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13319,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13320,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13321,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13322,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13323,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13324,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13325,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13326,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13327,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13328,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13329,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13330,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13331,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13332,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13333,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13334,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13335,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13336,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13337,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13338,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13339,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13340,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13341,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13342,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13343,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13344,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13345,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13346,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13347,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13348,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13349,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13350,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13351,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13352,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13353,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13354,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13355,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13356,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13357,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13358,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13359,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13360,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13361,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13362,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13363,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13364,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13365,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13366,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13367,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13368,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13369,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13370,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13371,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13372,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13373,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13374,9fcf1c13eb901de73aa3abdfc36d1989a1154365,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
13375,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13376,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13377,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13378,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13379,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13380,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13381,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13382,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13383,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13384,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13385,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13386,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13387,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13388,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13389,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13390,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13391,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
13392,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
13393,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
13394,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13395,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13396,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13397,58c79694a83a12077150ad57b8dd46296548b958,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13398,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13399,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13400,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13401,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13402,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13403,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13404,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13405,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13406,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13407,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13408,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13409,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13410,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13411,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13412,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13413,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13414,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13415,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13416,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13417,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13418,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13420,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13421,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13422,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13423,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13424,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13425,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13426,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13427,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13428,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13429,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13430,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13431,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13432,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13433,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13434,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13435,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13436,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13437,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13438,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13439,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13440,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13441,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13442,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13443,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13444,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13445,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13446,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13447,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13448,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13449,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13450,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13451,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13452,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13453,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13454,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13455,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13456,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13457,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13458,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13459,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13460,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13461,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13462,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13463,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13464,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13465,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13466,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13467,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13468,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13469,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13470,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13471,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13472,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13473,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13474,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13475,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13476,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13477,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13478,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13479,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13480,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13481,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13482,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13483,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13484,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13485,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13486,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13487,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13488,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13489,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13490,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13491,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13492,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13493,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13494,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13495,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13496,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13497,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13498,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13499,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13500,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13501,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13502,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13503,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13504,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13505,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13506,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13507,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13508,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13509,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13510,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13511,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13512,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
13513,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13514,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
13515,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13516,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13517,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13518,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13519,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13520,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13521,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13522,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13523,6c810f194f2bd912333ecb180aabdd3612824f61,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13524,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13525,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13526,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13527,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13528,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13529,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13530,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13531,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13532,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13533,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13534,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13535,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13536,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13537,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13538,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13539,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13540,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13541,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13542,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13543,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13544,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13545,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13546,56e65662f0e151aed90bd255aa97a10de17b8316,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13547,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13548,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13549,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13550,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13551,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13552,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13553,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13554,612749027978d45b348c04a692f267e4052f3c71,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13555,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13556,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13557,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13558,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13559,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13560,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13561,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13562,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13563,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13564,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13565,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13566,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13567,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13568,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13569,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13570,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13571,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13572,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13573,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13574,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13575,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13576,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13577,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13578,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13579,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13580,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13581,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13582,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13583,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13584,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13585,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13586,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13587,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13588,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13589,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13590,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13591,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13592,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13593,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13594,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13595,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13596,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13597,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13598,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13599,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13600,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13601,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13602,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13603,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13604,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13605,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13606,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13607,943f430b7a25c5613548cdf9970573d28ab1b080,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13608,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13609,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13610,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13611,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13612,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13613,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13614,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13615,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13616,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13617,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13618,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13619,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13620,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13621,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13622,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13623,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13624,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13625,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13626,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13627,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13628,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13629,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13630,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13631,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13632,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13633,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13634,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13635,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13636,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13637,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13638,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13639,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13640,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
13641,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13642,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13643,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13644,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13645,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13646,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13647,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13648,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13649,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13650,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13651,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13652,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13653,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13654,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13655,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13656,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13657,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13658,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13659,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13660,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13661,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13662,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13663,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13664,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13665,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13666,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13667,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13668,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13669,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13670,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13671,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13672,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13673,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13674,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13675,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13676,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13677,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13678,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13679,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13680,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13681,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13682,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13683,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13684,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13685,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13686,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13687,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13688,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13689,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13690,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13691,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13692,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13693,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13694,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13695,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13696,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13697,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13698,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13699,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13700,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13701,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13702,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
13703,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13704,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13705,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13706,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13707,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13708,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13709,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13710,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13711,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13712,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13713,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13714,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13715,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13716,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13717,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13718,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13719,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13720,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13721,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13722,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13723,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13724,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13725,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13726,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13727,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13728,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13729,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13730,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13731,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13732,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13733,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13734,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13735,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13736,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13737,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13738,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13739,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13740,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13741,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13742,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13743,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13744,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13745,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
13746,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13747,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13748,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13749,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13750,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13751,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
13752,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13753,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13754,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13755,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13756,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13757,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13758,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13759,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13760,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13761,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13762,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13763,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13764,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
13765,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13766,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
13767,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13768,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13769,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13770,06a7e79e30595058df3c2fec9c769e47e2bca56d,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
13771,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13772,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13773,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13774,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13775,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13776,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13777,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13778,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13779,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13780,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13781,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13782,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13783,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13784,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13785,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13786,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13787,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13788,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13789,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13790,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13791,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13792,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13793,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13794,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13795,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13796,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13797,a227157792e94c669148c3c2a09072fb317070e0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13798,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13799,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13800,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13801,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13802,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13803,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13804,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13805,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13806,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13807,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13808,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13809,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
13810,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13811,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13812,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13813,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13814,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13815,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13816,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13817,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13818,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13819,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13820,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13821,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13822,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13823,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13824,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13825,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13826,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13827,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13828,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13829,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13830,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13831,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13832,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13833,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13834,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13835,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/6/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
13836,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13837,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13838,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13839,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13840,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13841,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13842,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13843,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13844,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13845,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13846,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13847,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13848,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13849,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13850,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13851,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13852,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13853,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13854,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13855,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
13856,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13857,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13858,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13859,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13860,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
13861,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13862,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13863,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13864,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13865,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13866,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13867,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13868,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13869,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13870,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13871,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13872,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13873,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13874,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13875,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13876,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13877,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13878,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13879,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13880,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13881,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13882,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13883,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13884,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13885,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13886,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
13887,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13888,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13889,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13890,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13891,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13892,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13893,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13894,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13895,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13896,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13897,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
13898,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
13899,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
13900,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
13901,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13902,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13903,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13904,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13905,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13906,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13907,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
13908,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13909,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13910,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13911,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13912,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13913,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13914,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13915,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13916,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
13917,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13918,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13919,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13920,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13921,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13922,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13923,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13924,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13925,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13926,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13927,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13928,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13929,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13930,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13931,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13932,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13933,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13934,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13935,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13936,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13937,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13938,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13939,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13940,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13941,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13942,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13943,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13944,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13945,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13946,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13947,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13948,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13949,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13950,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13951,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13952,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13953,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13954,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13955,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13956,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
13957,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13958,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13959,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13960,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
13961,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
13962,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13963,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"#?}}""; \
"
13964,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13965,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13966,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13967,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13968,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13969,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13970,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13971,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
13972,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13973,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13974,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
13975,656c22d037ccaa6adaedbb791febbd2e5197fadd,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
13976,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13977,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13978,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
13979,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
13980,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
13981,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13982,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13983,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
13984,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
13985,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13986,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13987,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
13988,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
13989,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
13990,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
13991,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
13992,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
13993,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
13994,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
13995,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
13996,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
13997,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
13998,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
13999,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14000,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14001,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14002,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14003,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14004,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14005,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14006,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14007,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14008,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14009,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14010,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14011,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14012,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14013,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14014,7eae995786f14b4e96010bcc11338724706e30eb,/7/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
14015,9afdd27634a5b847a3b7aa2d611ad5828659d228,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14016,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14017,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14018,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14019,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14020,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14021,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14022,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14023,60aabb354b1b0c9724631d82890ba7e308104d76,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14024,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14025,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14026,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14027,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14028,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14029,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14030,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14031,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14032,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14033,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14034,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14035,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14036,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14037,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14038,2b55df5b9feaa7b8354e8b2419a88e494a110621,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14039,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14040,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14041,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14042,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14043,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14044,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14045,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14046,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14047,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14048,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14049,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14050,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14051,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14052,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14053,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14054,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14055,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14056,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14057,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14058,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14059,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14060,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14061,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14062,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14063,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14064,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14065,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14066,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14067,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14068,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14069,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14070,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14071,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14072,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14073,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14074,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14075,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14076,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14077,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14078,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14079,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14080,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14081,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14082,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14083,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14084,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14085,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14086,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14087,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14088,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14089,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14090,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14091,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14092,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14093,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14094,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14095,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14096,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14097,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14098,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14099,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14100,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14101,eb611b28ea26adad400611ac46691a0c3dc89c7d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14102,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14103,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14104,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14105,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14106,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14107,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14108,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14109,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14110,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14111,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14112,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14113,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14114,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14115,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14116,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14117,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14118,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14119,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14120,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14121,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14122,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14123,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14124,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14125,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14126,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14127,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14128,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14129,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14130,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14131,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14132,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14133,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14134,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14135,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14136,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14137,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14138,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14139,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14140,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14141,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14142,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14143,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14144,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14145,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14146,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14147,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14148,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14149,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14150,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14151,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14152,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14153,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14154,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14155,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14156,b2bcdfb78e2fdc63423dfc210066b381f6f73a14,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14157,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14158,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14159,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14160,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14161,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14162,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14163,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14164,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14165,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14166,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14167,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14168,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14169,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14170,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14171,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14172,d08341e2ed934abd7ff1baa0c26d6eac4f45f73a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14173,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14174,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14175,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14176,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14177,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14178,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14179,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14180,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14181,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14182,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14183,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14184,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14185,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14186,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14187,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14188,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14189,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14190,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14191,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14192,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14193,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14194,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14195,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14196,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14197,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14198,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14199,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14200,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14201,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14202,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14203,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14204,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14205,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14206,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14207,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14208,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14209,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14210,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14211,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14212,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14213,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14214,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14215,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14216,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14217,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14218,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14219,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14220,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14221,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14222,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14223,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14224,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14225,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14226,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14227,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14228,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14229,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14230,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14231,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14232,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14233,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14234,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14235,30cca452bf25d5f7f6d164e66902a39afc4593ed,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14236,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14237,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14238,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14239,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14240,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14241,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14242,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14243,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14244,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14245,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14246,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14247,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14248,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14249,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14250,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14251,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14252,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14253,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14254,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14255,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14256,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14257,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14258,1d917f75107e599b43fd5bb56d9d73c6c8f4c036,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14259,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14260,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14261,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14262,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14263,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14264,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14265,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14266,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14267,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14268,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14269,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14270,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14271,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14272,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14273,7da0fe6d6ba425faf5706ad13f1b6970a5192dd5,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14274,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14275,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14276,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14277,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14278,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14279,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14280,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14281,beafeb41b26e8cba4d78d213ec1a65baabecbc00,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14282,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14283,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14284,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14285,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14286,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14287,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14288,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14289,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14290,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14291,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14292,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14293,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14294,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14295,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14296,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14297,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14298,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14299,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14300,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14301,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14302,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14303,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14304,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14305,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14306,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14307,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14308,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14309,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14310,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14311,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14312,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14313,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14314,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14315,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14316,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14317,4c5a1adc5cf5e5bd13daa921909e9ab5ac60d030,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14318,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14319,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14320,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14321,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14322,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14323,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14324,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14325,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14326,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14327,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14328,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14329,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14330,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14331,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
14332,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14333,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14334,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14335,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14336,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14337,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14338,dcadb55c324ad088e5e34b5bc6f1202e025ea848,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14339,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14340,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14341,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14342,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14343,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14344,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14345,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14346,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14347,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14348,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14349,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14350,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14351,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14352,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14353,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14354,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14355,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14356,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14357,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14358,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14359,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14360,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14361,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14362,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14363,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14364,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14365,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14366,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14367,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14368,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14369,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14370,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14371,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14372,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14373,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14374,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14375,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14376,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14377,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14378,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14379,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14380,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14381,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14382,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14383,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14384,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14385,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14386,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14387,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14388,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14389,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14390,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14391,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14392,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
14393,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14394,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14395,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
14396,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14397,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14398,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
14399,497d7d04e11f45fd27bdb678b79d048280854a6d,/Dockerfile.template,"# verify Tomcat Native is working properly
"
14400,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14401,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14402,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14403,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14404,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14405,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14406,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14407,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14408,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14409,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14410,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14411,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14412,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14413,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk11/Dockerfile,"# verify Tomcat Native is working properly
"
14414,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14415,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14416,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14417,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14418,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14419,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14420,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14421,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14422,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14423,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14424,35e89070548111261cf6a9e9398556d5b2c4f7f7,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14425,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14426,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14427,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14428,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14429,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14430,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14431,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14432,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14433,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14434,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14435,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14436,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14437,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14438,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14439,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14440,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14441,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14442,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14443,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14444,37d3fe38619a328aefbe7e7c4bfff043f8be8489,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14445,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14446,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14447,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14448,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14449,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14450,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14451,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14452,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14453,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14454,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14455,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14456,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14457,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14458,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14459,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14460,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14461,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14462,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14463,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14464,e31b8a805c2e4d6e5c98abb640c5e74cb334033b,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14465,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14466,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14467,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14468,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14469,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14470,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14471,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14472,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14473,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14474,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14475,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14476,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14477,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14478,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14479,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14480,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14481,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14482,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14483,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14484,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14485,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14486,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14487,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14488,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14489,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14490,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14491,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14492,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14493,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14494,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14495,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14496,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14497,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14498,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14499,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14500,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14501,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14502,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14503,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14504,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14505,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14506,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14507,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14508,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14509,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14510,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14511,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14512,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14513,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14514,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14515,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14516,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14517,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14518,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14519,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14520,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14521,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14522,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14523,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14524,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14525,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14526,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14527,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14528,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14529,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14530,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14531,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14532,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14533,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14534,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14535,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14536,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14537,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14538,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14539,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14540,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14541,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14542,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14543,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14544,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14545,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14546,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14547,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14548,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14549,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14550,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14551,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14552,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14553,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14554,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14555,56d79c273ea695accfb294c813af9198b7dfb98d,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14556,9c2fb18446d9e6841997362e575804da73f23eee,/7-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
14557,9c2fb18446d9e6841997362e575804da73f23eee,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14558,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14559,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14560,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14561,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14562,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14563,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14564,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14565,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14566,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14567,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14568,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14569,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14570,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14571,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14572,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14573,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14574,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14575,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
14576,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14577,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14578,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14579,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14580,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14581,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14582,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14583,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14584,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14585,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14586,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14587,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14588,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14589,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14590,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14591,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14592,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14593,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14594,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14595,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14596,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14597,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14598,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14599,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14600,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14601,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14602,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14603,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14604,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14605,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14606,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14607,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14608,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14609,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14610,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14611,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14612,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14613,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14614,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14615,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14616,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14617,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14618,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14619,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14620,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14621,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14622,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14623,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14624,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14625,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14626,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14627,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14628,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14629,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14630,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14631,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14632,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14633,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14634,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14635,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14636,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14637,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14638,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14639,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14640,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14641,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14642,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14643,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14644,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14645,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14646,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14647,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14648,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14649,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14650,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14651,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14652,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14653,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14654,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14655,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14656,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14657,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14658,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14659,1ac581da0dbef3f191cbb2d5fbfc4292e32bb0dd,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14660,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14661,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14662,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14663,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14664,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14665,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14666,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14667,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14668,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14669,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14670,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14671,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14672,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14673,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14674,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14675,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
14676,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14677,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14678,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
14679,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
14680,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14681,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14682,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14683,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14684,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14685,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14686,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14687,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14688,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14689,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14690,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14691,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14692,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
14693,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14694,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
14695,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14696,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14697,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14698,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14699,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
14700,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
14701,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14702,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14703,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14704,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
14705,6611537f66f8f1df614f86bfda5b5fc020755aad,/7-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
14706,6611537f66f8f1df614f86bfda5b5fc020755aad,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14707,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14708,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14709,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
14710,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14711,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14712,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14713,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14714,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14715,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14716,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14717,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14718,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14719,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14720,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14721,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14722,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14723,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14724,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14725,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14726,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
14727,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14728,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14729,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14730,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14731,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14732,5c76c4a20c9192ca75d9a9739070b7030b64304b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
14733,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14734,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14735,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14736,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14737,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14738,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14739,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14740,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14741,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14742,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14743,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14744,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14745,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14746,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14747,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14748,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14749,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14750,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14751,32a6acab8417c3812c92887d8cc6660fd4aa4bc4,/9.0/jdk8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14752,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14753,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14754,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14755,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14756,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14757,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14758,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14759,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14760,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14761,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14762,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14763,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14764,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14765,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14766,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14767,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14768,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14769,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14770,24e869945b9d9d3f02f979524b8caf989d08ed6c,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14771,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14772,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14773,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14774,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14775,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14776,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14777,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14778,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14779,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14780,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14781,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14782,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14783,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14784,dec5126a93c8b4bdbb7480e3bccdc4ca13c024fd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
14785,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14786,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14787,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14788,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14789,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14790,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14791,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14792,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14793,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14794,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14795,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14796,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14797,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14798,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14799,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14800,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14801,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14802,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14803,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14804,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14805,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14806,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14807,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14808,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14809,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14810,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14811,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14812,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14813,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14814,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14815,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14816,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14817,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14818,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14819,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14820,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14821,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14822,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14823,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14824,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14825,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14826,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14827,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14828,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14829,1c1e57eac69764f7c46309d7321f381209067d9c,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
14830,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14831,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14832,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14833,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14834,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14835,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14836,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14837,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14838,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14839,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14840,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14841,2a3fd22cd52b4c1fd6b263b0a42cb371a83a74c5,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14842,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14843,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14844,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14845,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14846,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14847,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14848,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14849,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14850,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14851,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14852,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14853,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14854,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14855,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14856,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14857,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14858,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14859,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14860,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14861,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14862,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14863,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14864,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14865,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
14866,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14867,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14868,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14869,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14870,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14871,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14872,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14873,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14874,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14875,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14876,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14877,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14878,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14879,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14880,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14881,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14882,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14883,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
14884,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14885,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14886,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
14887,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14888,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14889,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14890,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14891,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
14892,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14893,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14894,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
14895,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
14896,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
14897,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14898,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14899,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
14900,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
14901,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14902,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14903,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14904,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
14905,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14906,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14907,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14908,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14909,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14910,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14911,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14912,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14913,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14914,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14915,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14916,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14917,1691653797eb1f26b4e1d4898c71094ff9104e0e,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14918,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14919,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14920,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14921,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14922,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
14923,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
14924,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14925,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14926,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14927,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14928,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
14929,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14930,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14931,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14932,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14933,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14934,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14935,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14936,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14937,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
14938,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14939,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14940,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14941,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14942,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14943,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14944,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
14945,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14946,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14947,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14948,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14949,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
14950,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14951,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14952,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14953,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14954,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14955,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14956,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14957,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
14958,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14959,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
14960,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14961,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
14962,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
14963,f7ecea4335598d1313f261269aeee81be0ff8ec7,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
14964,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14965,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14966,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14967,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14968,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14969,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14970,03255da1fc6f0e3ab4a3507cb9e28d707fc921d0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14971,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14972,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14973,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14974,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
14975,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14976,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14977,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14978,aceabe036433c68b278767811bac728c6db4f8b3,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
14979,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14980,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14981,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14982,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14983,89b879193cbf8eff9792d847f2bdc285647ded15,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
14984,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14985,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14986,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14987,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
14988,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
14989,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
14990,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
14991,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
14992,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
14993,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
14994,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
14995,221fa4f6f1abfa3f033d4be781fa48faecbee212,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
14996,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
14997,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
14998,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
14999,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15000,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15001,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15002,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15003,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15004,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15005,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15006,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15007,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15008,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15009,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15010,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15011,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15012,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15013,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15014,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15015,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15016,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15017,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15018,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15019,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15020,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15021,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15022,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15023,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15024,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15025,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15026,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15027,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15028,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15029,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15030,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15031,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15032,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15033,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15034,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15035,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15036,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15037,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15038,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15039,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15040,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15041,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15042,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15043,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15044,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15045,989f50ed5db788921a4954109b90362e2209295e,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15046,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15047,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15048,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15049,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15050,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15051,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15052,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15053,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15054,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15055,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15056,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15057,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15058,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15059,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15060,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15061,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
15062,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
15063,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
15064,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15065,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15066,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15067,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15068,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15069,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15070,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15071,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15072,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15073,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15074,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15075,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15076,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15077,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15078,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15079,d5d0a055a85d851924093ed7f0ad702628f50650,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15080,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15081,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15082,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15083,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15084,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15085,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15086,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15087,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15088,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15089,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15090,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15091,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15092,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15093,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15094,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15095,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15096,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15097,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15098,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15099,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15100,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15101,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15102,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15103,efe59ebe52ba94045f4923be85214f4431a982a6,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
15104,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15105,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15106,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15107,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15108,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15109,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15110,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15111,7457d9c11ffdb055cb9084c498c2d47118561814,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15112,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15113,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15114,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15115,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15116,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15117,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15118,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15119,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15120,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15121,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15122,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15123,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15124,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15125,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15126,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15127,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15128,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15129,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15130,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15131,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15132,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15133,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15134,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15135,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15136,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15137,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15138,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15139,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15140,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15141,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15142,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15143,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15144,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15145,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15146,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15147,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15148,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15149,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15150,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15151,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15152,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15153,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15154,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15155,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15156,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
15157,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15158,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15159,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15160,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15161,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
15162,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
15163,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15164,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
15165,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15166,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
15167,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15168,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15169,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
15170,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# if the version is outdated, we have to pull from the archive :/
"
15171,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15172,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15173,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15174,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15175,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15176,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15177,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15178,a227157792e94c669148c3c2a09072fb317070e0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15179,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15180,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15181,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15182,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15183,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15184,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15185,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15186,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15187,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15188,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15189,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15190,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15191,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15192,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15193,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15194,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15195,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15196,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15197,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15198,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15199,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15200,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15201,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15202,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15203,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15204,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15205,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15206,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
15207,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15208,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15209,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15210,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15211,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15212,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15213,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15214,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15215,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15216,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15217,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15218,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15219,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15220,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15221,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15222,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15223,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15224,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15225,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15226,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15227,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15228,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15229,61ce27ddd02b9380e52ee6021ec706d417ba4669,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15230,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15231,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15232,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15233,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15234,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15235,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15236,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15237,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15238,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15239,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15240,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15241,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15242,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15243,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15244,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15245,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15246,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15247,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15248,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15249,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15250,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15251,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15252,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15253,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15254,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15255,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15256,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15257,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15258,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15259,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15260,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15261,151e9323ba57b5670d213ba47206700806eb2974,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15262,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15263,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15264,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15265,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15266,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15267,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15268,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15269,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15270,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15271,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15272,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15273,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15274,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15275,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15276,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15277,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15278,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15279,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15280,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15281,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15282,9b1b4d00ed9b281e16de07f891b7b399c3457d5e,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15283,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15284,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15285,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15286,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15287,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15288,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15289,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15290,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15291,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15292,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15293,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15294,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15295,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15296,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15297,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15298,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15299,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15300,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15301,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15302,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15303,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15304,0c9673eb76c50568e1aa026255b85077eb88714e,/9.0/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15305,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15306,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15307,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15308,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15309,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15310,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15311,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15312,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15313,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15314,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15315,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15316,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15317,1c1e57eac69764f7c46309d7321f381209067d9c,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15318,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15319,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15320,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15321,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15322,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15323,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15324,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15325,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15326,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15327,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15328,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15329,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15330,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15331,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15332,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15333,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15334,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15335,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15336,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15337,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15338,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15339,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15340,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15341,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15342,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15343,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15344,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15345,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15346,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15347,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15348,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15349,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
15350,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15351,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15352,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15353,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15354,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15355,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15356,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15357,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15358,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15359,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15360,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15361,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15362,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15363,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15364,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15365,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15366,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15367,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15368,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15369,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15370,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15371,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15372,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15373,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15374,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15375,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15376,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15377,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15378,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15379,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15380,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15381,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15382,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15383,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15384,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15385,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15386,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15387,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15388,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15389,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15390,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15391,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15392,78b5ae4bf558d626859cbb63b2837fd6980ca1f1,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
15393,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15394,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15395,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15396,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15397,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15398,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15399,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15400,612749027978d45b348c04a692f267e4052f3c71,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15401,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15402,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15403,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15404,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15405,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15406,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15407,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15408,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15409,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15410,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15411,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15412,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15413,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15414,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15415,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15416,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15417,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15418,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15419,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15420,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15421,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15422,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15423,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15424,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15425,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15426,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15427,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15428,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
15429,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15430,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15431,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15432,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15433,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15434,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15435,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15436,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15437,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15438,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15439,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15440,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15441,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15442,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15443,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15444,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15445,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15446,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15447,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15448,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15449,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15450,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15451,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15452,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15453,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15454,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15455,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15456,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15457,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15458,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15459,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15460,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15461,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15462,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
15463,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15464,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15465,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15466,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
15467,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
15468,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"#?}}""; \
"
15469,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15470,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
15471,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
15472,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15473,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15474,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15475,c130c5c596edced66978f54b4d7fd8b4c2637719,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
15476,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15477,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15478,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15479,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15480,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15481,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15482,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15483,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15484,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15485,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15486,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15487,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15488,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15489,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15490,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15491,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15492,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15493,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15494,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15495,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15496,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15497,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15498,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15499,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15500,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15501,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15502,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15503,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15504,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15505,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15506,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15507,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15508,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15509,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15510,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15511,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15512,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15513,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15514,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15515,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15516,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15517,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15518,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15519,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15520,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15521,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15522,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15523,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15524,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15525,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15526,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15527,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15528,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15529,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15530,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15531,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15532,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15533,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15534,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15535,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15536,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15537,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15538,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15539,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15540,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15541,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15542,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15543,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15544,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15545,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15546,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15547,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15548,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15549,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15550,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15551,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15552,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
15553,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15554,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15555,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15556,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
15557,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15558,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15559,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15560,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15561,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15562,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15563,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15564,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15565,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15566,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15567,9a0ce75409536c8c72ef266654d8a64e9354f7e9,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
15568,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15569,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15570,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15571,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15572,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15573,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15574,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15575,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15576,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15577,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15578,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15579,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15580,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15581,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15582,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15583,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15584,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15585,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15586,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15587,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15588,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15589,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15590,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15591,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15592,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15593,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15594,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15595,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15596,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15597,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15598,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15599,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15600,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15601,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15602,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15603,d30e763f14a26d2b3acfbce53ff2e53c6f119eaf,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15604,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
15605,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15606,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
15607,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15608,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
15609,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15610,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15611,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15612,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
15613,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15614,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15615,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15616,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15617,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile.template,"# verify Tomcat Native is working properly
"
15618,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15619,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15620,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15621,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15622,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15623,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15624,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15625,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15626,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15627,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15628,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
15629,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15630,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15631,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15632,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15633,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
15634,42acf24d6056b82d396da6658943f5c26e7b5cc1,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
15635,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15636,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15637,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15638,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15639,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15640,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15641,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15642,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
15643,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15644,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15645,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15646,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15647,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
15648,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15649,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15650,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15651,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15652,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15653,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15654,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15655,9ef39e44020d9ac03c8c15bae5e5b0ba96faa128,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15656,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15657,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15658,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15659,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15660,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15661,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15662,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15663,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15664,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15665,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15666,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15667,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15668,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15669,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15670,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15671,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15672,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15673,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15674,3c72bd6721ab6645badc72c164cbe6f3a8970bdb,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15675,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15676,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15677,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15678,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15679,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15680,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15681,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15682,51f9cbc7c310671209ce69e128738a74593de870,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15683,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15684,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15685,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15686,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15687,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15688,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15689,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15690,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15691,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15692,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15693,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15694,2f54d380e129b67988693a95517eae7985c88b3b,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15695,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15696,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15697,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15698,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15699,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15700,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15701,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15702,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15703,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15704,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15705,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15706,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15707,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15708,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15709,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15710,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15711,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15712,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15713,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15714,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15715,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15716,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15717,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15718,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15719,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
15720,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15721,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15722,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15723,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15724,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15725,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15726,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15727,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15728,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15729,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15730,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15731,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15732,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15733,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15734,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15735,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15736,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15737,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15738,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15739,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15740,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15741,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15742,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15743,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15744,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15745,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15746,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15747,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15748,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15749,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15750,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15751,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15752,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15753,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15754,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15755,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15756,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15757,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15758,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15759,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15760,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15761,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15762,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15763,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15764,9355db128c52e0463e37d2fbd267c0ea33ed0b19,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
15765,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15766,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15767,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15768,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15769,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15770,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15771,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15772,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15773,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15774,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15775,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15776,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15777,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15778,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15779,ee7ff91af066dc7df9d88e3cb842c40f0b6d164b,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15780,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15781,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15782,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15783,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15784,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15785,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15786,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15787,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15788,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15789,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15790,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15791,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15792,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15793,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15794,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15795,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15796,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15797,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15798,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15799,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15800,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15801,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15802,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15803,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15804,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15805,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15806,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15807,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15808,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15809,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15810,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15811,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"#?}}""; \
"
15812,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15813,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15814,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15815,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15816,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15817,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15818,a2fbacac0f6aa427acd0f03edcfe4172959e941d,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15819,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15820,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15821,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15822,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15823,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15824,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15825,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15826,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15827,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15828,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15829,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15830,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15831,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15832,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15833,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15834,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15835,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15836,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15837,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15838,fae008566295d1eec89de04385215fdd54eceda5,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15839,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15840,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15841,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15842,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15843,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15844,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15845,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15846,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15847,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15848,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15849,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15850,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15851,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15852,82b1da640aa15ff2e9713e59dba3dbf7487d6815,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
15853,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15854,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15855,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15856,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15857,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15858,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15859,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15860,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15861,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
15862,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
15863,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15864,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15865,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15866,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
15867,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15868,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15869,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15870,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15871,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15872,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15873,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15874,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15875,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
15876,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
15877,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
15878,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15879,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
15880,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15881,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15882,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
15883,06a7e79e30595058df3c2fec9c769e47e2bca56d,/Dockerfile.template,"# verify Tomcat Native is working properly
"
15884,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15885,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15886,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15887,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15888,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
15889,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15890,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15891,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15892,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15893,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15894,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15895,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15896,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15897,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15898,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15899,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15900,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15901,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15902,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15903,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15904,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15905,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15906,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15907,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15908,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15909,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15910,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
15911,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15912,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15913,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15914,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
15915,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15916,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15917,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15918,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
15919,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15920,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15921,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15922,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15923,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15924,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15925,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15926,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15927,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15928,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15929,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15930,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15931,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15932,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
15933,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
15934,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15935,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
15936,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15937,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
15938,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15939,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15940,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15941,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
15942,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15943,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15944,2f54d380e129b67988693a95517eae7985c88b3b,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15945,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15946,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15947,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15948,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15949,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15950,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15951,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15952,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15953,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
15954,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15955,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15956,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15957,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15958,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15959,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15960,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15961,55a3f09bc475c11c23f6a972b17766b2f68c29a0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15962,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15963,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15964,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15965,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
15966,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
15967,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
15968,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
15969,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15970,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15971,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
15972,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
15973,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
15974,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15975,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
15976,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
15977,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
15978,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
15979,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15980,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15981,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15982,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15983,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
15984,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15985,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15986,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15987,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15988,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
15989,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
15990,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
15991,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
15992,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
15993,5b0cd615bf08392873a4802dfee2efabf1d71456,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
15994,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
15995,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
15996,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
15997,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
15998,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
15999,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16000,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16001,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16002,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16003,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16004,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16005,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16006,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16007,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16008,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16009,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16010,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16011,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16012,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16013,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16014,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16015,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16016,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16017,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16018,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16019,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16020,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16021,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16022,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16023,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16024,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16025,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16026,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16027,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16028,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16029,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16030,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16031,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16032,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16033,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16034,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16035,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16036,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16037,2dd8c13d1a3fdfe27e8fb246c667cad1c9bb1819,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16038,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16039,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16040,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16041,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16042,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16043,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16044,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16045,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16046,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16047,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16048,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16049,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16050,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16051,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16052,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16053,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16054,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16055,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16056,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16057,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16058,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16059,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16060,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16061,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16062,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16063,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16064,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16065,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16066,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16067,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16068,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16069,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16070,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16071,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16072,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16073,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16074,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16075,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16076,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16077,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16078,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16079,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16080,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16081,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16082,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16083,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16084,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16085,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16086,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16087,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16088,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16089,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16090,1c1e57eac69764f7c46309d7321f381209067d9c,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16091,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16092,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16093,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16094,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16095,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16096,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16097,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16098,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16099,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16100,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16101,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16102,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16103,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16104,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16105,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16106,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16107,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16108,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16109,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16110,85486f9d3edfa08a827037e556924b1aeb7069d9,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16111,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16112,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16113,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16114,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16115,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16116,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16117,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
16118,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16119,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16120,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
16121,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16122,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16123,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
16124,b3d669ee040a6635efaef631eec18971eaf97147,/Dockerfile.template,"# verify Tomcat Native is working properly
"
16125,92b97a945a2241f868a91d2919e0e7e3f5c84216,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16126,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16127,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16128,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16129,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16130,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16131,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16132,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16133,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16134,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16135,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16136,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16137,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16138,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16139,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16140,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16141,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16142,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16143,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16144,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16145,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16146,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16147,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16148,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16149,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16150,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16151,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16152,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16153,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16154,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16155,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16156,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16157,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16158,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16159,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16160,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16161,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16162,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16163,f26c14147f9affae8f32100430130271fc82bd3e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16164,7d5b334fc0770be842991ed9d8168c5b1ebb86f8,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16165,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16166,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16167,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16168,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16169,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16170,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16171,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16172,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16173,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16174,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16175,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16176,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16177,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16178,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16179,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16180,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16181,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16182,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16183,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16184,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16185,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16186,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16187,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16188,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16189,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16190,075a394e34f7329415e87ad5f0d77d46aac24876,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16191,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16192,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16193,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16194,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16195,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16196,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16197,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16198,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16199,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16200,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16201,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16202,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16203,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16204,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16205,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16206,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16207,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16208,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16209,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16210,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16211,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16212,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16213,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16214,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16215,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16216,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16217,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16218,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16219,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16220,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16221,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16222,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16223,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16224,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16225,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16226,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16227,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16228,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16229,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16230,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16231,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16232,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16233,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16234,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16235,6f1c628fa92feea8b28e98e56a990500f2326936,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16236,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16237,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16238,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16239,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16240,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16241,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16242,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16243,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16244,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16245,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16246,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16247,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16248,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16249,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16250,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16251,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16252,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16253,a227157792e94c669148c3c2a09072fb317070e0,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16254,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16255,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16256,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16257,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16258,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16259,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16260,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16261,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16262,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16263,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16264,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16265,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16266,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16267,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16268,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16269,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16270,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16271,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16272,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16273,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16274,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16275,56b393fc63a234e9426eb5cc3a1c7e5a76cf1934,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16276,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16277,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16278,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16279,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16280,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16281,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16282,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16283,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16284,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16285,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16286,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16287,b8c5ddb85c4d94a3d2e459ba83beb8a3207681d0,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16288,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16289,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16290,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16291,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16292,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16293,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16294,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16295,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16296,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16297,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16298,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16299,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16300,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16301,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16302,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16303,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16304,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16305,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16306,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16307,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16308,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16309,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16310,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16311,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16312,92855dba2d4edffc55bc04f9b779a0826747ff4c,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16313,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16314,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16315,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16316,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16317,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16318,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16319,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16320,db35ce4f9b3ea68419f5c0a908cbf83343bbc0ca,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16321,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16322,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16323,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16324,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16325,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16326,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16327,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16328,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16329,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16330,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16331,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16332,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
16333,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16334,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16335,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16336,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16337,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16338,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16339,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16340,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16341,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16342,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16343,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16344,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
16345,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16346,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
16347,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
16348,ec75141e3cb6276b07d66c16042152e2d4de119c,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16349,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16350,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16351,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16352,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16353,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16354,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16355,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16356,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16357,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16358,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16359,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16360,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16361,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16362,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16363,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16364,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16365,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16366,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16367,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16368,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16369,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16370,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16371,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16372,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16373,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16374,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16375,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16376,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16377,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16378,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16379,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16380,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16381,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16382,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16383,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16384,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16385,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16386,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16387,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16388,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16389,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16390,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16391,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16392,e06eaa32013932a95835399c0ae4a497134db0a5,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16393,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16394,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16395,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16396,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16397,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16398,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16399,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16400,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16401,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16402,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16403,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16404,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16405,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16406,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16407,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16408,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16409,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16410,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16411,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16412,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16413,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16414,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16415,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16416,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16417,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16418,1c438768f847f4af954a8f63cd6ffbffef076e30,/8.5/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
16419,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16420,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16421,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16422,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16423,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16424,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16425,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16426,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16427,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16428,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16429,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16430,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16431,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16432,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16433,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16434,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16435,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16436,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16437,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16438,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16439,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16440,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16441,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16442,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16443,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16444,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16445,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16446,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16447,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16448,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16449,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16450,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16451,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16452,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16453,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16454,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16455,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16456,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16457,20a00bb175913f9597ba3831bacbe99d2a470403,/7/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16458,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16459,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16460,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16461,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16462,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16463,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16464,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16465,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16466,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16467,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16468,d9a438155caff88fad8114297954e2347b534ce3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16469,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16470,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16471,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16472,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16473,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16474,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16475,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16476,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16477,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16478,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16479,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16480,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16481,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16482,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16483,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16484,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16485,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16486,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16487,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16488,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16489,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16490,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16491,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16492,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16493,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16494,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16495,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16496,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16497,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16498,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16499,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16500,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16501,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16502,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16503,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16504,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16505,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16506,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/7/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16507,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16508,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16509,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16510,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16511,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16512,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16513,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16514,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16515,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16516,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16517,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16518,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16519,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16520,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16521,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16522,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16523,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16524,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16525,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16526,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16527,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16528,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16529,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16530,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16531,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16532,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16533,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16534,f6dc3671bf56465917b52c8df4356fa8f0ebafcd,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16535,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16536,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16537,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16538,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16539,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16540,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16541,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16542,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16543,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16544,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16545,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16546,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16547,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16548,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16549,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16550,f26c14147f9affae8f32100430130271fc82bd3e,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
16551,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16552,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16553,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16554,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16555,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16556,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16557,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16558,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16559,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16560,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16561,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
16562,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
16563,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
16564,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16565,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16566,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16567,58c79694a83a12077150ad57b8dd46296548b958,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16568,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16569,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16570,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16571,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16572,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16573,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16574,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16575,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16576,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16577,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16578,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16579,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16580,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16581,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16582,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16583,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16584,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16585,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16586,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16587,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16588,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16589,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16590,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16591,06a7e79e30595058df3c2fec9c769e47e2bca56d,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16592,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16593,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16594,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16595,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16596,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16597,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16598,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16599,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16600,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16601,0e9a915bf893faa9160ab1a144c7ba5049a4fe27,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16602,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16603,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16604,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16605,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16606,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16607,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16608,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16609,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16610,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16611,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16612,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16613,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16614,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16615,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16616,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16617,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16618,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16619,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16620,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16621,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16622,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16623,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16624,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16625,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16626,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16627,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16628,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16629,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16630,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16631,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16632,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16633,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16634,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16635,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16636,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16637,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16638,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16639,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16640,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16641,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16642,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16643,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16644,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16645,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16646,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16647,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16648,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16649,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16650,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16651,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16652,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16653,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16654,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16655,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16656,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16657,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16658,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16659,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16660,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16661,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16662,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16663,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16664,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16665,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16666,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16667,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16668,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16669,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16670,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16671,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16672,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16673,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16674,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16675,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16676,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16677,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16678,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16679,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16680,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16681,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16682,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16683,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16684,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16685,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16686,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16687,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16688,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16689,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16690,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
16691,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16692,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16693,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
16694,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16695,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16696,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
16697,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile.template,"# verify Tomcat Native is working properly
"
16698,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16699,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16700,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16701,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16702,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16703,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16704,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16705,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16706,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16707,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16708,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16709,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16710,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16711,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16712,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16713,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16714,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16715,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16716,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16717,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16718,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16719,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16720,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16721,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16722,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16723,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16724,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16725,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16726,fa5fe9c4327c92a99fa2ae63ff876acc8e5389e5,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16727,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16728,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16729,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16730,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16731,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16732,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16733,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16734,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16735,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16736,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16737,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16738,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16739,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16740,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16741,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16742,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16743,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16744,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16745,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16746,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16747,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16748,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16749,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16750,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16751,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16752,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16753,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16754,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"#?}}""; \
"
16755,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16756,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16757,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16758,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16759,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16760,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16761,c130c5c596edced66978f54b4d7fd8b4c2637719,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16762,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16763,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16764,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16765,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16766,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16767,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16768,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16769,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16770,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16771,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16772,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16773,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16774,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16775,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16776,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16777,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16778,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16779,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16780,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16781,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16782,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16783,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16784,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
16785,221fa4f6f1abfa3f033d4be781fa48faecbee212,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16786,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16787,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16788,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16789,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16790,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16791,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16792,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16793,d759792f71eb5889c1e73c01d47a2e1b2a6bae7b,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16794,1691653797eb1f26b4e1d4898c71094ff9104e0e,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16795,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16796,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16797,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16798,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16799,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16800,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16801,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16802,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16803,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16804,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16805,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16806,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16807,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16808,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16809,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16810,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16811,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16812,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16813,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16814,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16815,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16816,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16817,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16818,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16819,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16820,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16821,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16822,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16823,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16824,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16825,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
16826,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16827,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16828,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16829,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16830,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
16831,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16832,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16833,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16834,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16835,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16836,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16837,9040855496452d91d7b0d8abbfd70c60448a07a1,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16838,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16839,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16840,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16841,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16842,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16843,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16844,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16845,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16846,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16847,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16848,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16849,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16850,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16851,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
16852,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
16853,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
16854,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
16855,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16856,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16857,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16858,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16859,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16860,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16861,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16862,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16863,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
16864,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
16865,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
16866,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16867,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16868,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16869,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
16870,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16871,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16872,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16873,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16874,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16875,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16876,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16877,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16878,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16879,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16880,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
16881,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16882,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16883,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16884,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16885,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16886,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16887,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16888,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16889,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16890,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16891,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
16892,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16893,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16894,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16895,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16896,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
16897,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16898,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16899,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16900,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16901,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16902,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16903,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16904,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
16905,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16906,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16907,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16908,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
16909,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16910,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16911,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16912,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16913,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16914,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16915,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16916,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16917,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16918,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16919,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16920,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16921,ac840829bd52309030c8811d292776888109df63,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16922,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16923,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16924,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16925,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16926,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
16927,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
16928,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16929,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
16930,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16931,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16932,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16933,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16934,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16935,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16936,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16937,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16938,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16939,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16940,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16941,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16942,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16943,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16944,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16945,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16946,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16947,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16948,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16949,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"#?}}""; \
"
16950,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16951,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16952,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16953,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16954,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16955,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16956,c130c5c596edced66978f54b4d7fd8b4c2637719,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16957,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16958,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16959,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16960,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16961,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16962,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16963,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16964,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16965,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16966,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16967,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16968,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16969,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16970,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16971,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16972,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16973,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16974,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16975,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16976,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
16977,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
16978,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
16979,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
16980,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
16981,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
16982,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
16983,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
16984,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
16985,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
16986,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
16987,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
16988,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
16989,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
16990,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
16991,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
16992,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
16993,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
16994,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
16995,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
16996,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
16997,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
16998,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
16999,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17000,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17001,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17002,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17003,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17004,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
17005,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17006,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
17007,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17008,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
17009,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17010,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17011,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17012,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
17013,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17014,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17015,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17016,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17017,56e65662f0e151aed90bd255aa97a10de17b8316,/Dockerfile.template,"# verify Tomcat Native is working properly
"
17018,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17019,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17020,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17021,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17022,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17023,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17024,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17025,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17026,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17027,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17028,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17029,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17030,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17031,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17032,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17033,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17034,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17035,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17036,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17037,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17038,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17039,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17040,c94a988c9e74d6a60247e4671a84c95a47d627c9,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17041,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17042,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17043,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17044,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17045,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17046,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17047,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17048,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17049,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17050,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17051,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17052,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17053,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17054,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17055,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17056,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17057,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17058,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17059,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17060,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17061,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17062,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17063,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17064,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17065,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17066,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17067,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17068,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17069,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17070,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17071,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17072,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17073,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17074,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17075,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17076,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17077,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17078,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17079,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17080,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17081,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17082,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17083,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17084,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17085,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17086,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17087,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17088,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17089,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
17090,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17091,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17092,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17093,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17094,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
17095,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17096,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17097,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17098,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17099,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17100,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17101,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17102,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17103,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17104,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17105,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17106,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17107,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
17108,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17109,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
17110,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17111,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
17112,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17113,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17114,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17115,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
17116,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17117,4b72a0a78d129afc6c37574145c19519c977ceed,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17118,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
17119,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17120,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17121,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17122,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17123,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17124,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17125,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17126,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17127,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17128,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17129,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17130,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17131,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17132,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17133,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17134,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17135,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17136,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17137,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17138,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17139,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17140,4d9eeecc2d0ed70ae63b48eb203a4bc4c76481ad,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17141,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17142,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17143,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17144,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17145,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17146,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17147,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17148,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17149,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17150,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17151,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17152,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17153,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17154,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17155,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17156,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17157,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
17158,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17159,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17160,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17161,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17162,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
17163,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17164,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17165,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17166,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17167,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17168,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17169,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17170,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
17171,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17172,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17173,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17174,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17175,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17176,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17177,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17178,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17179,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17180,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17181,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17182,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17183,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17184,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17185,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17186,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17187,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17188,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17189,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17190,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17191,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17192,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17193,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17194,116d0258150ad27d7141d16f7492a5215a4b8fec,/7-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17195,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17196,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17197,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17198,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17199,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17200,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17201,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17202,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17203,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17204,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17205,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17206,8d246358fc604ea70ee19cd4b8809d7b1843c5bd,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17207,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17208,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17209,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17210,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17211,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17212,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17213,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17214,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17215,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17216,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17217,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17218,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17219,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17220,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17221,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17222,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17223,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17224,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17225,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17226,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17227,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17228,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17229,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17230,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17231,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17232,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17233,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17234,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17235,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17236,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17237,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17238,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17239,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17240,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17241,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17242,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17243,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17244,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17245,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17246,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17247,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17248,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17249,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17250,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17251,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17252,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17253,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17254,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17255,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17256,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17257,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17258,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17259,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17260,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17261,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17262,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17263,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17264,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17265,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17266,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17267,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17268,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17269,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17270,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17271,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17272,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17273,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17274,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17275,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17276,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17277,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17278,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17279,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17280,4e9726eb5182dd6fe93402485b9db4aae22177e1,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17281,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17282,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17283,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17284,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17285,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17286,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17287,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17288,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17289,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17290,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17291,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17292,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17293,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17294,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17295,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17296,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17297,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17298,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17299,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17300,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17301,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17302,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17303,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17304,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17305,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17306,56e65662f0e151aed90bd255aa97a10de17b8316,/8.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17307,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17308,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17309,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17310,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17311,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17312,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17313,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17314,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17315,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17316,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17317,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17318,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17319,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17320,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
17321,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17322,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
17323,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
17324,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17325,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17326,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17327,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17328,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17329,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17330,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17331,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17332,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17333,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17334,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17335,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17336,2f54d380e129b67988693a95517eae7985c88b3b,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17337,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17338,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17339,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17340,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17341,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17342,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17343,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17344,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17345,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17346,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17347,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17348,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17349,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17350,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17351,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17352,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17353,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17354,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17355,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17356,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17357,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17358,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17359,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17360,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17361,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17362,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17363,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17364,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17365,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17366,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17367,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17368,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17369,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17370,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17371,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17372,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17373,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17374,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17375,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17376,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17377,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17378,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17379,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17380,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17381,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17382,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17383,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17384,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17385,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17386,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17387,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17388,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17389,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17390,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17391,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17392,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17393,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17394,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17395,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17396,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17397,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17398,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17399,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17400,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17401,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17402,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17403,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17404,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17405,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17406,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17407,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17408,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17409,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17410,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17411,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17412,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17413,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17414,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17415,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17416,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17417,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17418,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17419,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17420,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17421,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17422,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17423,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17424,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17425,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17426,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17427,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17428,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17429,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17430,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17431,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17432,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17433,cde74d619bfe2e522d31b02969822b0d0df0bc6c,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17434,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17435,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17436,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17437,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17438,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17439,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17440,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17441,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17442,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
17443,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17444,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17445,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
17446,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17447,989f50ed5db788921a4954109b90362e2209295e,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
17448,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17449,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17450,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17451,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17452,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17453,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17454,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17455,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17456,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17457,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17458,07ba3db3812d3add3bf51699090ec85a927d4a73,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17459,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17460,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17461,989f50ed5db788921a4954109b90362e2209295e,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17462,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17463,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17464,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17465,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17466,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17467,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17468,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17469,5b0cd615bf08392873a4802dfee2efabf1d71456,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17470,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17471,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17472,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17473,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17474,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17475,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17476,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17477,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17478,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17479,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17480,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17481,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17482,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17483,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17484,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17485,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17486,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17487,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17488,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17489,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17490,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17491,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17492,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17493,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17494,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17495,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17496,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17497,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17498,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17499,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17500,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17501,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17502,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17503,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17504,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17505,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17506,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17507,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17508,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17509,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17510,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
17511,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17512,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17513,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17514,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17515,715c2e43d776debe8a4ef99ec515016e27efa5f8,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
17516,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
17517,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17518,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
17519,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17520,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17521,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17522,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17523,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17524,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17525,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17526,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17527,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17528,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17529,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17530,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17531,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17532,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17533,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17534,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17535,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17536,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17537,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17538,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17539,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17540,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17541,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17542,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17543,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17544,8c3a43c1c4f400ab9dfe6c5fe638b9c5264392c5,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17545,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17546,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17547,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17548,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17549,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17550,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17551,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17552,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17553,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17554,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17555,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17556,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17557,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17558,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17559,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17560,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17561,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17562,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17563,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17564,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17565,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17566,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17567,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17568,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17569,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17570,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17571,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17572,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17573,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17574,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17575,a3690c7d71d468e51f0c01ded83f79c7686a2a35,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17576,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17577,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17578,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17579,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17580,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17581,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17582,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17583,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17584,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17585,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17586,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17587,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17588,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17589,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17590,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17591,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17592,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17593,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17594,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17595,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17596,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17597,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
17598,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17599,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17600,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17601,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17602,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17603,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17604,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17605,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17606,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17607,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17608,200fb67e66016f412b5e8428e48e7794dd7faae7,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17609,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17610,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17611,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17612,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17613,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17614,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17615,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17616,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17617,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17618,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17619,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17620,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17621,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17622,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17623,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17624,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17625,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17626,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17627,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17628,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17629,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17630,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17631,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17632,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17633,c2e33905746e0201acfc6422ca8be6c312f5a237,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17634,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17635,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17636,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17637,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17638,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17639,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17640,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17641,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17642,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17643,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17644,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17645,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17646,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17647,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17648,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17649,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17650,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17651,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17652,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17653,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17654,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17655,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17656,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17657,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17658,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17659,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17660,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17661,4b8ed1747ba0a6e5c9f859e518cecced13335d82,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17662,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17663,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17664,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17665,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17666,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17667,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17668,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17669,cd46dd92802bc82fb544906ae8b0108996c5de65,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17670,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17671,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17672,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17673,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17674,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17675,a227157792e94c669148c3c2a09072fb317070e0,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17676,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17677,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17678,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17679,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17680,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17681,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17682,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17683,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17684,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17685,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17686,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17687,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17688,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17689,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17690,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17691,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17692,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17693,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17694,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17695,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17696,94b99b60320bb01ac9298d1c8f1bceae94637956,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17697,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17698,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17699,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17700,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17701,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17702,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17703,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17704,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17705,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17706,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17707,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17708,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17709,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17710,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17711,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17712,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17713,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17714,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17715,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17716,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17717,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17718,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17719,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17720,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17721,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17722,ffde17a33a1930496bb43c75bc7a826c977d3807,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17723,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17724,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17725,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17726,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17727,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17728,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17729,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17730,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
17731,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17732,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17733,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17734,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17735,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17736,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17737,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17738,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17739,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17740,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17741,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17742,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17743,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17744,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17745,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17746,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17747,06a7e79e30595058df3c2fec9c769e47e2bca56d,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17748,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17749,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17750,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17751,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17752,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17753,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17754,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17755,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17756,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17757,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17758,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17759,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17760,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17761,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17762,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17763,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17764,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
17765,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17766,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17767,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17768,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17769,496bb4416155dff1cb794498fd003e74a22c55fa,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17770,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17771,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17772,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17773,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17774,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17775,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17776,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17777,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17778,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17779,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17780,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17781,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17782,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17783,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17784,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17785,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17786,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17787,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17788,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17789,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17790,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17791,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17792,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17793,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17794,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17795,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17796,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17797,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17798,7fe8b97db15cdd3139efe72fcaeee53910560e19,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17799,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17800,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17801,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
17802,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
17803,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
17804,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17805,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17806,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17807,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17808,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
17809,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
17810,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17811,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17812,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17813,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
17814,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17815,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17816,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17817,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17818,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
17819,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
17820,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17821,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17822,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17823,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17824,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17825,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17826,86d4d5031e14a9274e1fa2bd4211ab03440e883d,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17827,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17828,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17829,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17830,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17831,0f87a57ed953808a7c8d4ffaab5b112c42fb7431,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17832,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17833,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17834,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17835,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17836,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17837,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17838,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17839,c5b4144188006445b32a9897f6ecd617afce7929,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17840,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17841,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17842,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17843,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17844,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17845,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17846,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17847,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17848,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17849,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17850,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17851,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
17852,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17853,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17854,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17855,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17856,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17857,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17858,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17859,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17860,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17861,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17862,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17863,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17864,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17865,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17866,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17867,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17868,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17869,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17870,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17871,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17872,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17873,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17874,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17875,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17876,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17877,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17878,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17879,09406a39e2a096338762737c2f716effee73533f,/8.5/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17880,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17881,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17882,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17883,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17884,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17885,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17886,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17887,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17888,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17889,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17890,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17891,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17892,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17893,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17894,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17895,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17896,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17897,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17898,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17899,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17900,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17901,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17902,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17903,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17904,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17905,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17906,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17907,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17908,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17909,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17910,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17911,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17912,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17913,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17914,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17915,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
17916,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17917,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17918,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17919,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17920,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17921,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17922,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17923,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17924,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17925,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17926,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17927,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17928,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17929,9bfd9b313303a607aff9a837d95609c67e7c9da6,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
17930,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17931,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17932,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17933,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17934,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
17935,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17936,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17937,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17938,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17939,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17940,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17941,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
17942,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17943,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17944,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17945,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17946,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
17947,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17948,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17949,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17950,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17951,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17952,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17953,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17954,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17955,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17956,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17957,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17958,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17959,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17960,f463e9ea9129f16ed8f5c2cf7ebca1ffb65177b2,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
17961,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17962,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
17963,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
17964,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
17965,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
17966,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17967,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
17968,2b55df5b9feaa7b8354e8b2419a88e494a110621,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
17969,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17970,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17971,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17972,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17973,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17974,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17975,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17976,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17977,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17978,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17979,d570ad0cee10e4526bcbb03391b2c0e322b59313,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17980,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17981,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17982,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17983,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
17984,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
17985,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
17986,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
17987,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
17988,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
17989,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
17990,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
17991,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
17992,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
17993,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
17994,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
17995,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
17996,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
17997,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
17998,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
17999,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18000,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18001,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18002,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18003,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18004,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18005,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18006,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18007,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18008,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18009,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18010,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18011,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18012,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18013,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18014,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18015,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18016,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18017,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18018,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18019,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18020,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18021,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18022,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18023,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18024,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18025,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18026,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18027,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18028,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18029,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18030,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18031,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18032,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18033,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18034,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18035,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18036,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18037,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18038,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18039,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18040,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18041,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18042,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18043,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18044,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18045,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18046,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18047,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18048,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18049,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18050,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18051,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18052,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18053,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18054,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18055,91cbc3af72ddf06078da3e7e9ba3ebf431001f28,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18056,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18057,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18058,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18059,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18060,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18061,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18062,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18063,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18064,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18065,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18066,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18067,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18068,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18069,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18070,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18071,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18072,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18073,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18074,de721901dcf99bedb89af3cde8711fe84b8c680c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18075,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18076,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18077,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18078,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18079,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18080,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18081,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18082,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18083,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18084,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18085,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18086,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18087,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18088,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18089,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18090,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18091,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18092,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18093,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18094,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18095,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18096,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18097,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18098,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18099,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18100,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18101,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18102,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18103,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18104,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18105,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18106,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18107,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18108,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18109,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18110,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18111,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18112,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18113,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18114,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18115,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18116,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18117,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18118,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18119,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18120,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18121,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18122,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18123,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18124,92bd4324e50c57fc1779ccc97c61aaa53bc0020d,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18125,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18126,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18127,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18128,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18129,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18130,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18131,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18132,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18133,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18134,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18135,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18136,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18137,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18138,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18139,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18140,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18141,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18142,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18143,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18144,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
18145,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18146,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18147,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18148,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18149,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18150,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18151,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18152,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18153,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18154,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18155,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18156,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18157,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18158,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18159,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18160,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18161,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18162,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18163,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18164,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18165,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18166,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18167,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18168,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18169,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18170,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18171,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18172,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18173,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18174,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18175,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18176,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18177,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18178,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18179,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18180,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18181,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18182,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18183,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18184,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18185,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# let ""Tomcat Native"" live somewhere isolated
"
18186,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18187,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18188,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18189,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18190,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18191,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18192,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18193,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/Dockerfile-apt.template,"# verify Tomcat Native is working properly
"
18194,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18195,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18196,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18197,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18198,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18199,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18200,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18201,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18202,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18203,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18204,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18205,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18206,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18207,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18208,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18209,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18210,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18211,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18212,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18213,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18214,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18215,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18216,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18217,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18218,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18219,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18220,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18221,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18222,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18223,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18224,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18225,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18226,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18227,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18228,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18229,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18230,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18231,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18232,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18233,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18234,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18235,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18236,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18237,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18238,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18239,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18240,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18241,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18242,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18243,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18244,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18245,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18246,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18247,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18248,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18249,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18250,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18251,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18252,113253d06d1cbd4b7d6ad7a505b02e3180c3f7ee,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
18253,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18254,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18255,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18256,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18257,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18258,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18259,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18260,64166c6cb450e6701d7b493d1d296c6c1c972a1e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18261,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18262,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18263,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18264,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18265,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18266,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18267,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18268,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18269,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18270,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18271,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18272,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18273,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18274,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18275,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18276,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18277,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18278,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18279,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18280,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18281,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18282,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18283,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18284,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18285,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18286,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18287,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18288,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18289,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18290,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18291,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18292,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18293,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18294,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18295,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18296,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18297,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18298,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18299,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18300,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18301,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18302,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18303,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18304,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18305,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18306,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18307,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18308,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18309,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18310,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18311,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18312,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18313,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18314,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18315,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18316,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18317,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18318,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18319,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18320,59c92f282053ececa51e2afe06b6c979abae9922,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18321,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18322,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18323,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18324,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18325,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18326,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18327,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18328,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18329,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18330,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18331,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18332,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18333,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18334,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18335,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18336,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18337,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18338,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18339,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18340,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18341,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18342,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18343,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18344,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18345,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18346,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18347,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18348,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18349,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18350,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18351,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18352,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18353,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18354,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18355,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18356,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18357,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18358,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18359,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18360,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18361,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18362,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18363,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18364,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18365,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18366,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18367,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18368,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18369,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18370,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18371,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18372,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18373,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18374,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18375,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18376,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18377,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18378,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18379,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18380,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18381,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18382,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18383,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18384,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18385,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18386,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18387,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18388,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18389,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18390,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18391,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18392,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18393,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18394,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18395,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18396,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18397,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18398,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18399,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18400,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18401,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18402,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18403,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18404,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18405,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18406,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18407,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18408,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18409,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18410,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18411,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18412,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18413,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18414,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18415,545107b374ce0b807a29ed958207d177576761ad,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18416,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18417,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18418,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18419,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18420,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18421,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18422,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18423,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18424,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18425,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18426,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18427,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18428,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18429,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18430,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18431,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18432,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18433,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18434,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18435,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18436,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18437,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18438,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18439,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18440,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18441,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18442,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18443,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18444,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18445,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18446,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18447,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18448,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18449,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18450,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18451,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18452,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18453,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18454,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18455,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18456,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18457,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18458,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18459,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18460,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18461,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18462,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18463,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18464,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18465,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18466,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18467,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18468,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18469,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18470,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18471,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18472,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
18473,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18474,77323f32b92405944da026c68428e3180e6bc33a,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18475,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18476,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18477,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18478,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18479,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18480,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18481,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18482,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18483,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18484,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18485,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18486,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18487,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18488,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18489,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18490,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18491,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18492,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18493,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18494,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18495,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18496,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18497,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18498,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18499,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18500,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18501,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18502,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18503,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18504,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18505,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18506,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18507,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18508,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18509,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18510,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18511,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18512,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18513,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18514,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18515,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18516,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18517,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18518,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18519,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18520,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18521,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18522,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18523,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18524,fe11a5d3316d12d4b68c05f2006fb35a8c8a80c1,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18525,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18526,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18527,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18528,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18529,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18530,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18531,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18532,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18533,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18534,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18535,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18536,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18537,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18538,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18539,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18540,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18541,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18542,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18543,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18544,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
18545,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18546,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
18547,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18548,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
18549,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18550,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18551,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18552,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
18553,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18554,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18555,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18556,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18557,7eae995786f14b4e96010bcc11338724706e30eb,/Dockerfile.template,"# verify Tomcat Native is working properly
"
18558,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18559,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18560,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18561,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18562,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18563,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18564,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18565,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18566,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18567,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18568,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18569,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18570,656c22d037ccaa6adaedbb791febbd2e5197fadd,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18571,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18572,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18573,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18574,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18575,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18576,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18577,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18578,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18579,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18580,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18581,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18582,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18583,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18584,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18585,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18586,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18587,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18588,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18589,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18590,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18591,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18592,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18593,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18594,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18595,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18596,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18597,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18598,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18599,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18600,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18601,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18602,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18603,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18604,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18605,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
18606,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18607,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18608,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18609,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18610,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
18611,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18612,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18613,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18614,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18615,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18616,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18617,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18618,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18619,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18620,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18621,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18622,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18623,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18624,7dd0c6e5c1163321e8e2359ba15add36604ffae4,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18625,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18626,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18627,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18628,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18629,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18630,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18631,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18632,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18633,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18634,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18635,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18636,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18637,3b05667011a600a2f46422dd533467eff8e7fecf,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18638,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18639,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18640,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18641,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18642,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18643,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18644,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18645,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18646,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18647,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18648,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18649,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18650,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18651,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18652,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18653,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18654,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18655,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18656,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18657,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18658,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18659,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18660,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18661,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18662,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18663,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18664,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18665,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18666,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18667,f26c14147f9affae8f32100430130271fc82bd3e,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18668,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18669,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18670,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18671,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18672,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18673,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18674,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18675,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18676,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18677,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18678,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18679,20a00bb175913f9597ba3831bacbe99d2a470403,/8.5/jdk8/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18680,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18681,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18682,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18683,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18684,81c66e2e695ad5548b726841c00512a9acf18eb5,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
18685,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
18686,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18687,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18688,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18689,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
18690,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18691,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18692,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18693,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18694,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18695,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18696,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18697,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18698,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18699,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18700,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18701,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18702,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18703,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18704,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18705,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18706,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18707,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18708,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18709,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18710,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18711,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18712,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18713,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18714,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18715,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18716,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18717,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18718,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18719,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18720,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18721,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18722,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18723,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18724,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
18725,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18726,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18727,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
18728,aceabe036433c68b278767811bac728c6db4f8b3,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
18729,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18730,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18731,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18732,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18733,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18734,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18735,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18736,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18737,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18738,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18739,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18740,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18741,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18742,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18743,53eda0cc852c3478aeda35c9ab174903178f9b77,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18744,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18745,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18746,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18747,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18748,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18749,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18750,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18751,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18752,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18753,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18754,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18755,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18756,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18757,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18758,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18759,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18760,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18761,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18762,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18763,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18764,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18765,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18766,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18767,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18768,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18769,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18770,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18771,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18772,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18773,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18774,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18775,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18776,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18777,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18778,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18779,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18780,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18781,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18782,7eae995786f14b4e96010bcc11338724706e30eb,/9.0/jdk11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18783,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18784,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18785,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18786,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18787,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18788,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18789,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18790,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18791,a041e006c1713abd79d67de3a057b845112f19ad,/9.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18792,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18793,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18794,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18795,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18796,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
18797,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18798,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18799,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18800,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18801,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18802,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18803,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
18804,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18805,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18806,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18807,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18808,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18809,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18810,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18811,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18812,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18813,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18814,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18815,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18816,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18817,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18818,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18819,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18820,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18821,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18822,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18823,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18824,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18825,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18826,a227157792e94c669148c3c2a09072fb317070e0,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18827,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18828,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18829,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18830,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18831,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18832,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18833,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18834,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18835,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18836,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18837,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18838,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18839,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18840,c0df3d5463944671fefe200bdadd95c69a616ab4,/7/jre7-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18841,31289c61ce9a5ad829ca9ad8adabf0e3160f16e8,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18842,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18843,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18844,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18845,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18846,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18847,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18848,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18849,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18850,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18851,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18852,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18853,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18854,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18855,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18856,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18857,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18858,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
18859,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18860,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18861,9532e6813b3a64a058af3d21526a9c02b59ab2b7,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18862,42acf24d6056b82d396da6658943f5c26e7b5cc1,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18863,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18864,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18865,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18866,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18867,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
18868,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
18869,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18870,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18871,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18872,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18873,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
18874,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
18875,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
18876,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
18877,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
18878,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
18879,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18880,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18881,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18882,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18883,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18884,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18885,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18886,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18887,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18888,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18889,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18890,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18891,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18892,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
18893,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18894,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18895,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18896,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18897,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18898,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18899,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18900,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18901,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18902,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18903,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18904,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18905,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18906,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18907,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18908,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18909,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18910,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18911,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18912,ba5a6d7b9fb9fa08480cc53a4ed707ea73cdc4ce,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18913,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18914,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18915,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18916,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18917,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18918,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18919,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18920,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18921,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18922,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18923,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18924,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18925,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18926,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18927,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18928,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18929,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18930,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18931,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18932,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18933,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18934,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18935,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18936,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18937,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18938,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
18939,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18940,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18941,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18942,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18943,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18944,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18945,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18946,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18947,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18948,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
18949,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18950,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18951,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
18952,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
18953,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
18954,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18955,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18956,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
18957,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
18958,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18959,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18960,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18961,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
18962,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18963,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18964,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18965,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18966,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18967,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
18968,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18969,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
18970,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18971,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18972,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18973,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
18974,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18975,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18976,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18977,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18978,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18979,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
18980,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
18981,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18982,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18983,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
18984,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
18985,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18986,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
18987,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
18988,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
18989,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
18990,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
18991,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
18992,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
18993,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
18994,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
18995,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
18996,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
18997,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
18998,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
18999,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19000,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19001,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19002,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19003,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19004,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19005,cb70d3024fc6c3e5ee88ad1616e6e85633e51a0c,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19006,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19007,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19008,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19009,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19010,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19011,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19012,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19013,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19014,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19015,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19016,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19017,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19018,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19019,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19020,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19021,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19022,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19023,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19024,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19025,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19026,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19027,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19028,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19029,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19030,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19031,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19032,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19033,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19034,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19035,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19036,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19037,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19038,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19039,460dd07bda6a533d8ad7ca8c03ad78d715575056,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19040,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19041,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19042,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19043,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19044,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19045,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19046,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19047,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19048,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19049,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19050,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19051,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19052,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19053,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19054,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19055,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19056,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19057,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19058,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19059,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19060,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19061,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19062,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19063,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19064,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19065,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19066,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19067,84fc76939453c0bec4937ae8e6fe4f1ecc0d6d19,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19068,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19069,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19070,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19071,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19072,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19073,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19074,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19075,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19076,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19077,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19078,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19079,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19080,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19081,c0df3d5463944671fefe200bdadd95c69a616ab4,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
19082,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19083,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19084,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19085,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19086,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19087,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19088,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19089,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19090,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19091,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19092,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19093,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19094,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19095,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19096,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19097,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19098,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19099,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19100,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19101,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19102,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19103,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19104,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19105,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19106,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19107,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19108,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19109,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19110,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19111,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19112,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19113,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19114,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19115,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19116,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19117,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19118,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19119,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19120,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19121,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19122,d183e24a7f4239f84bf521ac96690904adb21a86,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19123,2f17559d7a1c62dbc17b63750b31a0beea205120,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19124,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19125,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19126,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19127,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19128,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19129,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19130,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19131,eba2c31453300691978be256d5416821a788850d,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19132,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19133,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19134,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19135,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19136,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19137,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19138,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19139,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19140,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19141,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19142,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19143,6659346e799ce48db4942bf701884a1bb0d31508,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19144,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19145,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19146,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19147,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19148,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19149,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
19150,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19151,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
19152,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19153,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19154,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19155,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19156,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19157,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19158,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19159,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19160,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19161,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19162,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19163,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19164,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19165,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19166,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19167,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19168,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19169,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19170,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19171,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19172,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19173,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19174,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19175,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
19176,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19177,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19178,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19179,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19180,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
19181,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19182,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19183,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19184,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19185,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19186,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19187,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19188,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19189,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19190,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19191,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19192,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19193,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19194,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19195,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19196,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19197,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19198,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19199,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19200,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19201,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19202,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19203,5696723b951467b0bcd46c4a830ddb95afb45a5f,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19204,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19205,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19206,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19207,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19208,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19209,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19210,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19211,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19212,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19213,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19214,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19215,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19216,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19217,e06e384de299e232670c398deb8b87cec1893eaf,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19218,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19219,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19220,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19221,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19222,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19223,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19224,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19225,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19226,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19227,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19228,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19229,1838fdf7663a2e2d4bd426c1392e715c6b84fa5b,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19230,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19231,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19232,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19233,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19234,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19235,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19236,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19237,5b0cd615bf08392873a4802dfee2efabf1d71456,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19238,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19239,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19240,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19241,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19242,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19243,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# TODO should we leave these installed, or remove them too?
"
19244,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
19245,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
19246,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19247,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19248,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19249,58c79694a83a12077150ad57b8dd46296548b958,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19250,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19251,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19252,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19253,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19254,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19255,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19256,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19257,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19258,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19259,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19260,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19261,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19262,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19263,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19264,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19265,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19266,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19267,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19268,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19269,e9981a56d9eda2e2782f8e1c4028ee8a12315ec2,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19270,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
19271,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19272,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19273,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19274,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
19275,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19276,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19277,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19278,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19279,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
19280,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19281,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19282,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19283,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19284,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19285,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19286,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19287,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19288,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19289,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19290,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19291,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19292,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19293,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19294,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19295,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19296,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19297,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19298,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19299,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19300,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19301,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19302,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19303,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19304,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19305,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19306,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19307,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19308,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19309,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk12/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19310,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19311,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19312,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19313,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19314,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19315,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19316,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19317,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19318,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19319,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19320,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19321,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19322,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19323,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19324,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19325,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19326,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19327,94b99b60320bb01ac9298d1c8f1bceae94637956,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19328,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19329,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19330,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19331,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19332,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19333,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19334,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19335,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19336,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19337,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19338,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19339,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19340,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19341,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19342,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19343,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19344,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19345,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19346,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19347,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19348,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19349,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19350,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19351,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19352,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19353,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19354,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19355,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19356,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19357,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19358,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19359,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19360,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19361,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19362,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19363,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19364,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19365,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19366,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19367,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19368,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19369,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19370,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19371,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19372,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19373,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19374,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19375,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19376,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19377,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19378,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19379,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19380,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19381,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19382,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19383,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19384,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19385,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19386,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19387,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19388,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19389,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19390,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19391,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19392,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19393,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19394,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19395,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
19396,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19397,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19398,8a2acf4ccfa691465fa41c0828ab6ea47225dfd0,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19399,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19400,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19401,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19402,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19403,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19404,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19405,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19406,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19407,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19408,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19409,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19410,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19411,73156213c57edd31b78b99bb991382dd3c12d2a9,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19412,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19413,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19414,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19415,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19416,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19417,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19418,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19419,fee7a58cbf4e48b97bdea6f2547058ce662ca3b4,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19420,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19421,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19422,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19423,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19424,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19425,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19426,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19427,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19428,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19429,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19430,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
19431,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19432,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19433,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19434,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19435,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
19436,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19437,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19438,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19439,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19440,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19441,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19442,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19443,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19444,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19445,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19446,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19447,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19448,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19449,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19450,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19451,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19452,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19453,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19454,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19455,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19456,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19457,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19458,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19459,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19460,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19461,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19462,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19463,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19464,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19465,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19466,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19467,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19468,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19469,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19470,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19471,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19472,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19473,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19474,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19475,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19476,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19477,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19478,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19479,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19480,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19481,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19482,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19483,91cbc3af72ddf06078da3e7e9ba3ebf431001f28,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19484,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19485,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19486,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19487,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19488,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19489,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19490,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19491,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19492,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19493,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19494,d61dafcbdcbc6715cab5ab6c58a8fa259062400d,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19495,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19496,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19497,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19498,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19499,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19500,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19501,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19502,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19503,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19504,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19505,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19506,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19507,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19508,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19509,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19510,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19511,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19512,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19513,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19514,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19515,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19516,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19517,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19518,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19519,a041e006c1713abd79d67de3a057b845112f19ad,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19520,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19521,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19522,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19523,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19524,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19525,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19526,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19527,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19528,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19529,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19530,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
19531,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19532,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19533,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19534,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19535,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
19536,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19537,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19538,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19539,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19540,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19541,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19542,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19543,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19544,f6240449622b7a185d13cb19604282e7c56476ae,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19545,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19546,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19547,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19548,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19549,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19550,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19551,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19552,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19553,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19554,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19555,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19556,20a00bb175913f9597ba3831bacbe99d2a470403,/10.0/jdk11/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19557,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19558,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19559,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19560,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19561,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19562,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19563,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19564,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19565,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19566,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19567,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19568,778588dc5bfca8086215ff2706dabcd823dc6008,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19569,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19570,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19571,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19572,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19573,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19574,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19575,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19576,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19577,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19578,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19579,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19580,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19581,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19582,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19583,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19584,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19585,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19586,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19587,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19588,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19589,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19590,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19591,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
19592,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19593,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19594,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19595,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19596,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19597,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19598,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19599,d485a5c4bfdb50a93ae36e212bbf6b2e6e1bdd9e,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19600,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19601,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19602,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19603,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19604,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19605,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19606,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19607,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19608,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19609,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19610,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19611,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
19612,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19613,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
19614,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19615,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
19616,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19617,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19618,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19619,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
19620,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19621,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19622,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19623,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19624,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19625,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19626,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19627,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19628,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19629,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19630,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19631,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19632,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19633,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19634,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19635,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19636,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19637,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19638,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19639,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19640,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19641,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19642,7392659258be9e70dd2c93faa7aadacd060ab4d2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19643,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19644,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19645,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19646,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19647,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19648,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19649,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19650,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19651,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19652,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19653,807a2b4f219d70f5ba6f4773d4ee4ee155850b0d,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19654,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19655,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19656,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19657,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19658,a7f6cf3172b5875be5108bfbbea87ecb94bc4626,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19659,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19660,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19661,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19662,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19663,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19664,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19665,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19666,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19667,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19668,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19669,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19670,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19671,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19672,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19673,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19674,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19675,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19676,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19677,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19678,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19679,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19680,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19681,37baee2462247279efcf9e072f55d4ff3086a7a9,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19682,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19683,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19684,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19685,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19686,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19687,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19688,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19689,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19690,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19691,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19692,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19693,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19694,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19695,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19696,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19697,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19698,c69707c90aead5fb901062271cdb5b1f134f8df1,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
19699,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19700,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19701,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19702,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19703,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19704,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19705,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19706,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19707,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19708,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19709,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19710,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19711,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19712,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19713,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19714,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19715,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19716,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19717,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19718,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19719,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19720,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19721,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19722,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19723,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19724,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19725,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19726,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19727,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19728,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19729,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19730,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19731,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19732,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19733,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/8.5/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
19734,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19735,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19736,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19737,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19738,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19739,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19740,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19741,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19742,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19743,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19744,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19745,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19746,e826a7e6953f03f8fa03a9faed70721d6de1d3df,/6-jre8/Dockerfile,"# add our user and group first to make sure their IDs get assigned consistently, regardless of whatever dependencies get added
"
19747,e826a7e6953f03f8fa03a9faed70721d6de1d3df,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19748,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19749,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19750,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
19751,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
19752,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
19753,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19754,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19755,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19756,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19757,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19758,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
19759,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
19760,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19761,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19762,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19763,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/9.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
19764,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19765,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19766,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19767,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19768,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19769,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19770,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19771,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19772,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19773,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19774,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19775,abef52206ba44c495a37a90a8de3ab6d40431f12,/7/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19776,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19777,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19778,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19779,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19780,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19781,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19782,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19783,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19784,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19785,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19786,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19787,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
19788,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19789,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19790,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19791,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19792,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19793,6b46a2812e6a8ad528a8004fa16ea66cc48b1420,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
19794,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19795,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19796,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19797,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19798,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19799,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19800,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19801,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19802,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19803,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19804,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19805,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19806,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19807,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19808,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19809,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19810,2b8ccaf69e5f338e04a04ee934a69c37384dd1e2,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19811,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19812,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19813,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
19814,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19815,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19816,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19817,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19818,81c66e2e695ad5548b726841c00512a9acf18eb5,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19819,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19820,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19821,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19822,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19823,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19824,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19825,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19826,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19827,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19828,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19829,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19830,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19831,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19832,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
19833,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19834,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19835,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19836,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19837,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19838,d44c35d4ec4907263cdfad76d6c56e6676ddd382,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19839,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19840,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19841,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19842,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19843,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19844,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19845,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19846,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19847,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19848,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19849,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19850,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19851,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19852,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19853,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19854,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19855,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19856,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19857,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19858,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19859,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19860,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19861,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19862,2f54d380e129b67988693a95517eae7985c88b3b,/8.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19863,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19864,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19865,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19866,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19867,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19868,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19869,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19870,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19871,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19872,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19873,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19874,2f54d380e129b67988693a95517eae7985c88b3b,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19875,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19876,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19877,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19878,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19879,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19880,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19881,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19882,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19883,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19884,c0df3d5463944671fefe200bdadd95c69a616ab4,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19885,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19886,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19887,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19888,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19889,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19890,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19891,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19892,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19893,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19894,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19895,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19896,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19897,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19898,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19899,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19900,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19901,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19902,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19903,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19904,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19905,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19906,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19907,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19908,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19909,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19910,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19911,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19912,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19913,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19914,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19915,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19916,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19917,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19918,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19919,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19920,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19921,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19922,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
19923,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19924,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19925,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19926,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19927,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19928,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19929,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19930,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19931,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19932,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19933,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19934,58ae57a15b0b06bc97d91ba144c5fb99d6ca2067,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19935,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19936,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19937,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19938,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19939,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19940,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19941,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19942,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19943,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19944,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19945,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19946,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19947,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19948,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
19949,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19950,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19951,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19952,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19953,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19954,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
19955,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19956,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
19957,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19958,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19959,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19960,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
19961,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
19962,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
19963,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
19964,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19965,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19966,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19967,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19968,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
19969,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19970,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19971,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19972,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
19973,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19974,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
19975,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
19976,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
19977,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
19978,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
19979,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19980,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
19981,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19982,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19983,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
19984,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19985,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19986,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19987,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
19988,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19989,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19990,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
19991,7392659258be9e70dd2c93faa7aadacd060ab4d2,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
19992,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
19993,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
19994,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
19995,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
19996,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
19997,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
19998,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
19999,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20000,efe59ebe52ba94045f4923be85214f4431a982a6,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20001,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20002,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20003,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20004,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20005,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20006,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20007,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20008,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20009,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20010,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20011,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20012,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20013,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20014,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20015,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20016,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20017,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20018,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20019,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20020,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20021,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20022,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20023,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20024,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20025,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20026,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20027,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20028,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20029,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20030,22269be2cf23e1f7b17331a90db4f4ed9c9d1f65,/8.5/jdk14/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20031,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20032,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20033,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20034,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20035,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20036,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20037,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20038,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20039,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20040,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20041,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20042,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20043,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20044,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20045,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20046,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20047,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20048,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20049,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20050,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20051,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20052,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20053,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20054,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20055,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20056,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20057,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20058,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20059,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20060,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20061,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20062,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20063,e72a07eecdd750daf5690f786fddb4e40fa2c244,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20064,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20065,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20066,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20067,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20068,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20069,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20070,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20071,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20072,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20073,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20074,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20075,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20076,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20077,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20078,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20079,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20080,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20081,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20082,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20083,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20084,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20085,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20086,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20087,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20088,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20089,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20090,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20091,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20092,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20093,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20094,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20095,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20096,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20097,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20098,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20099,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20100,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20101,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20102,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20103,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20104,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20105,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20106,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20107,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20108,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20109,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20110,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20111,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20112,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20113,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20114,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20115,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20116,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20117,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20118,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
20119,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20120,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20121,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20122,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20123,989f50ed5db788921a4954109b90362e2209295e,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
20124,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20125,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20126,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20127,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20128,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20129,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20130,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20131,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20132,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20133,0e7ff602f64ffc447c210dcf72ffa073d17ffed4,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20134,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20135,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20136,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20137,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20138,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20139,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20140,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20141,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20142,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20143,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20144,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20145,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20146,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20147,8ddcad31adce43e00ecc291290de30ac9e1ae543,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
20148,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20149,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20150,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20151,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20152,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20153,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20154,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20155,b1a8927025d9a0c01494d7fbc1ae06cd269bb2f8,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20156,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
20157,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20158,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20159,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
20160,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20161,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20162,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
20163,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/Dockerfile.template,"# verify Tomcat Native is working properly
"
20164,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20165,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20166,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20167,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20168,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20169,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20170,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20171,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20172,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20173,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20174,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20175,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20176,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20177,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20178,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20179,e8a6bec69c82f8d55c5c2c17021a62b36d8bfb19,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20180,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20181,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20182,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20183,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20184,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20185,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20186,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20187,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20188,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20189,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20190,35e89070548111261cf6a9e9398556d5b2c4f7f7,/7/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20191,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20192,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20193,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20194,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20195,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20196,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20197,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20198,a436a06d8fb281a85596dab283a1ee41193b97b3,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20199,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20200,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20201,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20202,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20203,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20204,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20205,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20206,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20207,a041e006c1713abd79d67de3a057b845112f19ad,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20208,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20209,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20210,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20211,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20212,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20213,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20214,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20215,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20216,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20217,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20218,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20219,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20220,437ad1d98f2ca7667df856d13922b23a22b719d0,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20221,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20222,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20223,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20224,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20225,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20226,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20227,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20228,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20229,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20230,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20231,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# mark any explicit dependencies as manually installed
"
20232,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20233,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20234,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20235,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20236,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/10.0/jdk14/openjdk-oraclelinux7/Dockerfile,"# verify Tomcat Native is working properly
"
20237,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20238,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20239,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
20240,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
20241,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20242,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20243,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20244,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20245,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20246,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20247,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20248,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20249,9b435c815366378b65a78fa84d3bed5642fddaa6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20250,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20251,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20252,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20253,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20254,7c4365e43f352c981a97eae5090bb055a68ff6a9,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20255,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20256,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20257,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20258,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20259,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20260,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20261,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20262,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20263,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20264,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20265,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20266,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20267,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20268,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20269,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20270,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20271,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20272,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20273,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20274,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20275,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20276,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20277,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20278,8aed00cdb1a1f1496895784e80f239079dcee411,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20279,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20280,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20281,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20282,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20283,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20284,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20285,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20286,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20287,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20288,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20289,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20290,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20291,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20292,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20293,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20294,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20295,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20296,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20297,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20298,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20299,ebd6636d596c050c3348f6a53edb3184f35dcaed,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20300,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20301,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20302,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20303,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20304,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20305,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20306,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20307,a0377566c7141395d74420b93c94f8fde72c7aa9,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20308,4e9726eb5182dd6fe93402485b9db4aae22177e1,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20309,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20310,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20311,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20312,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20313,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20314,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20315,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20316,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20317,134944c089ab2e2f741da6f1467d794feac12ebf,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20318,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20319,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20320,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20321,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20322,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20323,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20324,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20325,29f8484d577632d5124082f87719d7ee28ab939e,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20326,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20327,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20328,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20329,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20330,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20331,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20332,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20333,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20334,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20335,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20336,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20337,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20338,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20339,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20340,151e9323ba57b5670d213ba47206700806eb2974,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20341,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
20342,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20343,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
20344,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20345,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
20346,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20347,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20348,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20349,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
20350,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20351,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20352,94b99b60320bb01ac9298d1c8f1bceae94637956,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20353,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20354,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20355,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20356,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20357,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20358,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20359,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20360,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20361,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20362,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20363,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20364,6659346e799ce48db4942bf701884a1bb0d31508,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20365,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
20366,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20367,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
20368,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20369,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20370,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20371,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20372,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20373,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20374,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20375,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
20376,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
20377,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20378,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20379,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20380,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
20381,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20382,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20383,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20384,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20385,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20386,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20387,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20388,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20389,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20390,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20391,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20392,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20393,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20394,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20395,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20396,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20397,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20398,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20399,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20400,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20401,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20402,ac840829bd52309030c8811d292776888109df63,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20403,116d0258150ad27d7141d16f7492a5215a4b8fec,/7-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20404,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20405,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20406,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20407,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20408,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20409,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20410,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20411,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20412,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20413,8c56ba1909ccf6b58d15a6f657b997ea27c23b1a,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20414,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20415,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20416,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20417,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20418,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20419,f41ecae23275c95a4edb9363b4773cdbebf8c5ad,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20420,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20421,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20422,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20423,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20424,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20425,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20426,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20427,f4c146bcc2f16fd1d2919a392adb46c737851dc9,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
20428,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
20429,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20430,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20431,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
20432,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20433,676f0e07000cd25c027b71d2433ddf531a75eefd,/Dockerfile.template,"# verify Tomcat Native is working properly
"
20434,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20435,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20436,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20437,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20438,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20439,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20440,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20441,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20442,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20443,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20444,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20445,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20446,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20447,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20448,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20449,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20450,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20451,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20452,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20453,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20454,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20455,8f1471772b7c1c0fbbaa7c759e1ccdeef2863940,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20456,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20457,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20458,9cabcf1e71b270f31b4ff4d1a30587bb75ef3b76,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20459,82551c9d60c48d35a68b8eb2cc069913be9078ae,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20460,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
20461,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20462,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
20463,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20464,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20465,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20466,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20467,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
20468,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
20469,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20470,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20471,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20472,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
20473,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20474,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20475,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)

"
20476,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5048274.html (ie, HACK HACK HACK)
"
20477,19bdd962a61b69e3a35ddc0a8936854cc2e405f6,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20478,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20479,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20480,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20481,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20482,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20483,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20484,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20485,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20486,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20487,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20488,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20489,6659346e799ce48db4942bf701884a1bb0d31508,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20490,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20491,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20492,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20493,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20494,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20495,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20496,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20497,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20498,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20499,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20500,dbd2272f425b8a124730d2c19f52c02dcfef66a5,/8.5/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20501,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20502,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20503,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20504,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20505,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20506,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20507,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20508,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20509,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20510,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20511,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20512,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20513,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20514,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20515,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20516,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20517,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20518,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20519,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20520,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20521,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20522,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20523,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20524,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20525,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20526,24572bb5195a1ca604cf56109321bf88da8c2805,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20527,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20528,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20529,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20530,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20531,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20532,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20533,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20534,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20535,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20536,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20537,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20538,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20539,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20540,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20541,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20542,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20543,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20544,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20545,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20546,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20547,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20548,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20549,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20550,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20551,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20552,abef52206ba44c495a37a90a8de3ab6d40431f12,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20553,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20554,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20555,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20556,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20557,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20558,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20559,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20560,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20561,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20562,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20563,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20564,0d0bc1a29050bae6041c4de0f8dfb978c46c8238,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20565,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20566,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20567,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20568,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20569,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20570,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20571,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20572,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20573,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20574,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20575,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20576,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20577,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20578,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
20579,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20580,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20581,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20582,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20583,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20584,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20585,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20586,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20587,badbad581716ed77e0952a3522283cb00d46a7db,/7/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20588,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20589,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20590,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20591,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20592,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20593,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20594,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20595,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20596,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/7/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20597,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20598,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20599,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20600,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20601,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20602,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20603,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20604,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20605,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20606,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20607,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20608,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk11/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20609,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20610,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20611,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20612,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20613,4f193f544a7deb2dc95a33f8ea447c235c7d180a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20614,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20615,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20616,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20617,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20618,07b235d59c6a87e8c8ca14918105de993797435a,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20619,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20620,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20621,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20622,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20623,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20624,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20625,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20626,aceabe036433c68b278767811bac728c6db4f8b3,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20627,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20628,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20629,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20630,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20631,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20632,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20633,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20634,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20635,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20636,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20637,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20638,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20639,ac840829bd52309030c8811d292776888109df63,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20640,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20641,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20642,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20643,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20644,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20645,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20646,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20647,9440e94bb99dbb82354c6e46a86a4f3228021956,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20648,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20649,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20650,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20651,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20652,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20653,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20654,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20655,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20656,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20657,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20658,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20659,20a00bb175913f9597ba3831bacbe99d2a470403,/9.0/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20660,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20661,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20662,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20663,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20664,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20665,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20666,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20667,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20668,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20669,c60667e01a4992662254338882cfd3acb94e692c,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20670,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20671,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20672,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20673,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20674,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20675,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20676,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20677,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20678,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20679,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20680,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20681,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/10.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20682,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20683,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20684,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20685,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20686,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20687,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20688,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20689,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20690,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20691,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20692,ac48cbb92d2664675929d013fd163fbc153697d9,/8.5/jdk13/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
20693,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20694,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20695,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20696,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20697,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20698,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20699,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20700,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20701,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20702,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20703,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20704,eebf2f8b88db28cbeee79b7c6b1411401283c4bd,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20705,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20706,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20707,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20708,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20709,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20710,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20711,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20712,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20713,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20714,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20715,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20716,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20717,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20718,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20719,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20720,7c04ab150ae8909b08a775c541e30d70311e1536,/8.5/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20721,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20722,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20723,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20724,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20725,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20726,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20727,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20728,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20729,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20730,2d96f919237f0211d39409da5b2d0de7e3d8733b,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20731,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20732,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20733,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20734,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20735,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20736,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20737,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20738,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20739,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20740,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20741,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20742,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20743,1691653797eb1f26b4e1d4898c71094ff9104e0e,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20744,221fa4f6f1abfa3f033d4be781fa48faecbee212,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20745,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
20746,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20747,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
20748,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20749,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
20750,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20751,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20752,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20753,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
20754,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20755,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20756,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
20757,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20758,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20759,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20760,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20761,aceabe036433c68b278767811bac728c6db4f8b3,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20762,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20763,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20764,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20765,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20766,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20767,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
20768,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20769,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20770,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20771,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20772,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20773,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20774,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20775,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20776,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20777,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20778,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20779,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20780,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
20781,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20782,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20783,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20784,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20785,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20786,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20787,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20788,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20789,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20790,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20791,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20792,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20793,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20794,4b7edb6276a275185ddeb3db989573bf35aca2b5,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
20795,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20796,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20797,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20798,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20799,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20800,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20801,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20802,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20803,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20804,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20805,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20806,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20807,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20808,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20809,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20810,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20811,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20812,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20813,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20814,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20815,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20816,69651de48dbaede28806408828f42d68409bd1df,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20817,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20818,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20819,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20820,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20821,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20822,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20823,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20824,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20825,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20826,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20827,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20828,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20829,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20830,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20831,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20832,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20833,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20834,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20835,644ae253d0e833410fde43bf71b442294cc33613,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20836,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20837,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20838,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20839,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20840,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20841,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20842,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20843,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20844,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20845,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20846,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20847,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20848,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20849,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20850,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20851,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20852,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20853,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20854,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20855,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20856,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20857,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20858,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20859,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20860,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20861,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20862,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20863,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20864,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20865,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20866,215ab750b637a4a8deedc03a0954a646b351758a,/9.0/jdk13/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20867,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20868,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20869,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20870,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20871,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20872,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20873,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20874,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20875,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20876,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20877,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20878,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
20879,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20880,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
20881,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
20882,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
20883,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20884,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
20885,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20886,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20887,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20888,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20889,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20890,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20891,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20892,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20893,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20894,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20895,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20896,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20897,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20898,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20899,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20900,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20901,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20902,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20903,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20904,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20905,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20906,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20907,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20908,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20909,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20910,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20911,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20912,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
20913,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20914,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20915,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20916,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20917,151e9323ba57b5670d213ba47206700806eb2974,/8.5/jdk13/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
20918,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20919,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20920,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
20921,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20922,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20923,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20924,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20925,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
20926,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
20927,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20928,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20929,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20930,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
20931,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20932,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20933,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20934,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20935,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20936,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20937,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20938,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20939,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20940,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20941,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20942,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20943,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20944,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20945,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
20946,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20947,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
20948,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
20949,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
20950,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
20951,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20952,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20953,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
20954,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
20955,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20956,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20957,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20958,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20959,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
20960,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20961,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20962,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20963,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20964,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20965,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20966,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20967,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20968,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20969,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20970,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20971,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/8.5/jdk8/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
20972,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
20973,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
20974,ec75141e3cb6276b07d66c16042152e2d4de119c,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
20975,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
20976,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20977,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20978,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20979,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20980,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20981,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20982,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
20983,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
20984,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
20985,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
20986,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk11/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
20987,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
20988,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
20989,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
20990,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
20991,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
20992,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
20993,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
20994,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
20995,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
20996,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
20997,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
20998,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
20999,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21000,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21001,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21002,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
21003,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21004,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21005,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21006,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21007,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21008,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21009,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21010,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
21011,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21012,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21013,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21014,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21015,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
21016,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21017,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21018,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21019,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21020,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21021,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21022,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21023,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21024,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21025,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21026,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21027,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21028,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21029,d1b23c3fa7e707142739431bbacca7f31f473900,/8.5/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21030,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21031,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21032,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21033,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21034,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21035,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21036,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21037,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21038,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21039,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21040,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21041,271dd9b73316d3cc6f5742207bf8a776c9c8583b,/8.5/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21042,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21043,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21044,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21045,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21046,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21047,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21048,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21049,9c280294942795515740cb6d78b1d51d95b31928,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21050,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21051,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21052,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21053,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21054,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21055,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21056,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21057,eba2c31453300691978be256d5416821a788850d,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
21058,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21059,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21060,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21061,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21062,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21063,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21064,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21065,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21066,2f17559d7a1c62dbc17b63750b31a0beea205120,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21067,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21068,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21069,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21070,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21071,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21072,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21073,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21074,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21075,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21076,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21077,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21078,1043df616963648dd50d5d18310f4826b32d995c,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21079,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21080,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21081,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21082,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21083,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21084,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21085,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21086,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21087,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21088,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21089,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21090,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21091,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21092,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21093,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21094,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21095,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21096,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21097,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21098,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21099,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21100,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21101,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21102,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21103,d4a639435c1183a38034b3b327a5d3ead91ab0ab,/10.0/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
21104,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21105,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21106,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21107,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21108,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21109,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21110,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21111,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21112,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21113,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21114,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21115,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21116,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21117,ec2d88f0a3b34292c1693e90bdf786e2545a157e,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21118,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21119,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21120,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21121,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21122,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21123,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21124,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21125,68ba169d29cbe2a68b3bc8549daadd9b0cb831c6,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
21126,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21127,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21128,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21129,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21130,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21131,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21132,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21133,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21134,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21135,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21136,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21137,fae008566295d1eec89de04385215fdd54eceda5,/9.0/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21138,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21139,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21140,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21141,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21142,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21143,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21144,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21145,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21146,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21147,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21148,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21149,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21150,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21151,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21152,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21153,5ac222d258dc70c77bb3a9a4fab81ea286c9abd1,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21154,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21155,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21156,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21157,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21158,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21159,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21160,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21161,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21162,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21163,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21164,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21165,c2d6f94d967c9bf33000610ed750a9ae2da9c92e,/8.5/jdk8/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
21166,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21167,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21168,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21169,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21170,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21171,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21172,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21173,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21174,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21175,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21176,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21177,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21178,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21179,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21180,5a8577af736ff76ade0afe2f46d03fc6aed43ce1,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21181,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21182,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21183,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21184,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21185,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21186,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21187,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21188,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21189,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21190,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21191,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21192,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21193,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21194,63d1d9301744525ccb96a016be29aaec19d0a5c3,/8.5/jre10-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21195,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21196,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21197,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21198,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21199,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21200,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21201,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21202,81c66e2e695ad5548b726841c00512a9acf18eb5,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21203,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
21204,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21205,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21206,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# except OpenSSL, which is the reason we're here
"
21207,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21208,e7ba4ebb74faf11bd1c8c332d8eaf6aef9feb0ec,/Dockerfile.template,"# verify Tomcat Native is working properly
"
21209,460dd07bda6a533d8ad7ca8c03ad78d715575056,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21210,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21211,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21212,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21213,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21214,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21215,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21216,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21217,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21218,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21219,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21220,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21221,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21222,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21223,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21224,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21225,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21226,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21227,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21228,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21229,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21230,be9bb25a8bec9027dc11a05531ecd1f4171c8411,/8.0/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21231,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21232,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21233,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21234,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21235,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21236,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21237,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21238,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21239,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21240,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21241,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21242,a31bd73be2dafa9429c0ff582bcc6fe94c308992,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
21243,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21244,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21245,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21246,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21247,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21248,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21249,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21250,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21251,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21252,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21253,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21254,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21255,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21256,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21257,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21258,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21259,e73dea3152275683d921eccac10f415ec530a183,/10.0/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
21260,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21261,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21262,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21263,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21264,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21265,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21266,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21267,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21268,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21269,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21270,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21271,943fdc7506700225a3b7738e91352f636f170250,/8.5/jdk8/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
21272,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21273,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21274,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21275,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21276,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21277,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21278,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21279,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21280,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21281,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21282,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21283,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21284,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21285,ccf0fa74f05274f8e00e2a27ca0cc8e04d28f0ec,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21286,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21287,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21288,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21289,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21290,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21291,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21292,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21293,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21294,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21295,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21296,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21297,5d36a1cb80ddf73f37353460a5b1eb0f7a675779,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21298,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
21299,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21300,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21301,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21302,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
21303,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21304,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21305,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21306,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21307,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21308,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21309,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile-alpine.template,"# let ""Tomcat Native"" live somewhere isolated
"
21310,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile-alpine.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21311,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile-alpine.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21312,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile-alpine.template,"# not all the mirrors actually carry the .asc files :'(
"
21313,6bf4db2cda31a8a75dc70db2942a1c85653f6b8b,/Dockerfile-alpine.template,"# verify Tomcat Native is working properly
"
21314,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21315,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21316,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21317,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21318,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21319,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21320,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21321,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21322,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21323,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21324,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21325,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21326,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21327,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21328,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21329,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21330,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21331,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21332,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21333,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21334,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21335,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21336,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21337,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21338,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21339,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21340,9ecc2f5cbaaedbe74c91cc3ecf1bab5192e741a6,/8.5/jre11/Dockerfile,"# verify Tomcat Native is working properly
"
21341,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21342,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21343,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21344,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21345,8323df4824d3661f094a1a6c30ed7e13c0536b9e,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21346,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21347,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21348,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21349,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21350,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21351,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21352,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21353,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21354,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21355,0c424e7244945e69d564fbc27f644ec20f58e193,/8.5/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21356,42acf24d6056b82d396da6658943f5c26e7b5cc1,/8-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21357,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21358,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21359,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21360,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21361,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21362,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21363,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21364,656c22d037ccaa6adaedbb791febbd2e5197fadd,/8.5/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21365,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21366,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21367,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21368,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21369,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21370,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21371,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21372,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21373,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21374,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21375,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21376,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21377,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21378,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21379,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21380,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21381,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21382,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21383,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21384,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21385,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21386,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21387,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21388,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21389,171f0ecab3f65af8db6301f6fa6cf12ce99d7828,/8.5/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21390,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21391,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21392,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21393,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21394,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21395,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21396,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21397,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21398,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21399,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21400,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21401,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21402,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21403,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21404,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21405,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21406,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21407,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21408,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21409,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21410,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21411,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21412,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21413,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21414,ef7f7f0c67640e31e02ebe8d9965c0d20c0cb581,/8.5/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
21415,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21416,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21417,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21418,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21419,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21420,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21421,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21422,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21423,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21424,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21425,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21426,af4b04d13a880a81a73dc2936afdf44147144418,/8.0/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21427,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21428,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21429,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21430,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21431,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21432,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21433,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21434,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21435,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21436,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21437,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21438,5a8eb8d07236e132d98cbada87d32bd0cfd2dd42,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21439,31289c61ce9a5ad829ca9ad8adabf0e3160f16e8,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21440,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21441,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21442,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21443,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21444,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21445,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21446,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21447,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21448,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21449,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21450,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21451,da50a652f7be08ed67a5620c43fe310d4289fc91,/10.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21452,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21453,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21454,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21455,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21456,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21457,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21458,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21459,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21460,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21461,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21462,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21463,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21464,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21465,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21466,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21467,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21468,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21469,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21470,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21471,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21472,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21473,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21474,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21475,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21476,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21477,d78c9c4369915a4f9c087e85f7d79ed51e1f8dd9,/9.0/jre10/Dockerfile,"# verify Tomcat Native is working properly
"
21478,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21479,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21480,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21481,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21482,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21483,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/7/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21484,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# runtime dependency for Tomcat Native Libraries
"
21485,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21486,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21487,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21488,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/6/jre7/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
21489,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21490,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21491,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21492,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21493,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21494,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21495,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21496,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21497,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21498,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21499,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21500,236eadcac2f760d0b88ef8a950c4d0f33ad3da45,/10.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
21501,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21502,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21503,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21504,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21505,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21506,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21507,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21508,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21509,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21510,adfe971b9650e4629d59b1372729c6bbf2b1f12f,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21511,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
21512,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21513,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21514,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21515,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# not all the mirrors actually carry the .asc files :'(
"
21516,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# TODO should we leave these installed, or remove them too?
"
21517,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html (updating ""reason"" to ""user"" for tomcat-native build dependencies)
# TODO find a better/cleaner way to generically interact with the yumdb for the purposes of marking things as automatically/manually installed
"
21518,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# TODO handle ""$nativeBuildDeps"" in a similarly generic way?
"
21519,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21520,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21521,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21522,58c79694a83a12077150ad57b8dd46296548b958,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
21523,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21524,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21525,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21526,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21527,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21528,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21529,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21530,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21531,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21532,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21533,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21534,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21535,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21536,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21537,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21538,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21539,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21540,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21541,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21542,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21543,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21544,bf8fc83c2d03670fd264726690c26bd7c6ef89d5,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
21545,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21546,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21547,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21548,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21549,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21550,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21551,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21552,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21553,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21554,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21555,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21556,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21557,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21558,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21559,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21560,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21561,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21562,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21563,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21564,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21565,5d317a0a21e6c927e415dfc8dd452619ea4b4643,/9.0/jre9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21566,3b05667011a600a2f46422dd533467eff8e7fecf,/6-jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21567,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21568,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21569,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21570,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21571,6541873f38f72fdd2b4aab6afcf692f4a513b05d,/7/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21572,9a104de6086d4a05ca08c193e25ec45a379ba4b2,/8-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21573,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21574,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21575,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21576,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21577,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21578,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21579,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21580,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21581,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21582,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21583,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21584,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21585,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21586,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21587,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21588,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21589,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21590,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21591,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21592,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21593,1c76426151f1d88bc3dc042d5b45174f9f9ae3d0,/9.0/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21594,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21595,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21596,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21597,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21598,2319baf99fe1abfd5abc6e45ba662141cf1cd75a,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21599,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21600,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21601,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21602,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21603,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21604,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21605,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21606,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21607,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21608,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21609,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21610,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21611,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21612,09406a39e2a096338762737c2f716effee73533f,/9.0/jdk8/Dockerfile,"# verify Tomcat Native is working properly
"
21613,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21614,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21615,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21616,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21617,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21618,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21619,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21620,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21621,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21622,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21623,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21624,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21625,8df55d65e8cf2ba159e4409dd7b8b155a531759b,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21626,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21627,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21628,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21629,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21630,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21631,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21632,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21633,5a78361a9ce7ef48979acbcabe2acd9342d0168a,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21634,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21635,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21636,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21637,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21638,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21639,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21640,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21641,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21642,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21643,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21644,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21645,6659346e799ce48db4942bf701884a1bb0d31508,/10.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21646,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21647,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21648,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21649,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21650,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21651,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21652,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21653,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21654,8438be7c4c8434b617903ea5a478441ae04572c1,/8.5/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
21655,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21656,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21657,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21658,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21659,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21660,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21661,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21662,5c76c4a20c9192ca75d9a9739070b7030b64304b,/7/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21663,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21664,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21665,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21666,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21667,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21668,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21669,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21670,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21671,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21672,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21673,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21674,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21675,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21676,f58a6b4236cfe10672c9505aab5024100c9e084d,/9.0/jre11-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21677,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21678,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21679,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21680,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21681,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21682,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21683,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21684,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21685,e45349ec3432c75ca5b7e2ef4cae95276c7dccc7,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21686,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21687,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21688,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21689,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21690,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21691,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21692,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21693,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21694,4b02799c836cf580cf3a31ca2a137abd793b3d62,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21695,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21696,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21697,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21698,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21699,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21700,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21701,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21702,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21703,8348a86101660e76224afcc57c4c9fae4dc76de8,/9.0/jdk11/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21704,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21705,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21706,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21707,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21708,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21709,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21710,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21711,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21712,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21713,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21714,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21715,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
21716,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21717,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21718,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21719,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21720,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21721,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21722,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21723,656c22d037ccaa6adaedbb791febbd2e5197fadd,/7/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
21724,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21725,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21726,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21727,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21728,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21729,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21730,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21731,4259d3d4b068ba8c31ad12a1b9f5e64b058c8a1a,/7/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21732,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21733,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21734,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21735,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21736,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21737,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21738,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21739,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21740,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21741,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21742,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21743,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/10.0/jdk14/openjdk-buster/Dockerfile,"# verify Tomcat Native is working properly
"
21744,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21745,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21746,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21747,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21748,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21749,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21750,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21751,fcc0cd5d0992ec4a07f5844c98b0e3112a0568de,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
21752,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21753,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21754,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21755,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21756,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21757,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21758,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21759,1383c5549ee60522e76b37667c38b4cddc8bbc6d,/8.0/jre7-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21760,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21761,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21762,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21763,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21764,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21765,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"#p' --recursive ""$TOMCAT_NATIVE_LIBDIR"" \
"
21766,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21767,5985bc3fcd2479df62bdada2570651291c2e96b2,/8.5/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21768,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21769,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21770,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21771,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21772,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21773,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21774,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21775,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21776,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21777,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21778,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21779,3f9b2155c4c44e3668fea5e26bae26a6f5b783e3,/8.5/jre10-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21780,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21781,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21782,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21783,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21784,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21785,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21786,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21787,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21788,46fb91d392f48c4e606cb6f845c4be37d6bacffc,/9.0/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21789,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21790,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21791,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21792,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21793,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# if the version is outdated, we have to pull from the archive :/
"
21794,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21795,d7c50a30c9386de1c62f3bb489485b1dfd6fdcad,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21796,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21797,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21798,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21799,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21800,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21801,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21802,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21803,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21804,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21805,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21806,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21807,abef52206ba44c495a37a90a8de3ab6d40431f12,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21808,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21809,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21810,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21811,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21812,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21813,bf4e42c6cd6c6b356e629a7d1d0e86db498016c2,/9.0/jre8-alpine/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21814,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21815,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21816,676f0e07000cd25c027b71d2433ddf531a75eefd,/8.0/jre7-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21817,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21818,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21819,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21820,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21821,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21822,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21823,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21824,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21825,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/9.0/jdk11/openjdk/Dockerfile,"# verify Tomcat Native is working properly
"
21826,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# let ""Tomcat Native"" live somewhere isolated
"
21827,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21828,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# http://yum.baseurl.org/wiki/YumDB.html
"
21829,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21830,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21831,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21832,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21833,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# mark any explicit dependencies as manually installed
"
21834,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# clean up anything added temporarily and not later marked as necessary
"
21835,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21836,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21837,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21838,a041e006c1713abd79d67de3a057b845112f19ad,/Dockerfile-yum.template,"# verify Tomcat Native is working properly
"
21839,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21840,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21841,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21842,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21843,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21844,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21845,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21846,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21847,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21848,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21849,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21850,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21851,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21852,a0d6539860e738c3647ebb33c95d2c274cabc9ea,/9.0/jre8-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21853,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21854,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21855,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21856,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21857,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21858,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21859,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21860,749fadf61fa96e5a6b6d95bb70624e5a5b37080a,/8.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21861,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21862,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21863,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21864,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21865,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21866,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21867,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21868,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21869,576a39f9c78870657da9a76499370bcf2d9cb3ad,/9.0/jdk12/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
21870,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21871,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21872,5f1abae99c0b1ebbd4f020bc4b5696619d948cfd,/7/jre8-alpine/Dockerfile,"# verify Tomcat Native is working properly
"
21873,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21874,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21875,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21876,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21877,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21878,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21879,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21880,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21881,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21882,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21883,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21884,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21885,d52ac18aaed6fcd6b13177d3bd557bea2ce6d608,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21886,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21887,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21888,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21889,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21890,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21891,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21892,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21893,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21894,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21895,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21896,4b72a0a78d129afc6c37574145c19519c977ceed,/8.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21897,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21898,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21899,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21900,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21901,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21902,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
21903,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
21904,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
21905,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
21906,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
21907,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21908,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21909,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21910,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/7/jdk8/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
21911,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21912,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21913,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21914,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21915,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21916,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21917,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21918,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21919,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21920,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21921,4fddd4bc6c1656e34b0da3b374ca0f036b689adb,/9.0/jre8/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21922,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21923,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available (1.0.2g+)
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
"
21924,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from unstable unless we explicitly request them
"
21925,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21926,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21927,989f50ed5db788921a4954109b90362e2209295e,/8.0/jre7/Dockerfile,"# verify Tomcat Native is working properly
"
21928,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21929,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21930,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21931,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21932,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21933,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21934,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21935,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21936,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21937,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21938,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21939,94b99b60320bb01ac9298d1c8f1bceae94637956,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21940,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21941,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21942,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21943,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21944,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21945,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21946,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21947,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21948,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21949,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21950,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21951,7305c149df9cee83afb343c09fa4427d9842da2b,/7/jre7/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21952,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21953,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21954,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21955,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
21956,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21957,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21958,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21959,1cb69781deeac97b2bb138054de3b2f35e9b49a0,/9.0/jre8/Dockerfile,"# verify Tomcat Native is working properly
"
21960,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21961,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21962,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# only add stretch if we're not already building from within stretch
"
21963,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21964,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# ... except OpenSSL, which is the reason we're here
"
21965,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21966,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21967,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
21968,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
21969,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21970,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21971,da8aa30aaa6593e61ab7152bcdfb25a177116ffa,/8.5/jre9-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
21972,ed98c30c1cd42c53831f64dffa78a0abf7db8e9a,/6-jre7/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-8/KEYS
"
21973,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21974,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21975,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21976,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21977,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21978,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21979,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21980,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21981,7cdbab2ce07c1593fc657fd6fac7821a5472dfd2,/8.5/jdk8/openjdk-slim/Dockerfile,"# verify Tomcat Native is working properly
"
21982,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
21983,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
21984,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
21985,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
21986,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
21987,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
21988,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
21989,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
21990,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
21991,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
21992,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
21993,44d5a8ba6e7b85fd4d038e063456c1ae5d6a797a,/7/jdk8/adoptopenjdk-openj9/Dockerfile,"# verify Tomcat Native is working properly
"
21994,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# let ""Tomcat Native"" live somewhere isolated
"
21995,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
21996,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# only add stretch if we're not already building from within stretch
"
21997,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
21998,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# ... except OpenSSL, which is the reason we're here
"
21999,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
22000,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
22001,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# if the version is outdated, we might have to pull from the dist/archive :/
"
22002,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# not all the mirrors actually carry the .asc files :'(
"
22003,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
22004,19e79970b009a783033271e07dab30644ad3081c,/Dockerfile.template,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +

# verify Tomcat Native is working properly
"
22005,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
22006,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# runtime dependencies for Tomcat Native Libraries
# Tomcat Native 1.2+ requires a newer version of OpenSSL than debian:jessie has available
# > checking OpenSSL library version >= 1.0.2...
# > configure: error: Your version of OpenSSL is not compatible with this version of tcnative
# see http://tomcat.10.x6.nabble.com/VOTE-Release-Apache-Tomcat-8-0-32-tp5046007p5046024.html (and following discussion)
# and https://github.com/docker-library/tomcat/pull/31
"
22007,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# add a negative ""Pin-Priority"" so that we never ever get packages from stretch unless we explicitly request them
"
22008,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# except OpenSSL, which is the reason we're here
"
22009,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
22010,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
22011,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
22012,e5ee9fb792276e4558733e22b3fb02af9de91ef5,/6/jre8/Dockerfile,"# TODO find a simple hacky way to verify Tomcat Native is working properly
# (the way we use in 7+ doesn't work here because we have no ""configtest"")

"
22013,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
22014,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
22015,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
22016,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
22017,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
22018,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
22019,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
22020,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
22021,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
22022,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
22023,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# mark any explicit dependencies as manually installed
"
22024,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
22025,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
22026,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
22027,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
22028,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/8.5/jdk11/corretto/Dockerfile,"# verify Tomcat Native is working properly
"
22029,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
22030,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
22031,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
22032,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# if the version is outdated, we might have to pull from the dist/archive :/
"
22033,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# not all the mirrors actually carry the .asc files :'(
"
22034,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# http://yum.baseurl.org/wiki/YumDB.html
"
22035,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# TODO there's an odd bug on Oracle Linux where installing ""cpp"" (which gets pulled in as a dependency of ""gcc"") and then marking it as automatically-installed will result in the ""filesystem"" package being removed during ""yum autoremove"" (which then fails), so we set it as manually-installed to compensate
"
22036,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# a helper function to ""yum install"" things, but only if they aren't installed (and to set their ""reason"" to ""dep"" so ""yum autoremove"" can purge them for us)
"
22037,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# mark any explicit dependencies as manually installed
"
22038,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# clean up anything added temporarily and not later marked as necessary
"
22039,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
22040,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
22041,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
22042,7c0402a27dd83c3ea2ebd43fcbcb307e00061c61,/9.0/jdk12/openjdk-oracle/Dockerfile,"# verify Tomcat Native is working properly
"
22043,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
22044,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
22045,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
22046,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
22047,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
22048,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
22049,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
22050,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
22051,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
22052,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
22053,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
22054,d2f3c19c20ca845c517ae5956d4d6a88531e220b,/9.0/jdk11/adoptopenjdk-hotspot/Dockerfile,"# verify Tomcat Native is working properly
"
22055,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# let ""Tomcat Native"" live somewhere isolated
"
22056,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# see https://www.apache.org/dist/tomcat/tomcat-$TOMCAT_MAJOR/KEYS
# see also ""update.sh"" (https://github.com/docker-library/tomcat/blob/master/update.sh)
"
22057,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://issues.apache.org/jira/browse/INFRA-8753?focusedCommentId=14735394#comment-14735394
"
22058,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if the version is outdated (or we're grabbing the .asc file), we might have to pull from the dist/archive :/
"
22059,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# if all else fails, let's try Maven (https://www.mail-archive.com/users@tomcat.apache.org/msg134940.html; https://mvnrepository.com/artifact/org.apache.tomcat/tomcat; https://repo1.maven.org/maven2/org/apache/tomcat/tomcat/)
"
22060,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# https://tomcat.apache.org/tomcat-9.0-doc/security-howto.html#Default_web_applications
"
22061,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# we don't delete them completely because they're frankly a pain to get back for users who do want them, and they're generally tiny (~7MB)
"
22062,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# reset apt-mark's ""manual"" list so that ""purge --auto-remove"" will remove all build dependencies
"
22063,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# sh removes env vars it doesn't support (ones with periods)
# https://github.com/docker-library/tomcat/issues/77
"
22064,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"#!/bin/sh$|#!/usr/bin/env bash|' '{}' +; \
"
22065,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# fix permissions (especially for running as non-root)
# https://github.com/docker-library/tomcat/issues/35
"
22066,a04b0013aaeb2bc0c68ccb949f4018aecaa85e3d,/9.0/jdk14/openjdk-slim-buster/Dockerfile,"# verify Tomcat Native is working properly
"
